{"version":3,"sources":["layouts/page-head/index.jsx","layouts/side/side-menu/index.js","layouts/side/DragBar.jsx","layouts/side/index.jsx","layouts/page-tabs/index.jsx","layouts/frame/index.jsx","components/error/Error404.jsx","pages/page-routes.js","layouts/page-loading/index.jsx","router/routes.js","router/KeepAuthRoute.jsx","router/KeepPage.jsx","router/AppRouter.jsx","library/utils/storage.js","layouts/breadcrumb/index.js","commons/handle-error.js","commons/handle-success.js","library/ajax/sx-ajax.js","library/ajax/index.js","library/ajax/react-hoc.jsx","mock/url-config.js","commons/ajax.js","layouts/header/logo/logo.png","layouts/footer/index.js","layouts/page-content/index.jsx","library/components/async-select/index.jsx","library/components/context-menu/index.jsx","library/components/draggable-tabs-bar/index.jsx","library/components/modal-hoc/index.jsx","library/components/modal-hoc/ModalContent.jsx","library/components/icon-picker/IconModal.jsx","library/components/icon-picker/index.jsx","library/components/form-element/index.jsx","library/components/form-row/index.jsx","library/components/operator/index.jsx","library/components/pagination/index.jsx","library/components/query-bar/index.jsx","library/components/table/index.jsx","library/components/table-row-draggable/index.jsx","library/components/tool-bar/index.jsx","library/components/user-avatar/index.jsx","library/components/icon/warning.js","library/components/icon/utils.js","library/components/icon/index.jsx","menus.js","layouts/side/style.less","layouts/header/logo/index.js","layouts/header/header-user/ModifyPassword.jsx","layouts/header/header-user/index.js","layouts/header/header-menu/index.jsx","layouts/header/header-full-screen/index.jsx","layouts/header/index.jsx","commons/index.js","library/utils/index.js","theme.js","commons/config-hoc.js","library/utils/dom-event-hoc.jsx","library/utils/pub-sub-hoc.jsx","library/utils/query-hoc.js","models/system.js","models/menu.js","models/side.js","models/all-models.js","models/page.js","models/index.js","models/settings.js","layouts/breadcrumb/style.less","layouts/page-head/style.less","layouts/header/logo/style.less","library/ajax/promise-extends.js","layouts/footer/style.less","layouts/page-content/style.less","layouts/header/header-user/style.less","layouts/header/header-menu/style.less","layouts/header/style.less","layouts/side/side-menu/style.less","layouts/page-tabs/style.less","layouts/frame/style.less","components/error/style.less","App.js","serviceWorker.js","index.js","mock/mockdata/roles.js","mock/mock-roles.js","mock/mockdata/user.js","mock/mock-users.js","mock/simplify.js","mock/index.js","library/utils/tree-utils.js","library/redux/action-types.js","library/redux/handle-async-reducer.js","library/redux/connect-hoc.js","library/redux/middleware-promise.js","library/redux/middleware-sync-reducer-to-local-storage.js","library/redux/index.js","library/redux/middleware-async-action-callback.js","library/redux/connect.js","library/redux/middleware-utils.js","library/redux/check-action.js","library/redux/action-utils.js","layouts/page-link/index.jsx"],"names":["PageHead","this","props","title","breadcrumbs","text","dataSource","Component","defaultProps","SubMenu","SideMenu","handleOpenChange","openKeys","onOpenChange","length","renderNode","item","children","key","path","icon","target","url","type","Item","href","to","pathname","state","from","theme","collapsed","selectedKeys","menuProps","mode","inlineCollapsed","renderMenus","DragBar","isDragging","original","x","y","moved","handleDragStart","event","clientX","clientY","nativeEvent","MouseEvent","which","TouchEvent","touches","setState","onDragStart","handleDragging","preventDefault","onDragging","handleDragEnd","onDragEnd","window","addEventListener","removeEventListener","others","onMouseDown","onTouchStart","className","scrollBarWidth","getScrollBarWidth","Side","connect","menu","menus","topMenu","selectedMenu","side","showSide","show","sideWidth","width","sideCollapsed","sideCollapsedWidth","collapsedWidth","sideDragging","dragging","scrollMenu","prevProps","setTimeout","prevSelectedMenu","selectedMenuNode","inner","querySelector","innerHeight","clientHeight","innerScrollTop","scrollTop","selectedMenuTop","offsetTop","selectedMenuHeight","offsetHeight","handleMenuOpenChange","action","setOpenKeys","handleSideResizeStart","setDragging","handleSideResize","setWidth","handleSideResizeStop","layout","style","sideInnerWidth","outerOverFlow","innerOverFlow","transitionDuration","isTopSideMenu","PAGE_FRAME_LAYOUT","TOP_SIDE_MENU","isSideMenu","SIDE_MENU","hasSide","sideMenus","display","overflow","ref","node","PageTabs","config","router","system","tabs","keepAlive","contextVisible","contextEvent","contextMenu","handleClose","targetPath","closeTab","handleSortEnd","oldIndex","newIndex","splice","setTabs","handleClick","indexOf","encodeURIComponent","split","history","push","handleRightClick","e","tab","renderContextMenu","disabledClose","tabIndex","findIndex","disabledCloseLeft","disabledCloseRight","selectable","onClick","handleMenuClick","SyncOutlined","Divider","disabled","CloseOutlined","CloseCircleOutlined","CloseSquareOutlined","VerticalLeftOutlined","VerticalRightOutlined","refreshTab","refreshAllTab","closeOtherTabs","closeAllTabs","closeLeftTabs","closeRightTabs","currentTab","find","active","tabsBarDataSource","map","tabTitle","flex","textAlign","marginRight","closable","visible","onChange","content","itemWrapper","itemJsx","wrapperClassName","onContextMenu","onSortEnd","onClose","activeKey","parentWidth","FrameTopSideMenu","page","showHead","loading","loadingTip","settings","showPageHead","globalLoading","globalLoadingTip","pageFrameLayout","pageHeadFixed","pageHeadShow","tabsShow","withRouter","getStateFromStorage","loginUser","getLoginUser","userId","id","getMenus","params","onResolve","res","permissions","paths","forEach","code","setLoginUser","setPermissions","setUserPaths","onComplete","getMenuStatus","setTitleAndBreadcrumbs","listen","prevTitle","prevBreadcrumbs","getSelectedMenuByPath","location","parentNodes","unshift","setBreadcrumbs","setTitle","hideHead","document","body","paddingLeft","pageHead","left","titleText","titleIsString","topSpaceClass","windowWidth","innerWidth","sideWidthSpace","Helmet","join","spinning","size","tip","Error404","time","handleGoBack","goBack","bodyOverflow","sI","setInterval","clearInterval","component","Index","NProgress","start","done","alignItems","justifyContent","position","top","right","bottom","noFrameRoutes","noAuthRoutes","keepAliveRoutes","concat","pageRoutes","loadable","fallback","KeepAuthRoute","pubSub","keepAliveSystem","tabsChange","console","timeEnd","noAuth","rest","render","configKeepAlive","isLogin","toLogin","search","currentPath","decodeURIComponent","nextActiveTab","nextActive","prevActiveTab","startsWith","replace","TabComponent","documentElement","publish","prevActiveIndex","index","newAddTab","React","KeepPage","sort","a","b","tabPath","ROUTE_BASE_NAME","process","AppRouter","query","userPaths","systemNoFrame","noFrame","getUserRoutes","routes","queryNoFrame","userRoutes","basename","flexDirection","minHeight","includes","exact","isNoAuthRoute","localStorage","sessionStorage","_keyPrefix","init","options","keyPrefix","setItem","value","JSON","stringify","getItem","parse","clear","localStorageKeys","Object","keys","removeItem","multiGet","values","multiRemove","session","sessionStorageKeys","globalStorage","global","BreadcrumbComponent","iconStyle","renderItems","handleError","error","errorTip","response","status","description","commonTip","message","getErrorTip","duration","handleSuccess","successTip","success","SXAjax","onShowSuccessTip","onShowErrorTip","isMock","instance","axios","create","mockInstance","setDefaultOption","defaults","mockDefaults","timeout","headers","post","put","baseURL","withCredentials","d","method","data","noEmpty","originResponse","Array","isArray","noEmptyData","cancel","CancelToken","isGet","isDelete","defaultsContentType","contentType","isFormType","ajaxPromise","Promise","resolve","reject","cancelToken","c","then","err","canceled","catch","ajax","SxAjax","createAjaxHoc","sxAjax","propName","WrappedComponent","WithSubscription","_$ajax","_$ajaxTokens","ajaxToken","injectProps","displayName","name","getDefaultSettings","_ajax","ajaxHoc","mockUrls","interceptors","request","use","cfg","module","exports","CopyrightOutlined","PageContent","pageLoading","pageLoadingTip","hideLoading","footer","hasFixBottom","Children","__FIX_BOTTOM","rootStyle","marginBottom","isLoading","Option","inputValue","searchByUserInput","handleSearchByUserInput","loadDataByUserInput","onSearch","clearTimeout","st","finally","handleSearchByValue","loadDataByValue","handleSelect","option","onSelect","handleBlur","onBlur","inputAsValue","label","dataMeta","initialValue","defaultValue","defaultActiveFirstOption","allowClear","showSearch","showArrow","optionFilterProp","ContextMenu","contentResult","hideRightContent","setContentPosition","container","winWidth","clientWidth","winHeight","contentWidth","offsetWidth","contentHeight","zIndex","height","boxShadow","SortableItem","SortableElement","classNames","SortableContainerList","SortableContainer","itemClass","isSorting","sorting","isActive","DraggableTabsBar","itemLength","mouseIn","setTabsWidth","items","querySelectorAll","rootContainer","itemCount","rootContainerWidth","maxCount","Math","floor","itemNode","onSortStart","info","handleMouseEnter","handleMouseLeave","axis","distance","onMouseEnter","onMouseLeave","componentName","getTitle","onCancel","fullScreen","destroyOnClose","bodyStyle","padding","maskClosable","ModalContent","handleWindowResize","otherHeight","windowHeight","getElementTop","wrapper","antModalDom","getParentByClassName","classList","surplusSpace","okHtmlType","okText","resetText","cancelText","onOk","onReset","htmlType","icons","types","IconPicker","modal","selectedIcon","handleOk","handleCancel","handleInputChange","filter","it","Search","placeholder","span","cursor","fontSize","handleClear","stopPropagation","border","borderRadius","color","nextProps","prevState","TextArea","Password","FormItem","isInputLikeElement","FormElement","getRules","rules","required","maxLength","minLength","max","min","labelWidth","labelTip","decorator","elementStyle","forwardedRef","noSpace","colon","trim","dependencies","extra","getValueFromEvent","hasFeedback","help","htmlFor","noStyle","labelAlign","labelCol","normalize","shouldUpdate","trigger","validateFirst","validateStatus","validateTrigger","valuePropName","wrapperCol","undefined","wrapperStyle","flexBasis","flexGrow","flexShrink","eleStyle","formLabel","placement","QuestionCircleOutlined","getValueFromEventNoSpace","elementProps","cloneElement","commonProps","opt","treeData","Group","buttonStyle","Button","showTime","RangePicker","MonthPicker","Error","getElement","checked","forwardRef","Operator","loadingIcon","LoadingOutlined","getLabel","i","labelStyle","v","getConfirm","confirm","withKey","altKey","metaKey","ctrlKey","onConfirm","getText","getStatusSwitch","statusSwitch","defaultLabel","Reflect","deleteProperty","moreText","moreContentWidth","moreTrigger","operators","more","isMore","overlay","operatorsLength","DownOutlined","PaginationComponent","showSizeChanger","showQuickJumper","showMessage","pageSize","pageNum","total","onPageNumChange","onPageSizeChange","totalPage","ceil","pageSizeOptions","onShowSizeChange","num","defaultCurrent","current","QueryBar","showCollapsed","handleCollapsedChange","onCollapsedChange","oldOverflow","dispatchEvent","Event","DownCircleOutlined","UpCircleOutlined","TableComponent","tableBodyHeight","setTableBodyHeight","tableBody","tablePlaceholder","tableHead","activeTab","getElementById","pagination","tableHeadHeight","bottomHeight","prevDataSource","scroll","serialNumber","serialText","rowSelection","columns","tableScroll","dataIndex","record","RowElement","ToolBar","valid","warning","fillTester","outlineTester","twoToneTester","themeMap","filled","outlined","twoTone","iconsMap","allIcons","LegacyTypeIcon","themeInName","result","test","getThemeFromTypeName","computedType","upperFirst","camelCase","realTheme","withThemeSuffix","removeTypeTheme","newType","alias","targetIconComponent","createElement","Icon","Boolean","AntdIcon","assign","createFromIconfontCN","getTwoToneColor","setTwoToneColor","parentKey","order","Logo","src","logo","alt","ModifyPassword","centered","log","form","submit","onFinish","initialValues","autoFocus","getFieldValue","validator","rule","HeaderUser","passwordVisible","EditOutlined","SettingOutlined","LogoutOutlined","userMenu","getPopupContainer","UserOutlined","CaretDownOutlined","HeaderMenu","HomeOutlined","HeaderFullScreen","toolTipVisible","handleFullScreenClick","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","element","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","handleFullScreenChange","handleToolTipShow","ST","handleToolTipHide","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","mozFullScreen","webkitIsFullScreen","lineHeight","FullscreenExitOutlined","FullscreenOutlined","Header","handleToggle","setCollapsed","renderToggle","showToggle","backgroundColor","MenuUnfoldOutlined","MenuFoldOutlined","isTopMenu","TOP_MENU","showMenu","topMenus","data-theme","marginLeft","currentUser","avatar","token","userStr","toHome","lastHref","menuTreeData","substring","getNodeByPropertyAndValue","itemValue","isTop","pathToRegexp","exec","getMenuTreeDataAndPermissions","orderedData","aOrder","bOrder","findPath","child","convertToTree","compose","functions","arg","reduce","scrollDiv","appendChild","removeChild","actualTop","offsetParent","el","parentClassName","parentNode","arrayRemove","arr","newArr","cloneDeep","itemIndex","arrayRemoveAll","uniqueArray","array","n","r","handler","attachEvent","detachEvent","appendBreadcrumbs","hocFunctions","modalHoc","addPropName","removePropName","_addedEvents","eventHoc","subscribePropName","publishPropName","WithPubSub","_channel","uuidV4","tokens","topic","fn","PubSub","subscribe","args","unsubscribe","pubSubHoc","queryString","ignoreQueryPrefix","queryHoc","reduxConnect","higherOrderComponents","initFrame","sideAction","nextTitle","setCurrentTabTitle","nextBreadcrumbs","nextAppendBreadcrumbs","hide","tabShowToken","msg","onShow","tabHideToken","onHide","onComponentWillShow","func","onComponentWillHide","initialState","keepOtherOpen","mostUsedMenus","plainMenus","syncStorage","payload","reducer","setKeepOtherOpen","setMenus","getTopNodeByNode","parentKeys","existMostUsedMenu","usedTimes","initWidth","primaryColor","newTabs","setKeepPage","closeCurrentTab","closeTabByPath","closeOthersTab","closeLeftTabIndex","closeLeftTab","slice","closeRightIndex","closeRightTab","setPrimaryColor","showLoading","closeTabIndex","removeTabPath","currentIndex","nextActiveIndex","_menu","_settings","_side","_system","getActionsAndReducers","models","actions","reducers","middleware","thunkMiddleware","middlewarePromise","middlewareAsyncActionCallback","middlewareUtils","middlewareSyncReducerToLocalStorage","configureStore","applyMiddleware","createStore","combineReducers","connectComponent","_connect","createConnectHOC","setPageFrameLayout","setPageHeadFixed","showTabs","prototype","callback","P","constructor","reason","onFulfilled","onRejected","moment","locale","App","zhCN","hostname","match","MOCK","require","storage","sxRedux","store","ReactDOM","navigator","serviceWorker","ready","registration","unregister","getRolesByPageSize","users","Mock","mock","Random","guid","cname","cparagraph","list","random","getUsersByPageSize","loginName","word","email","mobile","is_locked","is_first_login","remark","userName","password","age","job","mocks","delay","toLowerCase","L","toUpperCase","RegExp","reply","simplify","MockAdapter","default","hasParent","rows","row","nodes","toDo","shift","parentTexts","tempNode","compare","loop","cb","SYNC_STATE_TO_STORAGE","toString","GET_STATE_FROM_STORAGE","handleAsyncReducer","always","pending","complete","meta","sequence","getReturnState","preState","newState","alwaysState","rejectState","resolveState","mapStateToProps","LayoutComponent","isPromise","val","syncToStorage","Storage","getStorage","filterObjectByObject","originObj","mapObj","mo","next","onReject","mapDispatchToProps","dispatch","ac","bindActionCreators","mergeProps","com","_createConnectHOC","isFSA","_","uniqueId","getState","pageState","__model_sync_name","__model_sync_state","syncModelName","syncModelState","getHandleError","getHandleSuccess","actionTypes","_actionTypes","_handleError","alert","_handleSuccess","_storage","_actions","acs","actionsFunctions","k","_module","checkAction","utils","syncKeys","createAction","actionUtils","_reducers","modelName","model","__actionTypes","ar","arActions","arReducers","actionName","arValue","identity","commonAsyncMeta","metaCreator","payloadCreator","__reducers","_handleAsyncReducer","newStateKeys","initialStateKeys","newKey","actionCreator","setObjectByObject","handleActions","Link"],"mappings":"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","file":"static/js/main.d74581b2.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Breadcrumb from '../breadcrumb';\nimport './style.less';\n\nexport default class PageHead extends Component {\n    static propTypes = {\n        title: PropTypes.any,\n        breadcrumbs: PropTypes.array,\n    };\n    static defaultProps = {\n        title: '',\n        breadcrumbs: [],\n    };\n\n    render() {\n        let {title, breadcrumbs} = this.props;\n\n        if (typeof title === 'object' && title.text) title = title.text;\n\n        return (\n            <div styleName=\"page-header\">\n                <h1>{title}</h1>\n\n                <div styleName=\"breadcrumb\">\n                    <Breadcrumb dataSource={breadcrumbs}/>\n                </div>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Icon} from 'src/library/components';\nimport {Menu} from 'antd';\nimport {renderNode} from 'src/library/utils/tree-utils';\nimport Link from '../../page-link';\nimport './style.less';\n\nconst SubMenu = Menu.SubMenu;\n\nexport default class SideMenu extends Component {\n    static propTypes = {\n        dataSource: PropTypes.array,    // 菜单数据\n        theme: PropTypes.string,        // 主题\n        collapsed: PropTypes.bool,      // 是否收起\n        openKeys: PropTypes.array,      // 打开菜单keys\n        selectedKeys: PropTypes.array,  // 选中菜单keys\n        onOpenChange: PropTypes.func,   // 菜单打开关闭时触发\n    };\n\n    static defaultProps = {\n        dataSource: [],\n        theme: 'dark',\n        collapsed: false,\n        openKeys: [],\n        selectedKeys: [],\n        onOpenChange: () => true,\n    };\n\n    handleOpenChange = (openKeys) => {\n        this.props.onOpenChange(openKeys);\n    };\n\n    renderMenus() {\n        const {dataSource} = this.props;\n\n        if (dataSource && dataSource.length) {\n            return renderNode(dataSource, (item, children) => {\n                const {\n                    key,\n                    path,\n                    text,\n                    icon,\n                    target,\n                    url,\n                } = item;\n\n                let title = <span>{text}</span>;\n\n                if (icon) title = <span><Icon type={icon}/><span>{text}</span></span>;\n\n                if (children) {\n                    return (\n                        <SubMenu key={key} title={title}>\n                            {children}\n                        </SubMenu>\n                    );\n                }\n\n                return (\n                    <Menu.Item key={key}>\n                        {target ? (\n                            <a href={url} target={target}>\n                                {title}\n                            </a>\n                        ) : (\n                            <Link to={{\n                                pathname: path,\n                                state: {from: 'menu'},\n                            }}>\n                                {title}\n                            </Link>\n                        )}\n                    </Menu.Item>\n                );\n            });\n        }\n        return null;\n    }\n\n    render() {\n        let {theme, collapsed, openKeys, selectedKeys} = this.props;\n        const menuProps = collapsed ? {} : {\n            openKeys,\n        };\n\n        return (\n            <div styleName=\"side-menu\">\n                <Menu\n                    {...menuProps}\n                    selectedKeys={selectedKeys}\n                    mode=\"inline\"\n                    theme={theme}\n                    inlineCollapsed={collapsed}\n                    onOpenChange={this.handleOpenChange}\n                >\n                    {this.renderMenus()}\n                </Menu>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport './style.less';\n\nexport default class DragBar extends Component {\n    constructor(props) {\n        super(props);\n        window.addEventListener('mouseup', this.handleDragEnd);\n        window.addEventListener('touchend', this.handleDragEnd);\n        window.addEventListener('mousemove', this.handleDragging);\n        window.addEventListener('touchmove', this.handleDragging);\n    }\n\n    static propTypes = {\n        onDragStart: PropTypes.func,\n        onDragging: PropTypes.func,\n        onDragEnd: PropTypes.func,\n    };\n    state = {\n        isDragging: false,\n        original: {\n            x: 0,\n            y: 0,\n        },\n        moved: {\n            x: 0,\n            y: 0,\n        },\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('mouseup', this.handleDragEnd);\n        window.removeEventListener('touchend', this.handleDragEnd);\n        window.removeEventListener('mousemove', this.handleDragging);\n        window.removeEventListener('touchmove', this.handleDragging);\n    }\n\n    handleDragStart = (event) => {\n        let clientX = 0;\n        let clientY = 0;\n        if (event.nativeEvent instanceof MouseEvent) {\n            clientX = event.nativeEvent.clientX;\n            clientY = event.nativeEvent.clientY;\n\n            // When user click with right button the resize is stuck in resizing mode\n            // until users clicks again, dont continue if right click is used.\n            if (event.nativeEvent.which === 3) {\n                return;\n            }\n        } else if (event.nativeEvent instanceof TouchEvent) {\n            clientX = event.nativeEvent.touches[0].clientX;\n            clientY = event.nativeEvent.touches[0].clientY;\n        }\n\n        const original = {x: clientX, y: clientY};\n\n        this.setState({isDragging: true, original});\n\n        if (this.props.onDragStart) {\n            this.props.onDragStart();\n        }\n    };\n\n    handleDragging = (event) => {\n        const {isDragging, original} = this.state;\n        if (isDragging) {\n            event.preventDefault();\n            const clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n            const clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n            const {x: originalX, y: originalY} = original;\n            const moved = {\n                x: clientX - originalX,\n                y: clientY - originalY,\n            };\n\n            this.setState({moved});\n\n            if (this.props.onDragging) {\n                this.props.onDragging({...moved, clientX, clientY});\n            }\n        }\n        return false;\n    };\n\n    handleDragEnd = () => {\n        const {isDragging, moved} = this.state;\n        if (isDragging) {\n            this.setState({isDragging: false});\n            if (this.props.onDragEnd) {\n                this.props.onDragEnd(moved);\n            }\n        }\n    };\n\n    render() {\n        const {onDragStart, onDragging, onDragEnd, ...others} = this.props;\n        return (\n            <div\n                {...others}\n                onMouseDown={this.handleDragStart}\n                onTouchStart={this.handleDragStart}\n            >\n                <div styleName=\"drag-bar-icon\" className=\"drag-bar-icon\">\n                    <span/>\n                    <span/>\n                    <span/>\n                    <span/>\n                    <span/>\n                    <span/>\n                    <span/>\n                </div>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {getScrollBarWidth} from 'src/library/utils';\nimport SideMenu from './side-menu';\nimport {connect} from '../../models/index';\nimport {PAGE_FRAME_LAYOUT} from 'src/models/settings';\nimport DragBar from './DragBar';\nimport './style.less';\n\nconst scrollBarWidth = getScrollBarWidth();\n\n@connect(state => {\n    const {menus, openKeys, topMenu, selectedMenu} = state.menu;\n    const {show: showSide, width, collapsed, collapsedWidth, dragging} = state.side;\n    return {\n        menus,\n        openKeys,\n        topMenu,\n        selectedMenu,\n\n        showSide,\n        sideWidth: width,\n        sideCollapsed: collapsed,\n        sideCollapsedWidth: collapsedWidth,\n        sideDragging: dragging,\n    };\n})\nexport default class Side extends Component {\n    static propTypes = {\n        layout: PropTypes.string,\n        theme: PropTypes.string,\n    };\n\n    static defaultProps = {\n        layout: PAGE_FRAME_LAYOUT.SIDE_MENU, // top-menu side-menu\n    };\n\n    componentDidMount() {\n        this.scrollMenu();\n    }\n\n    componentDidUpdate(prevProps) {\n        this.scrollMenu(prevProps);\n    }\n\n    scrollMenu = (prevProps = {}) => {\n        // 等待当前菜单选中\n        setTimeout(() => {\n            const {selectedMenu} = this.props;\n            const {selectedMenu: prevSelectedMenu} = prevProps;\n            if (selectedMenu && prevSelectedMenu && selectedMenu.key === prevSelectedMenu.key) {\n                return;\n            }\n            const selectedMenuNode = this.inner?.querySelector('.ant-menu-item-selected');\n            if (!selectedMenuNode) return;\n\n            const innerHeight = this.inner.clientHeight;\n            const innerScrollTop = this.inner.scrollTop;\n            const selectedMenuTop = selectedMenuNode.offsetTop;\n            const selectedMenuHeight = selectedMenuNode.offsetHeight;\n\n            // 选中的菜单在非可视范围内，滚动到中间位置\n            if (selectedMenuTop < innerScrollTop || (selectedMenuTop + selectedMenuHeight) > (innerScrollTop + innerHeight)) {\n                this.inner.scrollTop = selectedMenuTop - selectedMenuHeight - (innerHeight - selectedMenuHeight) / 2;\n            }\n        }, 300);\n    };\n\n\n    handleMenuOpenChange = (openKeys) => {\n        const {sideCollapsed} = this.props;\n        if (!sideCollapsed) this.props.action.menu.setOpenKeys(openKeys);\n    };\n\n    handleSideResizeStart = () => {\n        this.props.action.side.setDragging(true);\n    };\n\n    handleSideResize = ({clientX}) => {\n        this.props.action.side.setWidth(clientX + 5);\n    };\n\n    handleSideResizeStop = () => {\n        this.props.action.side.setDragging(false);\n    };\n\n    render() {\n        let {\n            theme,\n            layout,\n\n            menus,          // 所有的菜单数据\n            openKeys,       // 当前菜单打开keys\n            topMenu,        // 当前页面选中菜单的顶级菜单\n            selectedMenu,   // 当前选中菜单\n\n            showSide,\n            sideCollapsed,\n            sideCollapsedWidth,\n            sideWidth,\n            sideDragging,\n            style,\n        } = this.props;\n\n        sideWidth = sideCollapsed ? sideCollapsedWidth : sideWidth;\n        const sideInnerWidth = sideWidth + scrollBarWidth;\n        const outerOverFlow = sideCollapsed ? 'visible' : 'hidden';\n        const innerOverFlow = sideCollapsed ? 'visible' : '';\n        let transitionDuration = sideDragging ? '0ms' : `300ms`;\n\n        const isTopSideMenu = layout === PAGE_FRAME_LAYOUT.TOP_SIDE_MENU;\n        const isSideMenu = layout === PAGE_FRAME_LAYOUT.SIDE_MENU;\n        const hasSide = isTopSideMenu || isSideMenu;\n\n        // 左侧菜单数据，与顶部菜单配合显示顶部菜单的子菜单；\n        let sideMenus = menus;\n        if (isTopSideMenu) {\n            sideMenus = topMenu && topMenu.children;\n        }\n        if (isSideMenu) {\n            sideMenus = menus;\n        }\n\n        if (hasSide) return (\n            <div styleName=\"side\" style={{width: sideWidth, display: showSide ? 'block' : 'none', transitionDuration, ...style}}>\n                {sideCollapsed ? null : (\n                    <DragBar\n                        styleName=\"drag-bar\"\n                        onDragStart={this.handleSideResizeStart}\n                        onDragging={this.handleSideResize}\n                        onDragEnd={this.handleSideResizeStop}\n                    />\n                )}\n\n                <div styleName=\"outer\" style={{overflow: outerOverFlow, transitionDuration}}>\n                    <div styleName=\"inner\" ref={node => this.inner = node} style={{width: sideInnerWidth, overflow: innerOverFlow, transitionDuration}}>\n                        <SideMenu\n                            theme={theme}\n                            dataSource={sideMenus}\n                            collapsed={sideCollapsed}\n                            openKeys={openKeys}\n                            selectedKeys={[selectedMenu && selectedMenu.key]}\n                            onOpenChange={this.handleMenuOpenChange}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n        return null;\n    }\n}\n","import React, {Component} from 'react';\nimport {\n    CloseCircleOutlined,\n    CloseOutlined,\n    CloseSquareOutlined,\n    SyncOutlined,\n    VerticalLeftOutlined,\n    VerticalRightOutlined,\n} from '@ant-design/icons';\nimport {Icon} from 'src/library/components';\nimport {Menu} from 'antd';\nimport {DraggableTabsBar} from 'src/library/components';\nimport config from 'src/commons/config-hoc';\nimport {ContextMenu} from 'src/library/components';\nimport './style.less';\n\n@config({\n    router: true,\n    connect: state => ({\n        dataSource: state.system.tabs,\n        keepAlive: state.system.keepAlive,\n    }),\n})\nexport default class PageTabs extends Component {\n    state = {\n        contextVisible: false,\n        contextEvent: null,\n        contextMenu: '',\n    };\n\n    handleClose = (item) => {\n        const {path: targetPath} = item;\n        this.props.action.system.closeTab(targetPath);\n    };\n\n    handleSortEnd = ({oldIndex, newIndex}) => {\n        const dataSource = [...this.props.dataSource];\n\n        // 元素移动\n        dataSource.splice(newIndex, 0, dataSource.splice(oldIndex, 1)[0]);\n\n        this.props.action.system.setTabs(dataSource);\n    };\n\n    handleClick = (item) => {\n        const separator = '/iframe_page_/';\n        let path = item.path;\n        if (path.indexOf(separator) !== -1) {\n            const url = window.encodeURIComponent(path.split(separator)[1]);\n            path = `${separator}${url}`;\n        }\n        this.props.history.push(path);\n    };\n\n\n    handleRightClick = (e, tab) => {\n        e.preventDefault();\n\n        const contextMenu = this.renderContextMenu(tab);\n\n        this.setState({\n            contextVisible: true,\n            contextEvent: {clientX: e.clientX, clientY: e.clientY},\n            contextMenu,\n        });\n    };\n\n    renderContextMenu = (tab) => {\n        const {dataSource, keepAlive} = this.props;\n        const disabledClose = dataSource.length === 1;\n        const tabIndex = dataSource.findIndex(item => item.path === tab.path);\n        const disabledCloseLeft = tabIndex === 0;\n        const disabledCloseRight = tabIndex === dataSource.length - 1;\n\n        return (\n            <Menu\n                selectable={false}\n                onClick={({key: action}) => this.handleMenuClick(action, tab.path)}\n            >\n                {keepAlive ? (\n                    [\n                        <Menu.Item key=\"refresh\">\n                            <SyncOutlined/> 刷新\n                        </Menu.Item>,\n                        <Menu.Item key=\"refreshAll\">\n                            <SyncOutlined/> 刷新全部\n                        </Menu.Item>,\n                        <Menu.Divider key=\"divider\"/>,\n                    ]\n                ) : null}\n                <Menu.Item key=\"close\" disabled={disabledClose}>\n                    <CloseOutlined/> 关闭\n                </Menu.Item>\n                <Menu.Item key=\"closeOthers\" disabled={disabledClose}>\n                    <CloseCircleOutlined/> 关闭其他\n                </Menu.Item>\n                <Menu.Item key=\"closeAll\" disabled={disabledClose}>\n                    <CloseSquareOutlined/> 关闭所有\n                </Menu.Item>\n                <Menu.Item key=\"closeLeft\" disabled={disabledCloseLeft}>\n                    <VerticalLeftOutlined/> 关闭左侧\n                </Menu.Item>\n                <Menu.Item key=\"closeRight\" disabled={disabledCloseRight}>\n                    <VerticalRightOutlined/> 关闭右侧\n                </Menu.Item>\n            </Menu>\n        );\n    };\n\n    handleMenuClick = (action, targetPath) => {\n        const {action: {system}} = this.props;\n\n        if (action === 'refresh') system.refreshTab(targetPath);\n        if (action === 'refreshAll') system.refreshAllTab();\n        if (action === 'close') system.closeTab(targetPath);\n        if (action === 'closeOthers') system.closeOtherTabs(targetPath);\n        if (action === 'closeAll') system.closeAllTabs();\n        if (action === 'closeLeft') system.closeLeftTabs(targetPath);\n        if (action === 'closeRight') system.closeRightTabs(targetPath);\n    };\n\n    render() {\n        const {dataSource, width} = this.props;\n        const {contextVisible, contextEvent, contextMenu} = this.state;\n        const currentTab = dataSource.find(item => item.active);\n\n        const tabsBarDataSource = dataSource.map(item => {\n            let {text: tabTitle, path, icon} = item;\n            let title = tabTitle;\n\n            if (typeof tabTitle === 'object' && tabTitle.text) title = tabTitle.text;\n\n            if (tabTitle?.icon) icon = tabTitle.icon;\n\n            if (icon) title = <div style={{flex: 1, textAlign: 'center'}}><Icon type={icon} style={{marginRight: 4}}/>{title}</div>;\n\n            return {\n                key: path,\n                title,\n                closable: true,\n                ...item,\n            };\n        });\n\n        return (\n            <div styleName=\"root\">\n                <ContextMenu\n                    visible={contextVisible}\n                    onChange={(contextVisible) => this.setState({contextVisible})}\n                    event={contextEvent}\n                    content={contextMenu}\n                />\n                <DraggableTabsBar\n                    dataSource={tabsBarDataSource}\n                    itemWrapper={(itemJsx, item, wrapperClassName) => {\n                        return (\n                            <div\n                                className={wrapperClassName}\n                                onContextMenu={(e) => this.handleRightClick(e, item)}\n                            >\n                                {itemJsx}\n                            </div>\n                        );\n                    }}\n                    onSortEnd={this.handleSortEnd}\n                    onClose={this.handleClose}\n                    onClick={this.handleClick}\n                    activeKey={currentTab?.path}\n                    parentWidth={width}\n                />\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {BackTop, Spin} from 'antd';\nimport {Helmet} from 'react-helmet';\nimport {withRouter} from 'react-router-dom';\nimport PageHead from '../page-head';\nimport Header from '../header';\nimport Side from '../side';\nimport PageTabs from '../page-tabs';\nimport {connect} from 'src/models/index';\nimport {getLoginUser, getSelectedMenuByPath, setLoginUser} from 'src/commons';\nimport {PAGE_FRAME_LAYOUT} from 'src/models/settings';\nimport './style.less';\n\n@withRouter\n@connect(state => {\n    const {selectedMenu, menus} = state.menu;\n    const {title, breadcrumbs, showHead} = state.page;\n    const {show: showSide, width, collapsed, collapsedWidth, dragging} = state.side;\n    const {loading, loadingTip} = state.system;\n    const {pageFrameLayout, pageHeadFixed, pageHeadShow, tabsShow} = state.settings;\n    return {\n        menus,\n        selectedMenu,\n        showPageHead: showHead,\n        title,\n        breadcrumbs,\n\n        showSide,\n        sideWidth: width,\n        sideCollapsed: collapsed,\n        sideCollapsedWidth: collapsedWidth,\n        globalLoading: loading,\n        globalLoadingTip: loadingTip,\n        sideDragging: dragging,\n        layout: pageFrameLayout,\n        pageHeadFixed,\n        pageHeadShow, // 设置中统一控制的头部是否显示\n        tabsShow,\n    };\n})\nexport default class FrameTopSideMenu extends Component {\n    constructor(...props) {\n        super(...props);\n        const {action: {menu, side, system}} = this.props;\n        // 从Storage中获取出需要同步到redux的数据\n        this.props.action.getStateFromStorage();\n\n        const loginUser = getLoginUser();\n        const userId = loginUser?.id;\n\n        // 获取系统菜单 和 随菜单携带过来的权限\n        this.state.loading = true;\n        menu.getMenus({\n            params: {userId},\n            onResolve: (res) => {\n                const menus = res || [];\n                const permissions = [];\n                const paths = [];\n\n                menus.forEach(({type, path, code}) => {\n                    if (type === '2' && code) permissions.push(code);\n\n                    if (path) paths.push(path);\n                });\n\n                if (loginUser) {\n                    loginUser.permissions = permissions;\n                    setLoginUser(loginUser);\n                }\n\n                // 设置当前登录的用户到model中\n                system.setLoginUser(loginUser);\n\n                // 保存用户权限到model中\n                system.setPermissions(permissions);\n\n                // 保存当前用户可用path到model中\n                system.setUserPaths(paths);\n            },\n            onComplete: () => {\n                this.setState({loading: false});\n            },\n        });\n\n        setTimeout(() => { // 等待getStateFromStorage获取配置之后再设置\n            menu.getMenuStatus();\n            side.show();\n            this.setTitleAndBreadcrumbs();\n        });\n\n        this.props.history.listen(() => {\n            // 加上timeout之后，tab页切换之后，对应页面就不render了，不知道为什么！\n            setTimeout(() => {\n                menu.getMenuStatus();\n                side.show();\n                this.setTitleAndBreadcrumbs();\n            });\n        });\n    }\n\n    static propTypes = {\n        layout: PropTypes.string,\n    };\n\n    static defaultProps = {\n        layout: PAGE_FRAME_LAYOUT.SIDE_MENU,    // top-menu side-menu\n        pageHeadFixed: true,        // 页面头部是否固定\n    };\n\n    state = {};\n\n    setTitleAndBreadcrumbs() {\n        const {\n            action: {page},\n            pageHeadShow,\n            menus,\n            title: prevTitle,\n            breadcrumbs: prevBreadcrumbs,\n        } = this.props;\n\n        const selectedMenu = getSelectedMenuByPath(window.location.pathname, menus);\n        let breadcrumbs = [];\n        let title = '';\n        if (selectedMenu) {\n            title = {\n                text: selectedMenu.text,\n            };\n            if (selectedMenu.parentNodes) {\n                breadcrumbs = selectedMenu.parentNodes.map(item => {\n                    return {\n                        key: item.key,\n                        icon: item.icon,\n                        text: item.text,\n                        path: item.path,\n                    };\n                });\n            }\n\n            if (selectedMenu.path !== '/') {\n                breadcrumbs.unshift({\n                    key: 'index',\n                    icon: 'home',\n                    text: '首页',\n                    path: '/',\n                });\n            }\n\n            breadcrumbs.push({\n                key: selectedMenu.key,\n                icon: selectedMenu.icon,\n                text: selectedMenu.text,\n            });\n        }\n\n        // 从菜单中没有获取到，有肯能是当前页面设置了，但是没有菜单对应\n        if (!breadcrumbs.length && prevBreadcrumbs && prevBreadcrumbs.length) {\n            page.setBreadcrumbs(prevBreadcrumbs);\n        } else {\n            page.setBreadcrumbs(breadcrumbs);\n        }\n\n        // 从菜单中没有获取到，有肯能是当前页面设置了，但是没有菜单对应\n        if (!title && prevTitle) {\n            page.setTitle(prevTitle);\n        } else {\n            page.setTitle(title);\n        }\n\n        pageHeadShow ? page.showHead() : page.hideHead();\n    }\n\n    render() {\n        let {\n            layout,\n            pageHeadFixed,\n            showPageHead,\n            tabsShow,\n            title,\n            breadcrumbs,\n\n            showSide,\n            sideCollapsed,\n            sideCollapsedWidth,\n            sideWidth,\n            globalLoading,\n            globalLoadingTip,\n            sideDragging,\n        } = this.props;\n\n        sideWidth = sideCollapsed ? sideCollapsedWidth : sideWidth;\n        sideWidth = showSide ? sideWidth : 0;\n\n        let transitionDuration = sideDragging ? '0ms' : `300ms`;\n\n        const isTopSideMenu = layout === PAGE_FRAME_LAYOUT.TOP_SIDE_MENU;\n        const isSideMenu = layout === PAGE_FRAME_LAYOUT.SIDE_MENU;\n        const hasSide = isTopSideMenu || isSideMenu;\n\n        if (!hasSide) {\n            window.document.body.style.paddingLeft = '0px';\n        } else {\n            window.document.body.style.paddingLeft = `${sideWidth}px`;\n        }\n\n        const theme = 'default'; // (isTopSideMenu || isSideMenu) ? 'dark' : 'default';\n\n        let pageHead = null;\n        if (showPageHead) {\n            pageHead = (\n                <PageHead\n                    title={title}\n                    breadcrumbs={breadcrumbs}\n                />\n            );\n\n            if (pageHeadFixed) {\n                pageHead = (\n                    <div styleName={`page-head-fixed ${tabsShow ? 'with-tabs' : ''}`} style={{left: hasSide ? sideWidth : 0, transitionDuration}}>\n                        {pageHead}\n                    </div>\n                );\n            }\n        }\n\n        if (isSideMenu) pageHead = null;\n\n        const titleText = title?.text || title;\n        const titleIsString = typeof titleText === 'string';\n\n        const topSpaceClass = ['content-top-space'];\n\n        if (showPageHead && pageHead && pageHeadFixed) topSpaceClass.push('with-fixed-page-head');\n        if (tabsShow) topSpaceClass.push('with-tabs');\n\n        const windowWidth = window.innerWidth;\n        const sideWidthSpace = hasSide ? sideWidth : 0;\n\n        return (\n            <div styleName=\"base-frame\" className=\"no-print\">\n                <Helmet title={titleIsString ? titleText : ''}/>\n                <BackTop/>\n                <Header/>\n                <Side layout={layout} theme={theme}/>\n                <div styleName={topSpaceClass.join(' ')}/>\n                {pageHead}\n                {tabsShow ? <div styleName=\"page-tabs\" style={{left: sideWidthSpace, width: windowWidth - sideWidthSpace, transitionDuration}}><PageTabs width={windowWidth - sideWidthSpace}/></div> : null}\n                <div styleName=\"global-loading\" style={{display: globalLoading ? 'block' : 'none'}}>\n                    <Spin spinning size=\"large\" tip={globalLoadingTip}/>\n                </div>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom'\nimport config from 'src/commons/config-hoc';\nimport './style.less';\n\n@config({\n    router: true,\n})\nexport default class Error404 extends Component {\n    state = {\n        time: 9,\n    };\n\n    handleGoBack = () => {\n        this.props.history.goBack();\n    };\n\n    componentDidMount() {\n        this.bodyOverflow = document.body.style.overflow;\n        document.body.style.overflow = 'hidden';\n\n        if (this.props.history.length >= 2) {\n            this.sI = setInterval(() => {\n                const time = this.state.time - 1;\n\n                if (time === 0) this.handleGoBack();\n\n                this.setState({time});\n            }, 1000);\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.sI);\n        document.body.style.overflow = this.bodyOverflow;\n    }\n\n    render() {\n        const {history} = this.props;\n        const {time} = this.state;\n        return (\n            <div styleName=\"root error404\">\n                <div styleName=\"container\">\n                    <div styleName=\"header\">\n                        <h3>页面不存在</h3>\n                    </div>\n                    <p styleName=\"intro\">\n                        跳转到<Link to=\"/\"> 首页 </Link>\n                        {history.length >= 2 ? <span>或者返回 <a onClick={this.handleGoBack}>上一步（{time}）</a></span> : null}\n                    </p>\n                </div>\n            </div>\n        );\n    }\n}\n","// 此文件是通过脚本生成的，直接编辑无效！！！\n\n// 不需要导航框架的页面路径\nexport const noFrames = [\n    '/login',\n];\n\n// 不需要登录就可以访问的页面路径\nexport const noAuths = [\n    '/login',\n];\n\n// 需要keep alive 页面\nexport const keepAlives = [\n    {\n        path: '/iframe_page_/:src',\n        keepAlive: true,\n    },\n];\n\n// 页面路由配置\nexport default [\n    {\n        path: '/example/customer-header',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/examples/customer-header/index.jsx'),\n    },\n    {\n        path: '/',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/home/index.jsx'),\n    },\n    {\n        path: '/iframe_page_/:src',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/iframe/index.jsx'),\n    },\n    {\n        path: '/test',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/local/index.jsx'),\n    },\n    {\n        path: '/login',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/login/index.jsx'),\n    },\n    {\n        path: '/menu-permission',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/menu-permission/index.jsx'),\n    },\n    {\n        path: '/roles',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/role/index.jsx'),\n    },\n    {\n        path: '/settings',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/setting/index.jsx'),\n    },\n    {\n        path: '/user-center/_/edit/:id',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/user-center/Edit.jsx'),\n    },\n    {\n        path: '/user-center',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/user-center/index.jsx'),\n    },\n    {\n        path: '/users',\n        component: () => import('/Users/wangshubin/workspace/suixingpay/react-admin/src/pages/users/index.jsx'),\n    },\n];\n","import React, {Component} from 'react';\nimport {Spin} from 'antd';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\n\nexport default class Index extends Component {\n    constructor(...props) {\n        super(...props);\n        NProgress.start();\n    }\n\n    componentWillUnmount() {\n        NProgress.done();\n    }\n\n    render() {\n        const style = {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n        };\n        return (\n            <div style={style}>\n                <Spin spinning/>\n            </div>\n        );\n    }\n}\n","import pageRoutes, {noAuths, noFrames, keepAlives} from '../pages/page-routes';\nimport PageLoading from 'src/layouts/page-loading';\nimport loadable from '@loadable/component';\nimport React from 'react';\n\n// 不需要页面框架的页面配置\nexport const noFrameRoutes = noFrames;\n\n// 不需要登录的页面\nexport const noAuthRoutes = noAuths;\n\n// 需要keep alive 页面\nexport const keepAliveRoutes = keepAlives;\n\n// 所有人都可以访问的页面\nexport const commonPaths = [\n    '/',\n    '/login',\n];\n\n/*\n* 非脚本抓取的路由，可以在这里编辑，脚本抓取的路由在./src/pages/page-routes.js中\n* */\nexport default [\n    // {path: '/', component: ()=> import('./path-to-component')},\n].concat(pageRoutes)\n    .map(item => {\n        return {\n            path: item.path,\n            component: loadable(item.component, {fallback: <PageLoading/>}),\n        };\n    });\n","import React from 'react';\nimport {Route} from 'react-router-dom';\nimport {isLogin, toLogin} from 'src/commons';\nimport config from 'src/commons/config-hoc';\nimport {keepAliveRoutes} from './routes';\n\n/**\n * 与KeepPage配合使用的路由，进行页面的收集\n */\n@config({\n    pubSub: true,\n    connect(state) {\n        return {\n            tabs: state.system.tabs,\n            title: state.page.title,\n            selectedMenu: state.menu.selectedMenu,\n            keepAliveSystem: state.system.keepAlive,\n            tabsShow: state.settings.tabsShow,\n        };\n    },\n})\nexport default class KeepAuthRoute extends React.Component {\n    componentDidUpdate() {\n        if (this.tabsChange) {\n            this.tabsChange = false;\n            this.props.action.system.setTabs(this.tabs);\n            console.timeEnd('active');\n        }\n    }\n\n    render() {\n        const {\n            component: Component,\n            noAuth,\n            tabs,\n            keepAliveSystem,\n            tabsShow,\n            ...rest\n        } = this.props;\n\n        return (\n            <Route\n                {...rest}\n                render={props => {\n                    const configKeepAlive = keepAliveRoutes.find(item => item.path === rest.path)?.keepAlive;\n                    const keepAlive = configKeepAlive === void 0 ? keepAliveSystem : configKeepAlive;\n                    const {history} = props;\n                    const {action: {system}} = this.props;\n\n                    let component = null;\n                    if ((noAuth || isLogin())) {\n                        component = <Component {...props}/>;\n                    } else {\n                        // 直接跳转登录，不显示401页面\n                        return toLogin();\n                    }\n\n                    // 如果页面现实tabs，或者有页面启用了keepAlive 需要对tabs进行操作\n                    if (tabsShow || keepAlive || keepAliveRoutes.length) {\n                        const {pathname, search} = props.location;\n                        const currentPath = window.decodeURIComponent(`${pathname}${search}`);\n\n                        let currentTab = tabs.find(item => item.path === currentPath);\n                        let nextActiveTab = tabs.find(item => item.nextActive);\n                        let prevActiveTab = tabs.find(item => item.active);\n\n                        // 根据nextActive标记切换新的tab页\n                        if (nextActiveTab) {\n                            nextActiveTab.nextActive = false;\n                            setTimeout(() => {\n                                const iframePagePrefix = '/iframe_page_/';\n                                let path = nextActiveTab.path;\n                                if (path.startsWith(iframePagePrefix)) {\n                                    path = `${iframePagePrefix}${window.encodeURIComponent(path.replace(iframePagePrefix, ''))}`;\n                                }\n                                history.push(path);\n                            });\n                            return keepAlive ? null : component;\n                        }\n\n                        // 获取当前地址对应的标签页\n                        const TabComponent = keepAlive ? component : null;\n\n                        // 切换tab页\n                        if (currentTab && !currentTab.active) {\n                            // 保存上一个tab页滚动调位置\n\n                            // 记录上一个页面的滚动条位置\n                            if (prevActiveTab) {\n                                prevActiveTab.scrollTop = document.body.scrollTop = document.documentElement.scrollTop;\n                            }\n\n                            // 清空选中状态\n                            if (prevActiveTab) {\n                                prevActiveTab.active = false;\n                                this.props.publish('tab-hide', prevActiveTab.path);\n                            }\n\n                            currentTab.active = true;\n\n                            this.props.publish('tab-show', currentTab.path);\n\n                            console.time('active');\n\n                            // 在componentWillUpdate中执行 system.setTabs\n                            // 加快tab页切换，开发：80ms左右，生产：10ms左右\n                            // 避免 Warning: Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.\n                            this.tabsChange = true;\n                            this.tabs = [...tabs];\n\n                            // setTimeout(() => {\n                            //     system.setTabs([...tabs]);\n                            //     console.timeEnd('active'); // 开发：180ms左右，生产：20ms左右\n                            // });\n                        }\n\n                        // 先让 KeepPage.jsx 进行一次 无component渲染，然后再次渲染component达到刷新的目的\n                        if (keepAlive && currentTab && !currentTab.component) {\n                            setTimeout(() => {\n                                currentTab.component = TabComponent;\n                                system.setTabs([...tabs]);\n                            });\n                        }\n\n                        // 添加一个标签 当前地址对应的tab页不存在，进行添加\n                        if (!currentTab) {\n                            let prevActiveIndex = -1;\n                            const prevActiveTab = tabs.find((item, index) => {\n                                if (item.active) prevActiveIndex = index;\n\n                                return item.active;\n                            });\n\n                            // 记录上一个页面的滚动条位置\n                            if (prevActiveTab) {\n                                prevActiveTab.scrollTop = document.body.scrollTop = document.documentElement.scrollTop;\n                            }\n\n                            // 清空选中状态 直接选中新添加的标签\n                            if (prevActiveTab) prevActiveTab.active = false;\n                            const newAddTab = {\n                                path: currentPath,\n                                component: TabComponent,\n                                active: true,\n                            };\n\n                            // 用户新开tab页之后，往往比较关心上一个tab，新开的tab页面放在当前tab页面之后\n                            if (prevActiveIndex !== -1) {\n                                tabs.splice(prevActiveIndex + 1, 0, newAddTab);\n                            } else {\n                                tabs.push(newAddTab);\n                            }\n\n                            // 不使用setTimeout 会报出 Warning: Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.\n                            setTimeout(() => {\n                                // 等待title selectedMenu更新完成了之后，才获取；\n                                newAddTab.text = this.props.title;\n                                newAddTab.icon = this.props.selectedMenu?.icon;\n                                system.setTabs([...tabs]);\n                            });\n                        }\n                    }\n\n                    // 由KeepPage组件进行页面渲染和切换，这里不需要进行页面渲染\n                    if (keepAlive) return null;\n\n                    // 页面滚动条滚动到顶部\n                    document.body.scrollTop = document.documentElement.scrollTop = 0;\n                    return component;\n                }}\n            />\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport config from 'src/commons/config-hoc';\n\n/**\n * 通过div的显示隐藏，来保存tab页面状态\n */\n@config({\n    connect: state => ({\n        tabs: state.system.tabs,\n    }),\n})\nexport default class KeepPage extends Component {\n    scrollTop = 0;\n\n    componentDidUpdate() {\n        // 完成更新，内容加载完成之后，恢复当前tab页滚动条\n        document.body.scrollTop = document.documentElement.scrollTop = this.scrollTop;\n    }\n\n    render() {\n        const {tabs} = this.props;\n\n        // 始终保持内容的顺序不变，避免React的diff算法，在元素移动时，先删除后创建，导致iframe重新加载的问题\n        const sortTabs = [...tabs].sort((a, b) => (a.path > b.path ? 1 : -1));\n\n        // 已解决：每次tab切换，都会导致所有的tab页面组件render一次，由于history作为props，history改变导致的？（好像并不是）浏览器前进后退，并不是router使用的history，并不引起更新\n        // 已解决：所有tab都render，tab页开多了，性能极差\n        // layouts/frame 的 this.props.history.listen 中使用setTimeout，就不会render了！原因未知\n        return sortTabs.map(item => {\n            const {path: tabPath, component, active, scrollTop = 0} = item;\n\n            // 记录当前页面的滚动条位置，等待页面加载完成，componentDidUpdate会进行恢复\n            if (active) this.scrollTop = scrollTop;\n\n            if (!component) return null;\n\n            return (\n                <div key={tabPath} id={tabPath} style={{display: active ? 'flex' : 'none', flex: 1}}>\n                    {component}\n                </div>\n            );\n        });\n    }\n}\n","import React, {Component} from 'react';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\nimport {isLogin} from 'src/commons';\nimport PageFrame from 'src/layouts/frame';\nimport Error404 from 'src/components/error/Error404';\nimport config from 'src/commons/config-hoc';\nimport KeepAuthRoute from './KeepAuthRoute';\nimport KeepPage from './KeepPage';\nimport routes, {noFrameRoutes, noAuthRoutes /*commonPaths*/} from './routes';\n\n// 直接挂载到域名根目录\nexport const ROUTE_BASE_NAME = process.env.BASE_NAME || '';\n\n@config({\n    query: true,\n    connect: state => ({userPaths: state.system.userPaths, systemNoFrame: state.system.noFrame}),\n})\nexport default class AppRouter extends Component {\n\n    /**\n     * allRoutes为全部路由配置，根据用户可用 菜单 和 功能 的path，对allRoutes进行过滤，可以解决越权访问页面的问题\n     * commonPaths 为所有人都可以访问的路径 在.routes中定义\n     * @returns {{path: *, component: *}[]}\n     */\n    getUserRoutes = () => {\n        // const {userPaths} = this.props;\n        // const allPaths = [...userPaths, ...commonPaths];\n        // return routes.filter(item => allPaths.includes(item.path));\n        return routes;\n    };\n\n    render() {\n        const {noFrame: queryNoFrame, noAuth} = this.props.query;\n        const {systemNoFrame} = this.props;\n        const userRoutes = this.getUserRoutes();\n\n        return (\n            <BrowserRouter basename={ROUTE_BASE_NAME}>\n                <div style={{display: 'flex', flexDirection: 'column', position: 'relative', minHeight: '100vh'}}>\n                    <Route path=\"/\" render={props => {\n                        // 框架组件单独渲染，与其他页面成为兄弟节点，框架组件和具体页面组件渲染互不影响\n\n                        if (systemNoFrame) return null;\n                        // 通过配置，筛选那些页面不需要框架\n                        if (noFrameRoutes.includes(props.location.pathname)) return null;\n\n                        // 框架内容属于登录之后内容，如果未登录，也不显示框架\n                        if (!isLogin()) return null;\n\n                        // 如果浏览器url中携带了noFrame=true参数，不显示框架\n                        if (queryNoFrame === 'true') return null;\n\n                        return <PageFrame {...props}/>;\n                    }}/>\n                    <Route exact path={userRoutes.map(item => item.path)}>\n                        <KeepPage/>\n                    </Route>\n                    <Switch>\n                        {userRoutes.map(item => {\n                            const {path, component} = item;\n                            let isNoAuthRoute = false;\n\n                            // 不需要登录的页面\n                            if (noAuthRoutes.includes(path)) isNoAuthRoute = true;\n\n                            // 如果浏览器url中携带了noAuthor=true参数，不需要登录即可访问\n                            if (noAuth === 'true') isNoAuthRoute = true;\n\n                            return (\n                                <KeepAuthRoute\n                                    key={path}\n                                    exact\n                                    path={path}\n                                    noAuth={isNoAuthRoute}\n                                    component={component}\n                                />\n                            );\n                        })}\n                        <Route component={Error404}/>\n                    </Switch>\n                </div>\n            </BrowserRouter>\n        );\n    }\n}\n","/**\n * localStorage 和 sessionStorage 封装\n *\n *\n * @example\n * // 引入\n * import * as storage from 'path/to/storage';\n *\n * @example\n // 初始化，如果不需要keyPrefix，可以不初始化\n storage.init({\n    keyPrefix: user.id,\n });\n *\n * @example\n * // 使用localStorage相关方法\n * storage.setItem('user', userObj);\n *\n * @example\n * // 使用sessionStorage相关方法\n * import {session} from 'path/to/storage';\n * session.setItem('user', userObj);\n *\n *\n * @module 本地存储\n */\n\nconst localStorage = window.localStorage;\nconst sessionStorage = window.sessionStorage;\nlet _keyPrefix = 'default-prefix-';\n\n/**\n * 初始化配置\n * @param options keyPrefix：存储前缀，用来区分不同用户数据，否则同一台电脑，不同人存储数据会互相干扰。\n */\nexport function init(options) {\n    const {keyPrefix = 'default-prefix'} = options;\n    _keyPrefix = `${keyPrefix}-`;\n}\n\n/**\n * localStorage 存储数据\n * @param {string} key 数据的key\n * @param {*} value 要存储的数据\n */\nexport function setItem(key, value) {\n    key = _keyPrefix + key;\n    value = JSON.stringify(value);\n    localStorage.setItem(key, value);\n}\n\n/**\n * localStorage 获取数据\n * @param {string} key\n * @return {json} key 对应的数据\n */\nexport function getItem(key) {\n    key = _keyPrefix + key;\n    let value = localStorage.getItem(key);\n    return JSON.parse(value);\n}\n\n/**\n * localStorage 根据keyPrefix清空数据\n */\nexport function clear() {\n    const localStorageKeys = Object.keys(localStorage);\n    if (localStorageKeys && localStorageKeys.length) {\n        localStorageKeys.forEach(item => {\n            if (item.startsWith(_keyPrefix)) {\n                localStorage.removeItem(item);\n            }\n        });\n    }\n}\n\n/**\n * localStorage 删除数据\n * @param key\n */\nexport function removeItem(key) {\n    key = _keyPrefix + key;\n    localStorage.removeItem(key);\n}\n\n/**\n * localStorage 根据keys 获取一组数据\n * @param {array} keys\n * @returns {{json}}\n */\nexport function multiGet(keys) {\n    let values = {};\n    keys.forEach(key => values[key] = getItem(key));\n    return values;\n}\n\n/**\n * localStorage 根据keys 删除一组数据\n * @param {array} keys\n */\nexport function multiRemove(keys) {\n    keys.forEach(key => removeItem(key));\n}\n\n/**\n * sessitonStorage 封装，具有localStorage同样方法\n *\n * @type {{setItem(*=, *=): void, getItem(*=): *, clear(): void, removeItem(*=): void, multiGet(*): *, multiRemove(*): void}}\n */\nexport const session = {\n    setItem(key, value) {\n        key = _keyPrefix + key;\n        value = JSON.stringify(value);\n        sessionStorage.setItem(key, value);\n    },\n    getItem(key) {\n        key = _keyPrefix + key;\n        let value = sessionStorage.getItem(key);\n        return JSON.parse(value);\n    },\n    // 根据 keyPrefix 清除用户数据\n    clear() {\n        const sessionStorageKeys = Object.keys(sessionStorage);\n        if (sessionStorageKeys && sessionStorageKeys.length) {\n            sessionStorageKeys.forEach(item => {\n                if (item.startsWith(_keyPrefix)) {\n                    sessionStorage.removeItem(item);\n                }\n            });\n        }\n    },\n    removeItem(key) {\n        key = _keyPrefix + key;\n        sessionStorage.removeItem(key);\n    },\n    multiGet(keys) {\n        let values = {};\n        keys.forEach(key => values[key] = this.getItem(key));\n        return values;\n    },\n    multiRemove(keys) {\n        keys.forEach(key => this.removeItem(key));\n    },\n};\n\n\nconst globalStorage = {};\n/**\n * 全局存储封装，刷新之后将被清空\n * @type {{setItem(*, *): void, getItem(*): *, clear(): void, removeItem(*): void, multiGet(*): *, multiRemove(*): void}}\n */\nexport const global = {\n    setItem(key, value) {\n        key = _keyPrefix + key;\n        globalStorage[key] = value;\n    },\n    getItem(key) {\n        key = _keyPrefix + key;\n        return globalStorage[key];\n    },\n    clear() {\n        Object.keys(globalStorage).forEach(key => {\n            if (key.startsWith(_keyPrefix)) {\n                delete globalStorage[key];\n            }\n        });\n    },\n    removeItem(key) {\n        key = _keyPrefix + key;\n        delete globalStorage[key];\n    },\n    multiGet(keys) {\n        let values = {};\n        keys.forEach(key => values[key] = this.getItem(key));\n        return values;\n    },\n    multiRemove(keys) {\n        keys.forEach(key => this.removeItem(key));\n    },\n};\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Icon} from 'src/library/components';\nimport { Breadcrumb } from 'antd';\nimport Link from '../page-link';\nimport './style.less';\n\nconst Item = Breadcrumb.Item;\n\nexport default class BreadcrumbComponent extends Component {\n    static propTypes = {\n        dataSource: PropTypes.array, // 数据源\n    };\n\n    static defaultProps = {\n        dataSource: [],\n    };\n\n    renderItems() {\n        const {dataSource} = this.props;\n        const iconStyle = {marginRight: 4};\n        if (dataSource && dataSource.length) {\n            return dataSource.map(({key, icon, text, path}) => {\n                if (path) {\n                    return (\n                        <Item key={key}>\n                            <Link to={path}>\n                                {icon ? <Icon type={icon} style={iconStyle}/> : null}\n                                {text}\n                            </Link>\n                        </Item>\n                    );\n                }\n                return (\n                    <Item key={key}>\n                        {icon ? <Icon type={icon} style={iconStyle}/> : null}\n                        {text}\n                    </Item>\n                );\n            });\n        }\n        return null;\n    }\n\n    render() {\n        const {theme} = this.props;\n        return (\n            <div styleName=\"breadcrumb\" className={`system-breadcrumb-${theme}`}>\n                <Breadcrumb>\n                    {this.renderItems()}\n                </Breadcrumb>\n            </div>\n        );\n    }\n}\n","import {notification} from 'antd';\nimport {toLogin} from './index';\n\n/**\n * 尝试获取错误信息 errorTio > resData.message > error.message > '未知系统错误'\n *\n * @param error\n * @param errorTip\n * @returns {*}\n */\nfunction getErrorTip({error, errorTip}) {\n    const commonTip = '系统开小差了，请稍后再试或联系管理员';\n\n    if (errorTip && errorTip !== true) return errorTip;\n\n    if (error && error.response) {\n        const {status, message} = error.response;\n\n        if (status === 403) {\n            return '您无权访问';\n        }\n\n        if (status === 404) {\n            return '您访问的资源不存在';\n        }\n\n        if (status === 504) {\n            return commonTip;\n        }\n\n        if (status === 500) {\n            return commonTip;\n        }\n\n        // 后端自定义信息\n        if (message) return message;\n    }\n\n    if (error && error.message && error.message.startsWith('timeout of')) return '方位超时';\n\n    if (error) return error.message;\n\n    return commonTip;\n}\n\nexport default function handleError({error, errorTip}) {\n    const {status} = error?.response || {};\n\n    // 如果是未登录问题，不显示错误提示\n    if (status === 401) return toLogin();\n\n    if (errorTip === false) return;\n\n    const description = getErrorTip({error, errorTip});\n\n    notification.error({\n        message: '失败',\n        description,\n        duration: 2,\n    });\n}\n","import {notification} from 'antd';\n\nexport default function handleSuccess({successTip}) {\n    successTip && notification.success({\n        message: '成功',\n        description: successTip,\n        duration: 2,\n    })\n}\n","/** * * * * * * * * * * * * * * * * * * * * * * **\n *                    _ooOoo_                    *\n *                   o8888888o                   *\n *                   88\" . \"88                   *\n *                   (| -_- |)                   *\n *                   O\\  =  /O                   *\n *                ____/`---'\\____                *\n *              .'  \\\\|     |//  `.              *\n *             /  \\\\|||  :  |||//  \\             *\n *            /  _||||| -:- |||||-  \\            *\n *            |   | \\\\\\  -  /// |   |            *\n *            | \\_|  ''\\---/''  |   |            *\n *            \\  .-\\__  `-`  ___/-. /            *\n *          ___`. .'  /--.--\\  `. . __           *\n *       .\"\" '<  `.___\\_<|>_/___.'  >'\"\".        *\n *      | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |      *\n *      \\  \\ `-.   \\_ __\\ /__ _/   .-` /  /      *\n * ======`-.____`-.___\\_____/___.-`____.-'====== *\n *                    `=---='                    *\n * ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ *\n *             佛祖保佑       永无BUG              *\n *         此代码经过开光处理，不可能存在bug！        *\n * * * * * * * * * * * * * * * * * * * * * * * **/\n\nimport axios from 'axios';\nimport {stringify} from 'qs';\n\nexport default class SXAjax {\n    /**\n     * 构造函数传入的是自定义的一些配置，\n     * axios相关的全局配置使用sxAjax实例进行配置：\n     * sxAjax.defaults.xxx sxAjax.mockDefaults.xxx进行配置\n     *\n     * @param onShowErrorTip 如何显示错误提示\n     * @param onShowSuccessTip 如何显示成功提示\n     * @param isMock 区分哪些请求需要mock，比如：url以约定'/mock'开头的请求，使用mock等方式。\n     */\n    constructor({\n                    onShowSuccessTip = (/* response, successTip  */) => true,\n                    onShowErrorTip = (/* err, errorTip */) => true,\n                    isMock = (/* url, data, method, options */) => false,\n                } = {}) {\n        this.instance = axios.create();\n        this.mockInstance = axios.create();\n        this.setDefaultOption(this.instance);\n        this.setDefaultOption(this.mockInstance);\n        this.defaults = this.instance.defaults;\n        this.mockDefaults = this.mockInstance.defaults;\n\n        this.onShowSuccessTip = onShowSuccessTip;\n        this.onShowErrorTip = onShowErrorTip;\n        this.isMock = isMock;\n    }\n\n    setDefaultOption(instance) {\n        instance.defaults.timeout = 10000;\n        // instance.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\n        // instance.defaults.headers.put['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\n        instance.defaults.headers.post['Content-Type'] = 'application/json';\n        instance.defaults.headers.put['Content-Type'] = 'application/json';\n        instance.defaults.baseURL = '/';\n        instance.defaults.withCredentials = true; // 跨域携带cookie\n    }\n\n    /**\n     *\n     * @param url\n     * @param d\n     * @param method\n     * @param options 配置数据，最常用是【successTip】属性，也可以吧url data method覆盖掉；\n     * @returns {Promise}\n     */\n    ajax(url, d = {}, method = 'get', options = {}) {\n        // 有 null的情况\n        let data = d || {};\n        options = options || {};\n\n        let {\n            successTip = false, // 默认false，不展示\n            errorTip, //  = method === 'get' ? '获取数据失败！' : '操作失败！', // 默认失败提示\n            noEmpty = false, // 过滤掉 值为 null、''、undefined三种参数，不传递给后端\n            originResponse = false,\n        } = options;\n\n        // 删除 参数对象中为 null '' undefined 的数据，不发送给后端\n        if (noEmpty === true && typeof data === 'object' && !Array.isArray(data)) {\n            const noEmptyData = {};\n\n            Object.keys(data).forEach(key => {\n                const value = data[key];\n                if (value !== null && value !== '' && value !== void 0) {\n                    noEmptyData[key] = value;\n                }\n            });\n\n            data = noEmptyData;\n        }\n\n        const CancelToken = axios.CancelToken;\n        let cancel;\n\n        const isGet = method === 'get';\n        const isDelete = method === 'delete';\n        const isMock = this.isMock(url, data, method, options);\n\n        let instance = this.instance;\n\n        /*\n         * 封装内不做处理，如果需要，通过如下方式，或者其他方法自行处理\n         * axiosInstance.interceptors.request.use(cfg => {\n         *   // Do something before request is sent\n         *   return cfg;\n         * }, error => {\n         *   // Do something with request error\n         *   return Promise.reject(error);\n         * });\n         *\n         * */\n\n        if (isMock) {\n            instance = this.mockInstance;\n        }\n\n        /*\n        *\n        * Content-Type application/x-www-form-urlencoded 存在问题\n        * 参见：https://github.com/axios/axios/issues/362\n        *\n        * */\n        const defaultsContentType = instance.defaults.headers[method]['Content-Type']\n            || instance.defaults.headers[method]['content-type']\n            || instance.defaults.headers[method]['contentType']\n            || '';\n\n        const contentType = (options.headers && options.headers['Content-Type'])\n            || (options.headers && options.headers['content-type'])\n            || (options.headers && options.headers['contentType'])\n            || '';\n\n        const isFormType = (defaultsContentType && defaultsContentType.indexOf('application/x-www-form-urlencoded') > -1)\n            || contentType.indexOf('application/x-www-form-urlencoded') > -1;\n\n        if (isFormType) {\n            data = stringify(data);\n        }\n\n        let params = {};\n        if (isGet || isDelete) {\n            params = data; // params 是get或delete请求拼接到url上的\n            data = {}; // data 是put、post 等请求发送的数据\n        }\n\n        const ajaxPromise = new Promise((resolve, reject) => {\n            instance({\n                method,\n                url,\n                data,\n                params,\n                cancelToken: new CancelToken(c => cancel = c),\n                ...options,\n            }).then(response => {\n                this.onShowSuccessTip(response, successTip);\n                resolve(originResponse ? response : response.data);\n            }, err => {\n                const isCanceled = err && err.message && err.message.canceled;\n                if (isCanceled) return; // 如果是用户主动cancel，不做任何处理，不会触发任何函数\n                this.onShowErrorTip(err, errorTip);\n                reject(err);\n            }).catch(error => {\n                reject(error);\n            });\n        });\n        ajaxPromise.cancel = function () {\n            cancel({\n                canceled: true,\n            });\n        };\n        return ajaxPromise;\n    }\n\n    /**\n     * 发送一个get请求，一般用于查询操作\n     * @param {string} url 请求路径\n     * @param {object} [params] 传输给后端的数据，正常请求会转换成query string 拼接到url后面\n     * @param {object} [options] axios 配置参数\n     * @returns {Promise}\n     */\n    get(url, params, options) {\n        return this.ajax(url, params, 'get', options);\n    }\n\n    /**\n     * 发送一个post请求，一般用于添加操作\n     * @param {string} url 请求路径\n     * @param {object} [data] 传输给后端的数据\n     * @param {object} [options] axios 配置参数\n     * @returns {Promise}\n     */\n    post(url, data, options) {\n        return this.ajax(url, data, 'post', options);\n    }\n\n\n    /**\n     * 发送一个put请求，一般用于更新操作\n     * @param {string} url 请求路径\n     * @param {object} [data] 传输给后端的数据\n     * @param {object} [options] axios 配置参数\n     * @returns {Promise}\n     */\n    put(url, data, options) {\n        return this.ajax(url, data, 'put', options);\n    }\n\n    /**\n     * 发送一个patch请求，一般用于更新部分数据\n     * @param {string} url 请求路径\n     * @param {object} [data] 传输给后端的数据\n     * @param {object} [options] axios 配置参数\n     * @returns {Promise}\n     */\n    patch(url, data, options) {\n        return this.ajax(url, data, 'patch', options);\n    }\n\n    /**\n     * 发送一个delete请求，一般用于删除数据，params会被忽略（http协议中定义的）\n     * @param {string} url 请求路径\n     * @param {object} [data] 传输给后端的数据\n     * @param {object} [options] axios 配置参数\n     * @returns {Promise}\n     */\n    del(url, data, options) {\n        return this.ajax(url, data, 'delete', options);\n    }\n}\n","import './promise-extends';\nimport SxAjax from './sx-ajax';\nimport _createAjaxHoc from './react-hoc';\n\nexport default SxAjax;\nexport const createAjaxHoc = _createAjaxHoc;\n","import React, {Component} from 'react';\n\nconst createAjaxHoc = sxAjax => ({propName = 'ajax'} = {}) => WrappedComponent => {\n    class WithSubscription extends Component {\n        constructor(props) {\n            super(props);\n            this._$ajax = {};\n            this._$ajaxTokens = [];\n            const methods = ['get', 'post', 'put', 'patch', 'del', 'singleGet'];\n\n            for (let method of methods) {\n                this._$ajax[method] = (...args) => {\n                    const ajaxToken = sxAjax[method](...args);\n                    this._$ajaxTokens.push(ajaxToken);\n                    return ajaxToken;\n                };\n            }\n        }\n\n        static displayName = `WithSubscription(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\n\n        componentWillUnmount() {\n            this._$ajaxTokens.forEach(item => item.cancel());\n        }\n\n        render() {\n            const injectProps = {\n                [propName]: this._$ajax,\n            };\n            return <WrappedComponent {...injectProps} {...this.props}/>;\n        }\n    }\n\n    return WithSubscription;\n};\n\nexport default createAjaxHoc;\n","// 这里可以指定那些url需要mock数据\nexport default [];\n","import SXAjax, {createAjaxHoc} from 'src/library/ajax';\nimport mockUrls from '../mock/url-config';\nimport handleError from './handle-error';\nimport handleSuccess from './handle-success';\n\n// 默认配置在这里设置\nfunction getDefaultSettings(instance) {\n    instance.defaults.baseURL = '/api';\n    instance.defaults.timeout = 1000 * 60;\n    instance.mockDefaults.baseURL = '/';\n}\n\n// ajax工具，含有errorTip 和 successTip\nconst _ajax = new SXAjax({\n    onShowErrorTip: (error, errorTip) => handleError({error, errorTip}),\n    onShowSuccessTip: (response, successTip) => handleSuccess({successTip}),\n    isMock,\n});\ngetDefaultSettings(_ajax);\n\n// ajax高阶组件\nexport const ajaxHoc = createAjaxHoc(_ajax);\n\n// ajax工具，不含有 errorTip和successTip 一般models会使用\nexport const ajax = new SXAjax({isMock});\ngetDefaultSettings(ajax);\n\n// mockjs使用的axios实例\nexport const mockInstance = ajax.mockInstance = _ajax.mockInstance;\n\n// 请求前拦截\n[ajax.instance, _ajax.instance].forEach(instance => {\n    instance.interceptors.request.use(cfg => {\n        // Do something before request is sent\n        return cfg;\n    }, error => {\n        // Do something with request error\n        return Promise.reject(error);\n    });\n});\n\n// 判断请求是否是mock\nfunction isMock(url /* url, data, method, options */) {\n    return mockUrls.indexOf(url) > -1 || url.startsWith('/mock');\n}\n\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACUCAYAAAD/E5mVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4MzcyRTI3REQxM0YxMUU5OTRGMTk5QkUzRTcwNUJFOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4MzcyRTI3RUQxM0YxMUU5OTRGMTk5QkUzRTcwNUJFOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjgzNzJFMjdCRDEzRjExRTk5NEYxOTlCRTNFNzA1QkU4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjgzNzJFMjdDRDEzRjExRTk5NEYxOTlCRTNFNzA1QkU4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+GvuccQAAFM5JREFUeNrsnQvY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\"","import React from 'react';\nimport { CopyrightOutlined } from '@ant-design/icons';\nimport './style.less';\n\nexport default function (props) {\n    return (\n        <div styleName=\"footer\" {...props}>\n            Copyright <CopyrightOutlined /> xxx 2019\n        </div>\n    );\n}\n","import React, {Component} from 'react';\nimport {Spin} from 'antd';\nimport PropTypes from 'prop-types';\nimport Footer from '../footer';\nimport {connect} from 'src/models/index';\nimport './style.less';\n\n/**\n * 页面内容 容器\n * 1. 添加统一padding、background等样式\n * 1. 自动判断是否含有FixBottom，并为之腾出空间\n * 1. 是否含有公共footer\n */\n@connect(state => ({pageLoading: state.page.loading, pageLoadingTip: state.page.loadingTip}))\nexport default class PageContent extends Component {\n    static propTypes = {\n        loading: PropTypes.bool,\n        loadingTip: PropTypes.any,\n        pageLoading: PropTypes.bool,\n        footer: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        footer: false,\n    };\n\n    componentWillUnmount() {\n        this.props.action.page.hideLoading();\n    }\n\n    render() {\n        const {\n            footer,\n            loading,\n            loadingTip,\n            pageLoading,\n            pageLoadingTip,\n            children,\n            action,\n            className,\n            ...others\n        } = this.props;\n\n        let hasFixBottom = false;\n        React.Children.map(children, item => {\n            if (item && item.type && item.type.__FIX_BOTTOM) hasFixBottom = true;\n        }, null);\n\n        const rootStyle = {};\n        if (hasFixBottom) {\n            rootStyle.marginBottom = '66px';\n        }\n\n        const isLoading = loading || pageLoading;\n        const tip = loadingTip || pageLoadingTip;\n\n        return (\n            <div style={rootStyle} styleName=\"page-content-root\">\n                <div styleName=\"page-loading\" style={{display: isLoading ? 'block' : 'none'}}>\n                    <Spin spinning size=\"large\" tip={tip}/>\n                </div>\n                <div\n                    className={`${className} page-content`}\n                    styleName=\"page-content\"\n                    {...others}\n                >\n                    {children}\n                </div>\n                {footer ? <div styleName=\"footer\"><Footer/></div> : null}\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Select} from 'antd';\n\nconst {Option} = Select;\n\nexport default class AsyncSelect extends Component {\n    static propTypes = {\n        loadDataByUserInput: PropTypes.func.isRequired,\n        loadDataByValue: PropTypes.func.isRequired,\n        inputAsValue: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        inputAsValue: false,\n    };\n\n    state = {\n        loading: false,\n        data: [],\n        inputValue: void 0,\n    };\n\n    searchByUserInput = true;\n\n    handleSearchByUserInput = (inputValue) => {\n        this.setState({inputValue});\n\n        const {loadDataByUserInput, onSearch} = this.props;\n        if (onSearch) onSearch(inputValue);\n        if (!loadDataByUserInput) return;\n\n        // 截流\n        clearTimeout(this.st);\n        this.st = setTimeout(() => {\n            this.setState({loading: true});\n            // 用户选择之后，或失去焦点之后，还会触发一次查询，这里给屏蔽掉\n            if (!this.searchByUserInput) {\n                this.searchByUserInput = true;\n                return;\n            }\n\n            loadDataByUserInput(inputValue)\n                .then(data => this.setState({data}))\n                .finally(() => this.setState({loading: false}));\n        }, 300);\n    };\n\n    handleSearchByValue = (value) => {\n        const {loadDataByValue} = this.props;\n        if (!loadDataByValue) return;\n\n        setTimeout(() => {\n            this.setState({loading: true});\n\n            loadDataByValue(value)\n                .then(data => this.setState({data}))\n                .finally(() => this.setState({loading: false}));\n        });\n    };\n\n    handleSelect = (value, option) => {\n        const {onSelect} = this.props;\n        if (onSelect) onSelect(value, option);\n\n        this.searchByUserInput = false;\n    };\n\n    handleBlur = (...args) => {\n        // 用户输入过程中，下拉选项已经改变，如果不基于value再次查询，将会出现无法显示label，显示是value的bug\n        const {onBlur, value, onChange, inputAsValue} = this.props;\n        const {data, inputValue} = this.state;\n\n        if (inputValue && inputAsValue) {\n            this.searchByUserInput = false;\n            onChange && onChange(inputValue);\n            this.setState({data: [{value: inputValue, label: inputValue}]});\n            return;\n        }\n\n        if (onBlur) onBlur(...args);\n\n        this.searchByUserInput = !value;\n\n        if (value && !data.find(item => item.value === value)) {\n            this.handleSearchByValue(value);\n        }\n    };\n\n    render() {\n        const options = this.state.data.map(item => (<Option value={item.value} key={item.value}>{item.label}</Option>));\n        const dataMeta = this.props['data-__meta']; // antd form\n        const initialValue = (dataMeta && dataMeta.initialValue) || this.props.defaultValue;\n\n        if (initialValue && this.initialValue !== initialValue) {\n            this.initialValue = initialValue;\n            this.handleSearchByValue(initialValue);\n        }\n\n        return (\n            <Select\n                defaultActiveFirstOption={false}\n                allowClear\n                showSearch\n                showArrow={false}\n                optionFilterProp=\"children\"\n                {...this.props}\n                onSearch={this.handleSearchByUserInput}\n                onSelect={this.handleSelect}\n                onBlur={this.handleBlur}\n            >\n                {options}\n            </Select>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from \"prop-types\";\n\nexport default class ContextMenu extends Component {\n    static propTypes = {\n        content: PropTypes.any,     // 右键内容\n        event: PropTypes.object,    // 右键事件\n        visible: PropTypes.bool,    // 显示隐藏菜单\n    };\n\n    state = {\n        left: 0,\n        top: 0,\n        contentResult: '',\n    };\n\n    componentDidMount() {\n        document.addEventListener('click', this.hideRightContent);\n        document.addEventListener('scroll', this.hideRightContent);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.hideRightContent, false);\n        document.removeEventListener('scroll', this.hideRightContent, false);\n    }\n\n    hideRightContent = () => {\n        const {onChange} = this.props;\n        if (onChange) onChange(false);\n    };\n\n    setContentPosition = () => {\n        if (!this.container) return;\n\n        const {event} = this.props;\n\n        if (!event) return;\n\n        const winWidth = document.documentElement.clientWidth || document.body.clientWidth;\n        const winHeight = document.documentElement.clientHeight || document.body.clientHeight;\n        const contentWidth = this.container.offsetWidth;\n        const contentHeight = this.container.offsetHeight;\n\n        let left = event.clientX;\n        let top = event.clientY;\n\n        if (left >= (winWidth - contentWidth)) {\n            left = winWidth - contentWidth;\n        }\n\n        if (top > winHeight - contentHeight) {\n            top = winHeight - contentHeight;\n        }\n\n        this.container.style.left = `${left}px`;\n        this.container.style.top = `${top}px`;\n    };\n\n    render() {\n        const {content, visible} = this.props;\n        const {left, top} = this.state;\n\n        if (visible) {\n            // 内容未加载完成时，先进行一次大致定位\n            this.setContentPosition();\n\n            // 等待内容加载完成，才能获取到 contentWidth\n            setTimeout(this.setContentPosition);\n        }\n\n        return (\n            <div\n                style={{\n                    display: visible ? 'block' : 'none',\n                    position: 'fixed',\n                    left: 0,\n                    top: 0,\n                    zIndex: 99999,\n                    width: 0,\n                    height: 0,\n                }}\n            >\n                <div\n                    ref={node => this.container = node}\n                    style={{\n                        left,\n                        top,\n                        position: 'absolute',\n                        boxShadow: '0 0 15px rgba(0, 0, 0, 0.2)',\n                    }}\n                >\n                    {content}\n                </div>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { CloseOutlined } from '@ant-design/icons';\nimport {\n    SortableContainer,\n    SortableElement\n} from 'react-sortable-hoc';\nimport classNames from 'classnames';\nimport './style.less';\n\n\nconst SortableItem = SortableElement((props) => {\n    const {children} = props;\n    return (\n        <div\n            className={classNames('draggable-tabs-bar-horizontal-item', props.className)}\n            style={props.style}\n        >\n            {/*<div className=\"tabs-bar-left-corner\"/>*/}\n            {/*<div className=\"tabs-bar-right-corner\"/>*/}\n            {children}\n        </div>\n    );\n});\n\nconst SortableContainerList = SortableContainer(props => {\n    const {\n        className,\n        dataSource,\n        activeKey,\n        itemClass,\n        onClose,\n        onClick,\n        itemWrapper,\n        isSorting,\n        ...others\n    } = props;\n\n    return (\n        <div className={classNames('draggable-tabs-bar-root', className, {sorting: isSorting})} {...others}>\n            {dataSource.map((item, index) => {\n                const {key, title, closable} = item;\n                const isActive = activeKey === key;\n                let itemJsx = [\n                    (\n                        <div key=\"item\" className=\"item-inner\" onClick={(e) => onClick && onClick(item, e)}>\n                            {title}\n                        </div>\n                    ),\n                    (\n                        closable ? (\n                            <div key=\"close\" className=\"close-wrapper\" onClick={(e) => onClose && onClose(item, e)}>\n                                <CloseOutlined />\n                            </div>\n                        ) : null\n                    )\n                ];\n\n                if (itemWrapper) {\n                    itemJsx = itemWrapper(itemJsx, item, 'draggable-tabs-bar-wrapper');\n                } else {\n                    itemJsx = <div className=\"draggable-tabs-bar-wrapper\">{itemJsx}</div>;\n                }\n                return (\n                    <SortableItem\n                        key={key}\n                        className={classNames(itemClass, {'active': isActive})}\n                        index={index}\n                    >\n                        <div className=\"draggable-tabs-bar-horizontal-item-inner\">{itemJsx}</div>\n                    </SortableItem>\n                );\n            })}\n        </div>\n    );\n});\n\nexport default class DraggableTabsBar extends Component {\n    state = {\n        itemLength: 0,\n        isSorting: false,\n        mouseIn: false,\n    };\n\n    static propTypes = {\n        dataSource: PropTypes.array,\n        className: PropTypes.string,\n        activeKey: PropTypes.any,\n        onSortStart: PropTypes.func,\n        onSortEnd: PropTypes.func,\n        onClose: PropTypes.func,\n        onClick: PropTypes.func,\n        itemWrapper: PropTypes.func,\n        parentWidth: PropTypes.number,\n    };\n\n    static defaultProps = {\n        className: classNames('list', 'stylizedList'),\n    };\n\n    componentDidMount() {\n        this.setTabsWidth();\n    };\n\n    componentDidUpdate(prevProps) {\n        const {dataSource} = this.props;\n        const {dataSource: prevDataSource} = prevProps;\n\n        // tabs 个数有变，调整宽度\n        if (prevDataSource.length !== dataSource.length) {\n            this.setTabsWidth();\n        }\n\n        // 父级宽度改变，调整宽度\n        if (prevProps.parentWidth !== this.props.parentWidth) {\n            setTimeout(() => this.setTabsWidth(), 500);\n        }\n    }\n\n    setTabsWidth = () => {\n        const {mouseIn} = this.state;\n        const maxWidth = 150;\n        const items = this.container.querySelectorAll('.draggable-tabs-bar-horizontal-item-inner');\n        const rootContainer = this.container.querySelector('.draggable-tabs-bar-root');\n        const itemCount = items.length;\n        const rootContainerWidth = rootContainer.clientWidth;\n        const maxCount = Math.floor(rootContainerWidth / maxWidth);\n\n        if (!mouseIn) {\n            if (itemCount <= maxCount) {\n                // 宽度足够所有的tab使用最大宽度，都使用最大宽度\n                items.forEach(itemNode => {\n                    itemNode.style.width = `${maxWidth}px`;\n                });\n            } else {\n                // 宽度不够使用最大宽度，平均分配\n                items.forEach(itemNode => {\n                    itemNode.style.width = `${rootContainerWidth / itemCount}px`;\n                });\n            }\n        }\n    };\n\n    onSortStart = (info, event) => {\n        this.setState({isSorting: true});\n\n        const {onSortStart} = this.props;\n\n        if (onSortStart) {\n            onSortStart(info, event);\n        }\n    };\n\n    onSortEnd = (info, event) => {\n        this.setState({isSorting: false});\n\n        const {onSortEnd} = this.props;\n\n        if (onSortEnd) {\n            onSortEnd(info, event);\n        }\n    };\n\n    handleMouseEnter = () => {\n        this.setState({mouseIn: true});\n    };\n\n    handleMouseLeave = () => {\n        this.setState({mouseIn: false}, this.setTabsWidth);\n    };\n\n\n    render() {\n        const {\n            dataSource,\n            activeKey,\n            onClose,\n            onClick,\n            itemWrapper,\n        } = this.props;\n        const {isSorting} = this.state;\n        const props = {\n            isSorting,\n            dataSource,\n            activeKey,\n            onSortEnd: this.onSortEnd,\n            onSortStart: this.onSortStart,\n            axis: 'x',\n            distance: 1,\n            ref: 'component',\n            onClose,\n            onClick,\n            itemWrapper,\n        };\n\n        return (\n            <div\n                style={{width: '100%'}}\n                ref={node => this.container = node}\n                onMouseEnter={this.handleMouseEnter}\n                onMouseLeave={this.handleMouseLeave}\n            >\n                <SortableContainerList {...props}/>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport {Modal} from 'antd';\nimport './style.less';\n\n/**\n *  modal高级组件，确保每次弹框内部组件都是新创建的\n *  注：modal装饰器要放到所有其他装饰器上面（最外层）\n *\n * @param options 各种类型说明如下：\n *      string：modal 的 title\n *      function：modal 的title\n *      object：Modal组件相关配置，具体配置参考antd Modal组件\n *          title: string | ReactNode | function(props)\n *          fullScreen: boolean 是否全屏显示modal\n *          其他 ant Modal 属性\n *\n * @param options\n * @returns {function(*): {displayName, new(): ModalComponent, prototype: ModalComponent}}\n */\nexport default (options) => WrappedComponent => {\n    const componentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n    return class ModalComponent extends Component {\n        static displayName = `WithModal(${componentName})`;\n\n        getTitle = () => {\n            let title;\n\n            if (typeof options === 'string') title = options;\n\n            if (typeof options === 'function') title = options;\n\n            if (typeof options === 'object') title = options.title;\n\n            if (typeof title === 'function') title = title(this.props);\n\n            return title;\n        };\n\n        render() {\n            const {visible, onCancel} = this.props;\n            const title = this.getTitle();\n            const others = typeof options === 'object' ? options : {};\n\n            const {fullScreen} = others;\n\n            let className = 'modal-hoc-root';\n            let top = 100;\n            if (fullScreen) {\n                className += ' full-screen';\n                top = 0;\n            }\n\n            return (\n                <Modal\n                    className={className}\n                    destroyOnClose\n                    width=\"800px\"\n                    bodyStyle={{padding: 0}}\n                    style={{top}}\n                    footer={null}\n                    maskClosable={false}\n\n                    {...others}\n                    title={title}\n                    onCancel={onCancel}\n                    visible={visible}\n                >\n                    <WrappedComponent {...this.props}/>\n                </Modal>\n            );\n        }\n    }\n};\n","import React, {Component, Fragment} from 'react';\nimport {Button, Spin} from 'antd';\nimport PropTypes from 'prop-types';\nimport {getElementTop, getParentByClassName} from 'src/library/utils';\n\n/**\n * Modal 的内容容器，默认会使用屏幕剩余空间，内部内容滚动\n */\nexport default class ModalContent extends Component {\n    state = {\n        height: 'auto',\n    };\n\n    static propTypes = {\n        surplusSpace: PropTypes.bool,   // 是否使用屏幕剩余空间\n        loading: PropTypes.bool,        // 是否加载中\n        loadingTip: PropTypes.any,      // 加载中提示文案\n        otherHeight: PropTypes.number,  // 除了主体内容之外的其他高度，用于计算主体高度；\n        footer: PropTypes.any,          // 底部\n        okText: PropTypes.any,          // 确定按钮文案\n        okHtmlType: PropTypes.any,      // 确定按钮类型\n        resetText: PropTypes.any,       // 重置按钮文案\n        cancelText: PropTypes.any,      // 取消按钮文案\n        onOk: PropTypes.func,           // 确定事件\n        onCancel: PropTypes.func,       // 取消事件\n        onReset: PropTypes.func,        // 表单重置事件\n        style: PropTypes.object,        // 最外层容器样式\n        bodyStyle: PropTypes.object,    // 内容容器样式\n    };\n\n    static defaultProps = {\n        loading: false,\n        style: {},\n        bodyStyle: {},\n        surplusSpace: false,\n        okText: '确定',\n        okHtmlType: '',\n        resetText: '重置',\n        cancelText: '取消',\n        onOk: () => void 0,\n        onCancel: () => void 0,\n    };\n\n    componentDidMount() {\n        const {surplusSpace} = this.props;\n\n        if (surplusSpace) {\n            this.handleWindowResize();\n            window.addEventListener('resize', this.handleWindowResize);\n        }\n    }\n\n    componentWillUnmount() {\n        const {surplusSpace} = this.props;\n\n        if (surplusSpace) window.removeEventListener('resize', this.handleWindowResize);\n    }\n\n    handleWindowResize = () => {\n        let {otherHeight} = this.props;\n        const windowHeight = document.documentElement.clientHeight;\n        if (!otherHeight) {\n            const top = getElementTop(this.wrapper);\n            let bottom = 24;\n            const antModalDom = getParentByClassName(this.wrapper, 'ant-modal');\n\n            if (antModalDom) {\n                const classList = Array.from(antModalDom.classList);\n                const isFullScreen = classList.find(item => item.startsWith('full-screen'));\n\n                if (isFullScreen) bottom = 0;\n            }\n\n            otherHeight = top + bottom;\n        }\n        const height = windowHeight - otherHeight;\n\n        this.setState({height});\n    };\n\n    render() {\n        const {\n            surplusSpace,\n            loading,\n            loadingTip,\n            otherHeight,\n            style,\n            bodyStyle,\n            footer,\n            okHtmlType,\n            okText,\n            resetText,\n            cancelText,\n            onOk,\n            onCancel,\n            onReset,\n            children,\n            ...others\n        } = this.props;\n        const {height} = this.state;\n        return (\n            <Spin spinning={loading} tip={loadingTip}>\n                <div\n                    className=\"modal-content\"\n                    ref={node => this.wrapper = node}\n                    style={{display: 'flex', flexDirection: 'column', height, ...style}}\n                    {...others}\n                >\n                    <div style={{flex: 1, padding: 16, overflow: surplusSpace ? 'auto' : '', ...bodyStyle}}>\n                        {children}\n                    </div>\n                    {footer !== false ? (\n                        <div className=\"ant-modal-footer\" style={{flex: 0}}>\n                            {footer ? footer : (\n                                <Fragment>\n                                    <Button type=\"primary\" onClick={onOk} htmlType={okHtmlType}>{okText}</Button>\n                                    {onReset ? <Button onClick={onReset}>{resetText}</Button> : null}\n                                    <Button onClick={onCancel}>{cancelText}</Button>\n                                </Fragment>\n                            )}\n                        </div>\n                    ) : null}\n                </div>\n            </Spin>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Icon} from 'src/library/components';\nimport {Row, Col, Button, Input} from 'antd';\nimport modal from '../modal-hoc';\nimport ModalContent from '../modal-hoc/ModalContent';\n\n\nconst icons = [\n    {\n        title: '方向性图标',\n        types: ['step-backward', 'step-forward', 'fast-backward', 'fast-forward', 'shrink', 'arrows-alt', 'down', 'up', 'left', 'right', 'caret-up', 'caret-down', 'caret-left', 'caret-right', 'up-circle', 'down-circle', 'left-circle', 'right-circle', 'double-right', 'double-left', 'vertical-left', 'vertical-right', 'forward', 'backward', 'rollback', 'enter', 'retweet', 'swap', 'swap-left', 'swap-right', 'arrow-up', 'arrow-down', 'arrow-left', 'arrow-right', 'play-circle', 'up-square', 'down-square', 'left-square', 'right-square', 'login', 'logout', 'menu-fold', 'menu-unfold', 'border-bottom', 'border-horizontal', 'border-inner', 'border-left', 'border-right', 'border-top', 'border-verticle', 'pic-center', 'pic-left', 'pic-right', 'radius-bottomleft', 'radius-bottomright', 'radius-upleft', 'fullscreen', 'fullscreen-exit'],\n    },\n    {\n        title: '提示建议性图标',\n        types: ['question', 'question-circle', 'plus', 'plus-circle', 'pause', 'pause-circle', 'minus', 'minus-circle', 'plus-square', 'minus-square', 'info', 'info-circle', 'exclamation', 'exclamation-circle', 'close', 'close-circle', 'close-square', 'check', 'check-circle', 'check-square', 'clock-circle', 'warning', 'issues-close', 'stop'],\n    },\n    {\n        title: '编辑类图标',\n        types: ['edit', 'form', 'copy', 'scissor', 'delete', 'snippets', 'diff', 'highlight', 'align-center', 'align-left', 'align-right', 'bg-colors', 'bold', 'italic', 'underline', 'strikethrough', 'redo', 'undo', 'zoom-in', 'zoom-out', 'font-colors', 'font-size', 'line-height', 'column-height', 'dash', 'small-dash', 'sort-ascending', 'sort-descending', 'drag', 'ordered-list', 'radius-setting'],\n    },\n    {\n        title: '数据类图标',\n        types: ['area-chart', 'pie-chart', 'bar-chart', 'dot-chart', 'line-chart', 'radar-chart', 'heat-map', 'fall', 'rise', 'stock', 'box-plot', 'fund', 'sliders'],\n    },\n    {\n        title: '网站通用图标',\n        types: ['lock', 'unlock', 'bars', 'book', 'calendar', 'cloud', 'cloud-download', 'code', 'copy', 'credit-card', 'delete', 'desktop', 'download', 'ellipsis', 'file', 'file-text', 'file-unknown', 'file-pdf', 'file-word', 'file-excel', 'file-jpg', 'file-ppt', 'file-markdown', 'file-add', 'folder', 'folder-open', 'folder-add', 'hdd', 'frown', 'meh', 'smile', 'inbox', 'laptop', 'appstore', 'link', 'mail', 'mobile', 'notification', 'paper-clip', 'picture', 'poweroff', 'reload', 'search', 'setting', 'share-alt', 'shopping-cart', 'tablet', 'tag', 'tags', 'to-top', 'upload', 'user', 'video-camera', 'home', 'loading', 'loading-3-quarters', 'cloud-upload', 'star', 'heart', 'environment', 'eye', 'eye-invisible', 'camera', 'save', 'team', 'solution', 'phone', 'filter', 'exception', 'export', 'customer-service', 'qrcode', 'scan', 'like', 'dislike', 'message', 'pay-circle', 'calculator', 'pushpin', 'bulb', 'select', 'switcher', 'rocket', 'bell', 'disconnect', 'database', 'compass', 'barcode', 'hourglass', 'key', 'flag', 'layout', 'printer', 'sound', 'usb', 'skin', 'tool', 'sync', 'wifi', 'car', 'schedule', 'user-add', 'user-delete', 'usergroup-add', 'usergroup-delete', 'man', 'woman', 'shop', 'gift', 'idcard', 'medicine-box', 'red-envelope', 'coffee', 'copyright', 'trademark', 'safety', 'wallet', 'bank', 'trophy', 'contacts', 'global', 'shake', 'api', 'fork', 'dashboard', 'table', 'profile', 'alert', 'audit', 'branches', 'build', 'border', 'crown', 'experiment', 'fire', 'money-collect', 'property-safety', 'read', 'reconciliation', 'rest', 'security-scan', 'insurance', 'interaction', 'safety-certificate', 'project', 'thunderbolt', 'block', 'cluster', 'deployment-unit', 'dollar', 'euro', 'pound', 'file-done', 'file-exclamation', 'file-protect', 'file-search', 'file-sync', 'gateway', 'gold', 'robot', 'shopping'],\n    },\n    {\n        title: '品牌和标识',\n        types: ['android', 'apple', 'windows', 'ie', 'chrome', 'github', 'aliwangwang', 'dingding', 'weibo-square', 'weibo-circle', 'taobao-circle', 'html5', 'weibo', 'twitter', 'wechat', 'youtube', 'alipay-circle', 'taobao', 'skype', 'qq', 'medium-workmark', 'gitlab', 'medium', 'linkedin', 'google-plus', 'dropbox', 'facebook', 'codepen', 'code-sandbox', 'amazon', 'google', 'codepen-circle', 'alipay', 'ant-design', 'aliyun', 'zhihu', 'slack', 'slack-square', 'behance', 'behance-square', 'dribbble', 'dribbble-square', 'instagram', 'yuque', 'alibaba', 'yahoo'],\n    },\n];\n\n@modal('图标')\nexport default class IconPicker extends Component {\n    static propTypes = {\n        visible: PropTypes.bool,\n        title: PropTypes.any,\n        onOk: PropTypes.func,\n        onCancel: PropTypes.func,\n    };\n\n    state = {\n        selectedIcon: '',\n        dataSource: icons,\n    };\n\n    handleOk = () => {\n        const {onOk} = this.props;\n        const {selectedIcon} = this.state;\n\n        if (onOk) onOk(selectedIcon);\n    };\n\n    handleCancel = () => {\n        const {onCancel} = this.props;\n        if (onCancel) onCancel();\n    };\n\n    handleClick = (selectedIcon) => {\n        this.setState({selectedIcon});\n    };\n\n    handleInputChange = (e) => {\n        const {value} = e.target;\n        const dataSource = icons.map(item => {\n            const types = item.types.filter(it => it.indexOf(value) !== -1);\n            return {...item, types};\n        });\n\n        this.setState({dataSource});\n    };\n\n    render() {\n        const {dataSource, selectedIcon} = this.state;\n        return (\n            <ModalContent\n                onOk={this.handleOk}\n                onCancel={this.handleCancel}\n            >\n                <div style={{padding: 10}}>\n                    <div style={{marginBottom: 16}}>\n                        <Input.Search placeholder=\"Search\" onChange={this.handleInputChange}/>\n                    </div>\n                    <div>\n                        {dataSource.map(item => {\n                            const {title, types} = item;\n\n                            if (!types?.length) return null;\n\n                            return (\n                                <div key={title}>\n                                    <h3>{title}</h3>\n                                    <Row>\n                                        {types.map(type => {\n                                            return (\n                                                <Col style={{marginBottom: 16}} key={type} span={3}>\n                                                    <Button\n                                                        style={{\n                                                            display: 'flex',\n                                                            flexDirection: 'column',\n                                                            justifyContent: 'center',\n                                                            alignItems: 'center',\n                                                            width: 50,\n                                                            height: 50,\n                                                            cursor: 'pointer',\n                                                        }}\n                                                        type={selectedIcon === type ? 'primary' : 'default'}\n                                                        onClick={() => this.handleClick(type)}\n                                                    >\n                                                        <Icon style={{fontSize: 20}} type={type}/>\n                                                    </Button>\n                                                </Col>\n                                            );\n                                        })}\n                                    </Row>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            </ModalContent>\n        );\n    }\n}\n","import React, {Component, Fragment} from 'react';\nimport {Icon} from 'src/library/components';\nimport {CloseCircleOutlined} from '@ant-design/icons';\nimport IconModal from './IconModal';\n\nexport default class IconPicker extends Component {\n    state = {\n        visible: false,\n        type: 'user',\n    };\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        const {value} = nextProps;\n        return {type: value};\n    }\n\n    handleOk = (type) => {\n        const {onChange} = this.props;\n        if (onChange) onChange(type);\n\n        this.setState({visible: false});\n    };\n\n    handleClear = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const {onChange} = this.props;\n        if (onChange) onChange();\n    };\n\n    render() {\n        const {\n            type,\n            visible,\n        } = this.state;\n\n        return (\n            <Fragment>\n                <div\n                    style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                        height: 28,\n                        padding: '0 10px',\n                        border: '1px solid #d9d9d9',\n                        borderRadius: 4,\n                        cursor: 'pointer',\n                    }}\n                    onClick={() => this.setState({visible: true})}\n                >\n                    {type ? (\n                        <Fragment>\n                            <Icon type={type}/>\n                            <CloseCircleOutlined onClick={this.handleClear}/>\n                        </Fragment>\n                    ) : (\n                        <span style={{color: '#c7c7c7'}}>请选择图标</span>\n                    )}\n                </div>\n                <IconModal\n                    visible={visible}\n                    onOk={this.handleOk}\n                    onCancel={() => this.setState({visible: false})}\n                />\n            </Fragment>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Form} from 'antd';\nimport {QuestionCircleOutlined} from '@ant-design/icons';\nimport {\n    InputNumber,\n    Input,\n    Select,\n    TreeSelect,\n    Checkbox,\n    Radio,\n    Switch,\n    DatePicker,\n    TimePicker,\n    Cascader,\n    Tooltip,\n    Transfer,\n} from 'antd';\nimport IconPicker from '../icon-picker';\nimport './index.less';\n\nconst {TextArea, Password} = Input;\nconst FormItem = Form.Item;\n\n// input hidden number textarea password mobile email select select-tree checkbox checkbox-group radio radio-group switch date time date-time date-range cascader\n\n/**\n * 类似 input 元素\n * @param type\n * @returns {boolean}\n */\nexport function isInputLikeElement(type) {\n    return [\n        'input',\n        'hidden',\n        'number',\n        'textarea',\n        'password',\n        'mobile',\n        'email',\n        'json',\n    ].includes(type);\n}\n\nfunction getElement(item) {\n    const {type = 'input', component, ...props} = item;\n\n    const commonProps = {\n        size: 'default',\n    };\n    // 样式\n    // const width = props.width || '100%';\n    // const elementCommonStyle = {width};\n    // props.style = props.style ? {...elementCommonStyle, ...props.style} : elementCommonStyle;\n\n    // 如果 component 存在，说明是自定义组件\n    if (component) {\n        return typeof component === 'function' ? component() : component;\n    }\n\n    if (isInputLikeElement(type)) {\n        if (type === 'number') return <InputNumber {...commonProps} {...props}/>;\n        if (type === 'textarea') return <TextArea {...commonProps} {...props}/>;\n        if (type === 'password') return <Password {...commonProps} {...props}/>;\n\n        return <Input {...commonProps} type={type} {...props}/>;\n    }\n\n    if (type === 'select') {\n        const {options = [], ...others} = props;\n\n        return (\n            <Select {...commonProps} {...others}>\n                {\n                    options.map(opt => <Select.Option key={opt.value} {...opt}>{opt.label}</Select.Option>)\n                }\n            </Select>\n        );\n    }\n\n    if (type === 'select-tree') return <TreeSelect {...commonProps} {...props} treeData={props.options}/>;\n\n    if (type === 'checkbox') return <Checkbox {...commonProps} {...props}>{props.label}</Checkbox>;\n    if (type === 'checkbox-group') return <Checkbox.Group {...commonProps} {...props}/>;\n\n    if (type === 'radio') return <Radio {...commonProps} {...props}>{props.label}</Radio>;\n    if (type === 'radio-group') return <Radio.Group {...commonProps} {...props}/>;\n    if (type === 'radio-button') {\n        const {options = [], ...others} = props;\n        return (\n            <Radio.Group buttonStyle=\"solid\" {...commonProps} {...others}>\n                {options.map(opt => <Radio.Button key={opt.value} {...opt}>{opt.label}</Radio.Button>)}\n            </Radio.Group>\n        );\n    }\n\n    if (type === 'cascader') return <Cascader {...commonProps} {...props}/>;\n\n    if (type === 'switch') return <Switch {...commonProps} {...props} style={{...props.style, width: 'auto'}}/>;\n\n    if (type === 'date') return <DatePicker {...commonProps} {...props}/>;\n\n    if (type === 'date-time') return <DatePicker {...commonProps} showTime {...props}/>;\n\n    if (type === 'date-range') return <DatePicker.RangePicker {...commonProps} {...props}/>;\n\n    if (type === 'month') return <DatePicker.MonthPicker {...commonProps} {...props}/>;\n\n    if (type === 'time') return <TimePicker {...commonProps} {...props}/>;\n\n    if (type === 'transfer') return <Transfer {...commonProps} {...props}/>;\n\n    if (type === 'icon-picker') return <IconPicker {...commonProps} {...props}/>;\n\n    throw new Error(`no such type: ${type}`);\n}\n\nclass FormElement extends Component {\n    static propTypes = {\n        // 自定义属性\n        form: PropTypes.object,\n        type: PropTypes.string.isRequired,\n        labelWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        labelTip: PropTypes.any,\n        tip: PropTypes.any,\n        decorator: PropTypes.object,\n        style: PropTypes.object, // 最外层元素样式\n        elementStyle: PropTypes.object, // 表单元素样式\n        layout: PropTypes.bool,\n        noSpace: PropTypes.bool, // 是否允许用户输入空格\n        // 校验相关\n        maxLength: PropTypes.number, // 允许输入最大字符数\n        minLength: PropTypes.number, // 允许输入最小字符数\n\n        // Form.Item属性\n        colon: PropTypes.any,\n        dependencies: PropTypes.any,\n        extra: PropTypes.any,\n        getValueFromEvent: PropTypes.any,\n        hasFeedback: PropTypes.any,\n        help: PropTypes.any,\n        htmlFor: PropTypes.any,\n        noStyle: PropTypes.any,\n        label: PropTypes.any,\n        labelAlign: PropTypes.any,\n        labelCol: PropTypes.any,\n        name: PropTypes.any,\n        normalize: PropTypes.any,\n        required: PropTypes.any,\n        rules: PropTypes.any,\n        shouldUpdate: PropTypes.any,\n        trigger: PropTypes.any,\n        validateFirst: PropTypes.any,\n        validateStatus: PropTypes.any,\n        validateTrigger: PropTypes.any,\n        valuePropName: PropTypes.any,\n        wrapperCol: PropTypes.any,\n\n        // 其他\n        className: PropTypes.any,\n        onChange: PropTypes.any,\n        onClick: PropTypes.any,\n        onBlur: PropTypes.any,\n        autoFocus: PropTypes.any,\n        htmlType: PropTypes.any,\n    };\n\n    static defaultProps = {\n        type: 'input',\n        style: {},\n        elementStyle: {},\n        layout: false,\n        noSpace: false,\n        trim: true,\n        getValueFromEvent: e => {\n            if (!e || !e.target) {\n                return e;\n            }\n            const {target} = e;\n            return target.type === 'checkbox' ? target.checked : target.value;\n        },\n    };\n\n    // 获取校验信息\n    getRules = (rules = [], placeholder) => {\n        const {\n            required,\n            maxLength,\n            minLength,\n        } = this.props;\n\n        // 如果存在required属性，自动添加必填校验\n        if (required && !rules.find(item => 'required' in item)) {\n            rules.push({required: true, message: `${placeholder}!`});\n        }\n\n        if (maxLength !== void 0 && !rules.find(item => 'max' in item)) {\n            rules.push({max: maxLength, message: `最大长度不能超过 ${maxLength} 个字符！`});\n        }\n\n        if (minLength !== void 0 && !rules.find(item => 'min' in item)) {\n            rules.push({min: minLength, message: `最小长度不能低于 ${minLength} 个字符！`});\n        }\n\n        return rules;\n    };\n\n    render() {\n        let {\n            // 自定义属性\n            type = 'input',\n            labelWidth,\n            width, // 整体宽度，默认 100%\n            labelTip,\n            tip,\n            decorator,\n            style,\n            elementStyle,\n            layout,\n            forwardedRef,\n            noSpace,\n            trim,\n            // 校验相关\n            maxLength,\n            minLength,\n\n            // Form.Item属性\n            colon,\n            dependencies,\n            extra,\n            getValueFromEvent,\n            hasFeedback,\n            help,\n            htmlFor,\n            noStyle,\n            label,\n            labelAlign,\n            labelCol,\n            name,\n            normalize,\n            required,\n            rules,\n            shouldUpdate,\n            trigger,\n            validateFirst,\n            validateStatus,\n            validateTrigger,\n            valuePropName,\n            wrapperCol,\n\n            children,\n\n            // 其他的会直接作为Form 表单元素属性\n            ...others\n        } = this.props;\n\n\n        if (type === 'switch') {\n            valuePropName = 'checked';\n        }\n\n        if (type === 'transfer') {\n            valuePropName = 'targetKeys';\n        }\n\n        if (!labelCol && labelWidth !== undefined) {\n            labelCol = {flex: `0 0 ${labelWidth}px`};\n        }\n\n        // 处理整体样式\n        const wrapperStyle = {};\n        if (width !== void 0) {\n            wrapperStyle.width = width;\n            wrapperStyle.flexBasis = width;\n            wrapperStyle.flexGrow = 0;\n            wrapperStyle.flexShrink = 0;\n        } else {\n            wrapperStyle.flex = 1;\n        }\n\n        // 处理元素样式\n        let eleStyle = {width: '100%'};\n        eleStyle = {...eleStyle, ...elementStyle};\n\n        // 处理placeholder\n        if (!('placeholder' in others)) {\n            if (isInputLikeElement(type)) {\n                others.placeholder = `请输入${label}`;\n            } else if (type === 'date-range') {\n                others.placeholder = ['开始日期', '结束日期'];\n            } else {\n                others.placeholder = `请选择${label}`;\n            }\n        }\n\n        if (!('allowClear' in others) && isInputLikeElement(type)) {\n            others.allowClear = true;\n        }\n\n        rules = this.getRules(rules, others.placeholder);\n\n        let formLabel = label;\n        if (labelTip) {\n            formLabel = (\n                <span>\n                    <Tooltip\n                        placement=\"bottom\"\n                        title={labelTip}\n                    >\n                        <QuestionCircleOutlined style={{marginRight: '4px'}}/>\n                    </Tooltip>\n                    {label}\n                </span>\n            );\n        }\n\n        const getValueFromEventNoSpace = noSpace ? (e) => {\n            if (isInputLikeElement(type)) {\n                let value = (!e || !e.target) ? e : e.target.value;\n\n                if (value && typeof value === 'string') return value.replace(/\\s/g, '');\n\n                return value;\n            } else {\n                return getValueFromEvent(e);\n            }\n        } : getValueFromEvent;\n\n        const elementProps = {\n            ...others, ref: forwardedRef, style: eleStyle,\n        };\n\n        if (layout) {\n            formLabel = formLabel || '';\n            colon = false;\n        } else {\n            if (children && !shouldUpdate) {\n                children = children ? React.cloneElement(children, elementProps) : null;\n            } else {\n                children = getElement({type, ...elementProps});\n            }\n        }\n\n        // 不处理不显示红色星号\n        if (!formLabel && required) formLabel = ' ';\n        return (\n            <div\n                style={{display: type === 'hidden' ? 'none' : 'flex', ...wrapperStyle, ...style}}\n                className=\"form-element-flex-root\"\n                ref={node => this.container = node}\n            >\n                <FormItem\n                    colon={colon}\n                    dependencies={dependencies}\n                    extra={extra}\n                    getValueFromEvent={getValueFromEventNoSpace}\n                    hasFeedback={hasFeedback}\n                    help={help}\n                    htmlFor={htmlFor}\n                    noStyle={noStyle}\n                    label={formLabel}\n                    labelAlign={labelAlign}\n                    labelCol={labelCol}\n                    name={name}\n                    normalize={normalize}\n                    required={required}\n                    rules={rules}\n                    shouldUpdate={shouldUpdate}\n                    trigger={trigger}\n                    validateFirst={validateFirst}\n                    validateStatus={validateStatus}\n                    validateTrigger={validateTrigger}\n                    valuePropName={valuePropName}\n                    wrapperCol={wrapperCol}\n                >\n                    {children}\n                </FormItem>\n                {tip ? <div className=\"font-element-tip\">{tip}</div> : null}\n            </div>\n        );\n    }\n}\n\nexport default React.forwardRef((props, ref) => {\n    return <FormElement {...props} forwardedRef={ref}/>;\n});\n","import React from 'react';\nimport './style.less';\n\nexport default function (props) {\n    return (<div className=\"form-row-root\" {...props}/>);\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { DownOutlined, LoadingOutlined } from '@ant-design/icons';\nimport {Icon} from 'src/library/components';\nimport { Popconfirm, Dropdown, Menu, Tooltip } from 'antd';\nimport './index.less';\n\n/**\n * 操作封装，一般用于表格最后的操作列中\n */\nexport default class Operator extends Component {\n    static propTypes = {\n        items: PropTypes.arrayOf(PropTypes.shape({\n            label: PropTypes.isRequired,\n            icon: PropTypes.string,\n            visible: PropTypes.bool,\n            disabled: PropTypes.bool,\n            color: PropTypes.string,\n            loading: PropTypes.bool,\n            isMore: PropTypes.bool,\n\n            onClick: PropTypes.func,\n            confirm: PropTypes.object,\n            statusSwitch: PropTypes.object,\n        })),\n        moreText: PropTypes.any,\n        moreContentWidth: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number,\n        ]),\n        moreTrigger: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.array,\n        ]),\n    };\n\n    static defaultProps = {\n        items: [],\n        moreText: <span>更多<DownOutlined /></span>,\n        moreContentWidth: 'auto',\n        moreTrigger: 'click',\n    };\n\n    loadingIcon = <LoadingOutlined />;\n\n    label = {};\n\n    getLabel = (options, i) => {\n        let {label, icon, loading, color, disabled} = options;\n\n        if (loading) {\n            const labelWidth = this.label[i] ? this.label[i].offsetWidth : 'auto';\n            return <a className=\"operator-label\" style={{display: 'inline-block', width: labelWidth, textAlign: 'center'}}>{this.loadingIcon}</a>;\n        }\n\n        const labelStyle = {};\n\n        if (color) labelStyle.color = color;\n\n        if (icon) {\n            label = <Tooltip placement=\"bottom\" title={label}><Icon style={{fontSize: 16}} type={icon}/></Tooltip>;\n        }\n\n        return <a className={`operator-label ${disabled ? 'operator-label-disabled' : ''}`} style={labelStyle} ref={v => this.label[i] = v}>{label}</a>;\n    };\n\n    /*\n     * 如果含有confirm属性，即表明是Popconfirm，\n     * confirm作为Popconfirm的props\n     *\n     * 其他元素同理\n     * */\n    getConfirm = (options, i) => {\n        let label = this.getLabel(options, i);\n        const {confirm, withKey = true} = options;\n\n        // 配合 alt command ctrl 键使用，不弹出提示\n        if (withKey) {\n            label = (\n                <span onClick={(e) => {\n                    if (e.altKey || e.metaKey || e.ctrlKey) {\n                        e.stopPropagation();\n                        e.preventDefault();\n\n                        if (confirm && confirm.onConfirm) {\n                            confirm.onConfirm(e);\n                        }\n                    }\n                }}>\n                    {label}\n                </span>\n            );\n        }\n        return (\n            <Popconfirm {...confirm}>\n                {label}\n            </Popconfirm>\n        );\n    };\n\n    getText = (options, i) => {\n        let label = this.getLabel(options, i);\n        const {onClick} = options;\n\n        if (options.label.type === 'a') return <span onClick={onClick}>{label}</span>;\n\n        return <span onClick={onClick}>{label}</span>;\n    };\n\n    getStatusSwitch = (opt, i) => {\n        const {statusSwitch, disabled = false} = opt;\n        const {status} = statusSwitch;\n        const props = {...statusSwitch};\n        const icon = status ? 'check-circle' : 'minus-circle-o';\n        const color = status ? 'green' : 'red';\n\n        const defaultLabel = <Icon type={icon}/>;\n        let label = this.getLabel({...opt, label: defaultLabel, color}, i);\n\n        // 如果没有权限，不允许进行操作，只做展示\n        if (disabled) return label;\n\n        Reflect.deleteProperty(props, 'status');\n        return (\n            <Popconfirm {...props}>\n                {label}\n            </Popconfirm>\n        );\n    };\n\n    getItem = (opt, i) => {\n        const {\n            confirm,\n            statusSwitch,\n            visible = true,\n            disabled = false,\n        } = opt;\n\n        if (visible) {\n            // 因为label特殊，getStatusSwitch 内部自己判断了是否可用\n            if (disabled && statusSwitch) return this.getStatusSwitch(opt, i);\n\n            if (disabled) {\n                opt.color = '#ccc';\n                return this.getLabel(opt, i);\n            }\n\n            if (confirm) return this.getConfirm(opt, i);\n\n            if (statusSwitch) return this.getStatusSwitch(opt, i);\n\n            return this.getText(opt, i);\n        }\n        return null;\n    };\n\n    render() {\n        let {items, moreText, moreContentWidth, moreTrigger} = this.props;\n        let operators = [];\n        let more = [];\n\n        if (typeof moreTrigger === 'string') {\n            moreTrigger = [moreTrigger];\n        }\n\n        items.forEach((opt, i) => {\n            const {isMore} = opt;\n            const item = this.getItem(opt, i);\n\n            if (item) {\n                if (isMore) {\n                    more.push(item);\n                } else {\n                    operators.push(item);\n                }\n            }\n        });\n\n        if (more && more.length) { // 更多\n            const menu = (\n                <Menu style={{width: moreContentWidth}}>\n                    {\n                        more.map((item, index) => <Menu.Item key={item.label || index}>{item}</Menu.Item>)\n                    }\n                </Menu>\n            );\n            operators.push(\n                <Dropdown overlay={menu} trigger={moreTrigger}>\n                    <a className=\"operator-label\">\n                        {moreText}\n                    </a>\n                </Dropdown>\n            );\n        }\n\n        const operatorsLength = operators.length;\n\n        if (!operatorsLength) {\n            return null;\n        }\n\n        return (\n            <span>\n                {operators.map((v, i) => (\n                    <span key={v.label || `operator-${i}`}>\n                        {v}\n                        {operatorsLength === i + 1 ? '' : <span className=\"operator-divider\"/>}\n                    </span>\n                ))}\n            </span>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Pagination} from 'antd';\nimport './index.less';\n\n/**\n * 分页封装\n */\nexport default class PaginationComponent extends Component {\n    static propTypes = {\n        size: PropTypes.string,\n        showSizeChanger: PropTypes.bool,\n        showQuickJumper: PropTypes.bool,\n        showMessage: PropTypes.bool,\n        pageSize: PropTypes.number,\n        pageNum: PropTypes.number,\n        total: PropTypes.number,\n        onPageNumChange: PropTypes.func,\n        onPageSizeChange: PropTypes.func,\n    };\n\n    static defaultProps = {\n        size: 'small',\n        showSizeChanger: true,\n        showQuickJumper: true,\n        showMessage: true,\n        pageSize: 15,\n        pageNum: 1,\n        total: 0,\n        onPageNumChange: () => void 0,\n        onPageSizeChange: () => void 0,\n    };\n\n    render() {\n        const {\n            size,\n            showSizeChanger,\n            showQuickJumper,\n            showMessage,\n            pageSize,\n            pageNum,\n            total,\n            onPageNumChange,\n            onPageSizeChange,\n        } = this.props;\n\n        const props = {};\n        if (showSizeChanger) {\n            props.showSizeChanger = true;\n        }\n        if (showQuickJumper) {\n            props.showQuickJumper = true;\n        }\n\n        const totalPage = Math.ceil(total / pageSize);\n        let style = this.props.style;\n        if (total <= 0) {\n            style = {/* display: 'none', */ ...style};\n        }\n        return (\n            <div className=\"pagination-wrap\" style={style}>\n                <Pagination\n                    {...props}\n                    size={size}\n                    pageSizeOptions={['10', '15', '20', '30', '50', '100']}\n                    onShowSizeChange={(num, size) => onPageSizeChange(size)}\n                    onChange={(num) => onPageNumChange(num)}\n                    defaultCurrent={1}\n                    pageSize={pageSize}\n                    current={pageNum}\n                    total={total}\n                />\n                {showMessage ? (\n                    <div className=\"total-count\">\n                        共{totalPage}页 {total}条数据\n                    </div>\n                ) : null}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {DownCircleOutlined, UpCircleOutlined} from '@ant-design/icons';\nimport classNames from 'classnames';\nimport './index.less';\n\nexport default class QueryBar extends React.Component {\n    static propTypes = {\n        collapsed: PropTypes.bool,          // 展开/收起 状态\n        onCollapsedChange: PropTypes.func,  // 展开/收起 状态改变\n    };\n\n    static defaultProps = {\n        onCollapsedChange: collapsed => collapsed,\n    };\n\n    state = {\n        showCollapsed: false,\n    };\n\n    static getDerivedStateFromProps(nextProps) {\n        const showCollapsed = 'collapsed' in nextProps;\n\n        return {showCollapsed};\n    }\n\n    handleCollapsedChange = (e) => {\n        e.preventDefault();\n        const {onCollapsedChange, collapsed} = this.props;\n\n        if (onCollapsedChange) {\n            onCollapsedChange(!collapsed);\n        }\n\n        // 页面内容有改动，页面中有可能有撑满全屏的元素，需要调整\n        // 切换时，滚动条会有闪动，需要调整body的overflow\n        const oldOverflow = document.body.style.overflow;\n        document.body.style.overflow = 'hidden';\n        setTimeout(() => {\n            window.dispatchEvent(new Event('resize'));\n            document.body.style.overflow = oldOverflow;\n        });\n    };\n\n    render() {\n        const {\n            collapsed,\n            className,\n            onCollapsedChange,\n            ...others\n        } = this.props;\n        const {showCollapsed} = this.state;\n\n        return (\n            <div\n                className={classNames(className, 'sx-query-bar', {'with-collapse': showCollapsed})}\n                {...others}\n            >\n                {\n                    showCollapsed ? (\n                        <a className=\"sx-query-bar-collapsed\" onClick={this.handleCollapsedChange}>\n                            {collapsed ? <DownCircleOutlined/> : <UpCircleOutlined/>}\n                        </a>\n                    ) : null\n                }\n                {this.props.children}\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Table} from 'antd';\nimport {getElementTop} from 'src/library/utils';\n\nexport default class TableComponent extends Component {\n    static propTypes = {\n        surplusSpace: PropTypes.bool, // 是否使用剩余空间，如果 true 表格将铺满全屏\n        serialNumber: PropTypes.bool, // 是否显示序号\n        pageSize: PropTypes.number,\n        pageNum: PropTypes.number,\n        serialText: PropTypes.string,\n        otherHeight: PropTypes.number,\n        offsetHeight: PropTypes.number,\n    };\n\n    static defaultProps = {\n        surplusSpace: true,\n        pagination: false,\n        serialText: '#',\n    };\n\n    state = {\n        tableBodyHeight: 300,\n    };\n\n    componentDidMount() {\n        if (this.props.surplusSpace) {\n            this.setTableBodyHeight();\n            window.addEventListener('resize', this.setTableBodyHeight);\n        }\n    };\n\n    componentDidUpdate(prevProps) {\n        if (this.props.surplusSpace) {\n            const prevDataSource = prevProps.dataSource;\n            const {dataSource} = this.props;\n\n            if (dataSource?.length !== prevDataSource?.length) {\n                this.setTableBodyHeight();\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.props.surplusSpace) {\n            window.removeEventListener('resize', this.setTableBodyHeight);\n        }\n    }\n\n    setTableBodyHeight = () => {\n        this.tableBody = this.wrapper.querySelector('.ant-table-tbody');\n        this.tablePlaceholder = this.wrapper.querySelector('.ant-table-placeholder');\n        this.tableHead = this.wrapper.querySelector('.ant-table-header');\n\n        const {pathname, search} = window.location;\n        const currentPath = window.decodeURIComponent(`${pathname}${search}`);\n        const activeTab = document.getElementById(currentPath);\n        this.pagination = (activeTab ? activeTab : document).querySelector('.pagination-wrap');\n\n        let tableBodyHeight;\n        const {dataSource} = this.props;\n        const windowHeight = document.documentElement.clientHeight;\n\n        // 计算除了表格内容之外，其他高度\n        if ('otherHeight' in this.props) {\n            const {otherHeight} = this.props;\n            tableBodyHeight = windowHeight - otherHeight;\n        } else {\n            const tableHeadHeight = this.tableHead?.offsetHeight + 1 || 0;\n            const paginationHeight = this.pagination ? this.pagination.offsetHeight + 8 : 0;\n            const bottomHeight = paginationHeight + 10 + 10;\n\n            const tableOffsetTop = getElementTop(this.wrapper);\n            const otherHeight = tableOffsetTop + tableHeadHeight + bottomHeight;\n\n            tableBodyHeight = windowHeight - otherHeight;\n\n            if ('offsetHeight' in this.props) tableBodyHeight = tableBodyHeight - this.props.offsetHeight;\n        }\n\n        if (dataSource?.length) {\n            this.tableBody.style.height = `${tableBodyHeight}px`;\n        } else {\n            this.tableBody.style.height = '0px';\n            this.tablePlaceholder.style.height = `${tableBodyHeight - 36}px`;\n        }\n\n        this.setState({tableBodyHeight});\n    };\n\n    render() {\n        let {\n            scroll = {},\n            pagination,\n            surplusSpace,\n            serialNumber,\n            serialText,\n            // 分页属性\n\n            pageSize,\n            pageNum,\n\n            rowSelection,\n            columns,\n            ...others\n        } = this.props;\n        const {tableBodyHeight} = this.state;\n        let tableScroll = surplusSpace ? {y: tableBodyHeight, ...scroll} : scroll;\n\n        if (rowSelection === true) rowSelection = {};\n\n        if (!rowSelection) rowSelection = void 0;\n\n        if (serialNumber) {\n            if (this.pagination) {\n                if (!('pageNum' in this.props)) console.error('分页表格如果显示序号，需要传递pageNum属性');\n                if (!('pageSize' in this.props)) console.error('分页表格如果显示序号，需要传递pageSize属性');\n            }\n\n            columns = [\n                {\n                    title: serialText,\n                    width: 70,\n                    dataIndex: '__num',\n                    key: '__num',\n                    render: (value, record, index) => {\n                        if (this.pagination) {\n                            return (index + 1) + pageSize * (pageNum - 1);\n                        } else {\n                            return index + 1;\n                        }\n                    },\n                },\n                ...columns,\n            ];\n        }\n\n        return (\n            <div ref={node => this.wrapper = node}>\n                <Table\n                    scroll={tableScroll}\n                    pagination={false}\n                    rowSelection={rowSelection}\n                    {...others}\n                    columns={columns}\n                />\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport {SortableContainer, SortableElement} from \"react-sortable-hoc\";\nimport './index.less';\n\n\nlet RowElement = SortableElement((props) => {\n    return props.children;\n});\n\n\nlet BodyContainer = SortableContainer(props => {\n    const {\n        children,\n        ...others\n    } = props;\n\n    return (\n        <tbody {...others}>{children.map((item, index) => {\n            const {key} = item;\n\n            return (\n                <RowElement\n                    key={key}\n                    index={index}\n                >\n                    {item}\n                </RowElement>\n            );\n        })}</tbody>\n    );\n});\n\nfunction getCss(element, attr) {\n    if (element.currentStyle) {\n        return element.currentStyle[attr];\n    } else {\n        return window.getComputedStyle(element)[attr];\n    }\n}\n\n\nexport default function DragRow(OriTable) {\n\n    class DragRowTable extends Component {\n        constructor(props) {\n            super(props);\n\n            const {helperClass, onSortStart, onSortEnd} = this.props;\n\n            const handleSortStart = (...args) => {\n                onSortStart && onSortStart(...args);\n\n                // 保持tr样式\n                const helperTds = document.querySelectorAll('.helper-element > td');\n                const tr = this.body.container.querySelector('tr');\n                const tds = tr.querySelectorAll('td');\n\n                tds.forEach((item, index) => {\n                    const width = getCss(item, 'width');\n                    helperTds[index].style.width = width;\n                });\n            };\n\n            let BodyWrapper = (props) => {\n                const injectProps = {\n                    onSortEnd: onSortEnd,\n                    onSortStart: handleSortStart,\n                    helperClass: classnames(helperClass, 'helper-element'),\n                };\n                return <BodyContainer ref={node => this.body = node} {...injectProps} {...props}/>\n            };\n\n            this.components = {\n                body: {\n                    wrapper: BodyWrapper,\n                },\n            };\n        }\n\n        static propTypes = {\n            onSortEnd: PropTypes.func.isRequired,\n            helperClass: PropTypes.string,\n        };\n\n        render() {\n            const {\n                className,\n                onSortStart,\n                onSortEnd,\n                helperClass,\n                ...others\n            } = this.props;\n            const classNames = classnames(className, 'sx-table-row-draggable');\n\n            return (\n                <OriTable\n                    {...others}\n                    className={classNames}\n                    components={this.components}\n                />\n            );\n        }\n    }\n\n    return DragRowTable;\n}\n\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport './index.less';\n\nexport default class ToolBar extends Component {\n    static propTypes = {\n        right: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        right: false,\n    };\n\n    render() {\n        const {style = {}, right, children, ...others} = this.props;\n\n        if (right && !style.justifyContent) {\n            style.justifyContent = 'flex-end';\n        }\n\n        return (\n            <div className=\"tool-bar-root\" style={style} {...others}>\n                {children}\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport { UserOutlined } from '@ant-design/icons';\nimport { Avatar } from \"antd\";\nimport PropTypes from 'prop-types';\n\n/**\n * 根据用户信息（name src）获取用户头像\n * 如果src存在，返回img头像\n * 如果src不存在，返回name[0] 待背景颜色的span（只有背景色，无其他样式）\n */\nexport default class UserAvatar extends Component {\n    static propTypes = {\n        name: PropTypes.string,\n        src: PropTypes.string,\n    };\n\n    render() {\n        const {name = 'unknown', src, icon, ...others} = this.props;\n\n        if (icon === true) return <UserOutlined style={{marginRight: 5}} />;\n\n        if (src) return <Avatar {...others} src={src}/>;\n\n        const nameFirstChar = name[0];\n        const colors = [\n            'rgb(80, 193, 233)',\n            'rgb(255, 190, 26)',\n            'rgb(228, 38, 146)',\n            'rgb(169, 109, 243)',\n            'rgb(253, 117, 80)',\n            'rgb(103, 197, 12)',\n            'rgb(80, 193, 233)',\n            'rgb(103, 197, 12)',\n        ];\n        const backgroundColor = colors[nameFirstChar.charCodeAt(0) % colors.length];\n\n        if (!others.style) others.style = {};\n\n        others.style.backgroundColor = backgroundColor;\n        others.style.verticalAlign = 'middle';\n\n        return (\n            <Avatar{...others}>\n                {nameFirstChar}\n            </Avatar>\n        );\n    }\n}\n","import warning from \"rc-util/es/warning\";\nexport default (function (valid, component, message) {\n    warning(valid, \"[antd-compatible: \".concat(component, \"] \").concat(message));\n});\n","import camelCase from 'lodash.camelcase';\nimport upperFirst from 'lodash.upperfirst';\nimport warning from './warning'; // These props make sure that the SVG behaviours like general text.\n// Reference: https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\n\nexport var svgBaseProps = {\n    width: '1em',\n    height: '1em',\n    fill: 'currentColor',\n    'aria-hidden': true,\n    focusable: 'false',\n}; // moved from https://github.com/ant-design/ant-design/blob/master/components/icon/utils.ts\n\nvar fillTester = /-fill$/;\nvar outlineTester = /-o$/;\nvar twoToneTester = /-twotone$/;\n\nexport function getThemeFromTypeName(type) {\n    var result = null;\n\n    if (fillTester.test(type)) {\n        result = 'filled';\n    } else if (outlineTester.test(type)) {\n        result = 'outlined';\n    } else if (twoToneTester.test(type)) {\n        result = 'twoTone';\n    }\n\n    return result;\n}\n\nexport function removeTypeTheme(type) {\n    return type.replace(fillTester, '').replace(outlineTester, '').replace(twoToneTester, '');\n}\n\nvar themeMap = {\n    filled: 'filled',\n    outlined: 'outlined',\n    twoTone: 'twoTone',\n};\n\nexport function withThemeSuffix(type, theme) {\n    var result = upperFirst(camelCase(type));\n    var realTheme = upperFirst(themeMap[theme]);\n\n    if (theme !== 'outlined' && !realTheme) {\n        warning(false, 'Icon', 'This icon \\''.concat(type, '\\' has unknown theme \\'').concat(theme, '\\''));\n    }\n\n    return result + realTheme;\n} // For alias or compatibility\n\nexport function alias(type) {\n    var newType = type;\n\n    switch (type) {\n        case 'cross':\n            newType = 'close';\n            break;\n        // https://github.com/ant-design/ant-design/issues/13007\n\n        case 'interation':\n            newType = 'interaction';\n            break;\n        // https://github.com/ant-design/ant-design/issues/16810\n\n        case 'canlendar':\n            newType = 'calendar';\n            break;\n        // https://github.com/ant-design/ant-design/issues/17448\n\n        case 'colum-height':\n            newType = 'column-height';\n            break;\n\n        default:\n    }\n\n    warning(newType === type, 'Icon', 'Icon \\''.concat(type, '\\' was a typo and is now deprecated, please use \\'').concat(newType, '\\' instead.'));\n    return newType;\n}\n","import React from 'react';\nimport * as allIcons from '@ant-design/icons/es/icons';\nimport AntdIcon, {createFromIconfontCN, getTwoToneColor, setTwoToneColor} from '@ant-design/icons';\nimport {withThemeSuffix, removeTypeTheme, getThemeFromTypeName, alias} from './utils';\nimport warning from './warning';\n\nvar iconsMap = allIcons;\n\nvar LegacyTypeIcon = function LegacyTypeIcon(props) {\n    var type = props.type,\n        theme = props.theme;\n\n    if (theme) {\n        var themeInName = getThemeFromTypeName(type);\n        warning(!themeInName || theme === themeInName, 'Icon', 'The icon name \\''.concat(type, '\\' already specify a theme \\'').concat(themeInName, '\\',') + ' the \\'theme\\' prop \\''.concat(theme, '\\' will be ignored.'));\n    }\n\n    var computedType = withThemeSuffix(removeTypeTheme(alias(type)), theme || 'outlined');\n    var targetIconComponent = iconsMap[computedType];\n    warning(targetIconComponent, 'Icon', 'The icon name \\''.concat(type, '\\'').concat(theme ? 'with '.concat(theme) : '', ' doesn\\'t exist, please check it at https://ant.design/components/icon'));\n    return targetIconComponent ? React.createElement(targetIconComponent, props) : null;\n};\n\nvar Icon = function Icon(props) {\n    var type = props.type,\n        component = props.component,\n        children = props.children;\n    warning(Boolean(type || component || children), 'Icon', 'Should have `type` prop or `component` prop or `children`.');\n\n    if (component || children) {\n        return React.createElement(AntdIcon, Object.assign({}, props));\n    }\n\n    if (typeof type === 'string') {\n        return React.createElement(LegacyTypeIcon, Object.assign({}, props, {\n            type: type,\n        }));\n    }\n\n    return React.createElement(AntdIcon, null);\n};\n\nIcon.createFromIconfontCN = createFromIconfontCN;\nIcon.getTwoToneColor = getTwoToneColor;\nIcon.setTwoToneColor = setTwoToneColor;\nexport default Icon;\n","/*\n* 菜单数据 返回Promise各式，支持前端硬编码、异步获取菜单数据\n* */\nexport default function getMenus(userId) {\n    // TODO 根据userId获取菜单数据 或在此文件中前端硬编码菜单\n    return Promise.resolve([\n        {key: '1', text: '多级菜单', icon: 'align-left'},\n        {key: '1-1', parentKey: '1', text: 'level-1-1', path: '/user-center', icon: 'align-left'},\n        {key: '1-2', parentKey: '1', text: 'level-1-2', icon: 'align-left'},\n        {key: '1-3', parentKey: '1', text: 'level-1-3', icon: 'align-left'},\n        {key: '1-4', parentKey: '1', text: 'level-1-4', icon: 'align-left'},\n        {key: '1-4-1', parentKey: '1-4', text: 'level-1-4-1', icon: 'align-left'},\n        {key: '1-4-2', parentKey: '1-4', text: 'level-1-4-2', icon: 'align-left'},\n        {key: '1-4-3', parentKey: '1-4', text: 'level-1-4-3', icon: 'align-left'},\n        {key: '1-4-4', parentKey: '1-4', text: 'level-1-4-4', icon: 'align-left'},\n        {key: '1-4-3-1', parentKey: '1-4-3', text: 'level-1-4-3-1', icon: 'align-left'},\n        {key: '1-4-3-2', parentKey: '1-4-3', text: 'level-1-4-3-2', icon: 'align-left'},\n        {key: '1-4-3-3', parentKey: '1-4-3', text: 'level-1-4-3-3', icon: 'align-left'},\n        {key: '1-4-3-4', parentKey: '1-4-3', text: 'level-1-4-3-4', icon: 'align-left'},\n\n        {key: 'antDesign', text: 'Ant Design 官网', icon: 'ant-design', url: 'https://ant-design.gitee.io', target: '', order: 2000},\n        {key: 'document', text: '文档', icon: 'book', url: 'https://open.vbill.cn/react-admin', target: '', order: 1200},\n\n        {key: 'customer-header', text: '自定义头部', icon: 'api', path: '/example/customer-header', order: 998},\n        {key: 'user', text: '用户管理', icon: 'user', path: '/users', order: 900},\n        {key: 'role', text: '角色管理', icon: 'lock', path: '/roles', order: 900},\n        {key: 'menu', text: '菜单管理', icon: 'align-left', path: '/menu-permission', order: 900},\n        {key: 'page404', text: '404页面不存在', icon: 'file-search', path: '/404', order: 700},\n    ]);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"side\":\"side-2PvbR\",\"outer\":\"outer-1fLHN\",\"inner\":\"inner-2BQ3e\",\"drag-bar\":\"drag-bar-3gbVM\",\"drag-bar-icon\":\"drag-bar-icon-2ZH53\"};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport logo from './logo.png';\nimport './style.less';\n\nexport default class Logo extends Component {\n    static propTypes = {\n        min: PropTypes.bool,\n    };\n    static defaultProps = {\n        logo: logo,\n        title: 'React Web',\n        min: false,\n    };\n\n    render() {\n        const {min, title, ...others} = this.props;\n        return (\n            <div styleName=\"logo\">\n                <img src={logo} alt=\"logo\"/>\n                <h1 {...others} className={min ? 'title-hide' : ''}>{title}</h1>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport {Form} from 'antd';\nimport config from 'src/commons/config-hoc';\nimport {FormElement, ModalContent} from 'src/library/components';\nimport PageContent from 'src/layouts/page-content';\n\n@config({\n    ajax: true,\n    connect: state => ({loginUser: state.system.loginUser}),\n    modal: {\n        title: '修改密码',\n        width: 420,\n        centered: true,\n    },\n})\nexport default class ModifyPassword extends Component {\n    state = {\n        loading: false,\n    };\n\n    handleOk = (values) => {\n        if (this.state.loading) return;\n        const {onOk} = this.props;\n\n        console.log(values);\n        this.setState({loading: true});\n        this.props.ajax.post(`/users/${values.id}/password`, values)\n            .then(() => {\n                if (onOk) onOk();\n            })\n            .finally(() => this.setState({loading: false}));\n    };\n\n    handleCancel = () => {\n        const {onCancel} = this.props;\n        if (onCancel) onCancel();\n    };\n\n    render() {\n        const {loginUser} = this.props;\n        const id = loginUser?.id;\n        const {loading} = this.state;\n        const labelWidth = 100;\n\n        return (\n            <ModalContent\n                loading={loading}\n                surplusSpace={false}\n                onOk={() => this.form.submit()}\n                onCancel={this.handleCancel}\n            >\n                <PageContent>\n                    <Form ref={form => this.form = form} onFinish={this.handleOk} initialValues={{id}}>\n                        <FormElement type=\"hidden\" name=\"id\"/>\n                        <FormElement\n                            label=\"原密码\"\n                            labelWidth={labelWidth}\n                            type=\"password\"\n                            name=\"oldPassword\"\n                            required\n                            autoFocus\n                        />\n                        <FormElement\n                            label=\"新密码\"\n                            labelWidth={labelWidth}\n                            type=\"password\"\n                            name=\"newPassword\"\n                            required\n                        />\n                        <FormElement\n                            label=\"确认密码\"\n                            labelWidth={labelWidth}\n                            type=\"password\"\n                            name=\"reNewPassword\"\n                            dependencies={['newPassword']}\n                            required\n                            rules={[\n                                ({getFieldValue}) => ({\n                                    validator(rule, value) {\n                                        if (!value || getFieldValue('newPassword') === value) {\n                                            return Promise.resolve();\n                                        }\n                                        return Promise.reject('新密码与确认新密码不同！');\n                                    },\n                                }),\n                            ]}\n                        />\n                    </Form>\n                </PageContent>\n            </ModalContent>\n        );\n    }\n}\n\n","import React, {Component} from 'react';\nimport {\n    CaretDownOutlined,\n    EditOutlined,\n    LogoutOutlined,\n    SettingOutlined,\n    UserOutlined,\n} from '@ant-design/icons';\nimport {Menu, Dropdown} from 'antd';\nimport {Link} from 'react-router-dom';\nimport {toLogin, getLoginUser} from 'src/commons';\nimport ModifyPassword from './ModifyPassword';\nimport config from 'src/commons/config-hoc';\nimport './style.less';\n\nconst Item = Menu.Item;\n\n@config({ajax: true})\nexport default class HeaderUser extends Component {\n    static defaultProps = {\n        theme: 'default',\n    };\n\n    state = {\n        passwordVisible: false,\n    };\n\n    handleMenuClick = ({key}) => {\n        if (key === 'logout') {\n            this.props.ajax.post('/mock/logout').then(toLogin);\n        }\n\n        if (key === 'modifyPassword') {\n            this.setState({passwordVisible: true});\n        }\n    };\n\n    render() {\n        const user = getLoginUser() || {};\n        const name = user.name;\n\n        const {className, theme} = this.props;\n\n        const menu = (\n            <Menu styleName=\"menu\" theme={theme} selectedKeys={[]} onClick={this.handleMenuClick}>\n                <Item key=\"modifyPassword\"><EditOutlined/>修改密码</Item>\n                <Item><Link to=\"/settings\"><SettingOutlined/>设置</Link></Item>\n                <Menu.Divider/>\n                <Item key=\"logout\"><LogoutOutlined/>退出登录</Item>\n            </Menu>\n        );\n        return (\n            <div styleName=\"user-menu\" ref={node => this.userMenu = node}>\n                <Dropdown overlay={menu} getPopupContainer={() => (this.userMenu || document.body)}>\n                    <span styleName=\"account\" className={className}>\n                        <UserOutlined/>\n                        <span style={{fontSize: 14}}>{name}</span>\n                        <CaretDownOutlined/>\n                    </span>\n                </Dropdown>\n\n                <ModifyPassword\n                    visible={this.state.passwordVisible}\n                    onOk={() => this.setState({passwordVisible: false})}\n                    onCancel={() => this.setState({passwordVisible: false})}\n                />\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Icon} from 'src/library/components';\nimport { HomeOutlined } from '@ant-design/icons';\nimport { Menu } from 'antd';\nimport {renderNode} from 'src/library/utils/tree-utils';\nimport Link from '../../page-link';\nimport './style.less';\n\nconst SubMenu = Menu.SubMenu;\n\nexport default class HeaderMenu extends Component {\n    static propTypes = {\n        dataSource: PropTypes.array,    // 菜单数据\n        theme: PropTypes.string,        // 主题\n        selectedKeys: PropTypes.array,  // 选中菜单keys\n    };\n\n    static defaultProps = {\n        dataSource: [],\n        theme: 'default',\n        selectedKeys: [],\n    };\n\n    renderMenus() {\n        const {dataSource} = this.props;\n\n        if (dataSource && dataSource.length) {\n            return renderNode(dataSource, (item, children) => {\n                const {\n                    key,\n                    path,\n                    text,\n                    icon,\n                    target,\n                    url,\n                } = item;\n\n                let title = <span>{text}</span>;\n                if (icon) title = <span><Icon type={icon}/><HomeOutlined style={{display: 'none'}} /><span>{text}</span></span>;\n\n                if (children) {\n                    return (\n                        <SubMenu key={key} title={title}>\n                            {children}\n                        </SubMenu>\n                    );\n                }\n\n\n                return (\n                    <Menu.Item key={key}>\n                        {target ? (\n                            <a href={url} target={target}>\n                                {title}\n                            </a>\n                        ) : (\n                            <Link to={{\n                                pathname: path,\n                                state: {from: 'menu'}\n                            }}>\n                                {title}\n                            </Link>\n                        )}\n                    </Menu.Item>\n                );\n            });\n        }\n        return null;\n    }\n\n    render() {\n        const {\n            theme,\n            selectedKeys,\n        } = this.props;\n        return (\n            <div styleName=\"header-menu\">\n                <Menu\n                    selectedKeys={selectedKeys}\n                    mode=\"horizontal\"\n                    theme={theme}\n                >\n                    {this.renderMenus()}\n                </Menu>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport { FullscreenExitOutlined, FullscreenOutlined } from '@ant-design/icons';\nimport { Tooltip } from 'antd';\nimport config from 'src/commons/config-hoc';\n\n@config({\n    event: true,\n})\nexport default class HeaderFullScreen extends Component {\n    state = {\n        fullScreen: false,\n        toolTipVisible: false,\n    };\n\n    componentDidMount() {\n        let fullScreen = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen\n\n        this.props.addEventListener(document, 'fullscreenchange', this.handleFullScreenChange);\n        this.props.addEventListener(document, 'mozfullscreenchange', this.handleFullScreenChange);\n        this.props.addEventListener(document, 'webkitfullscreenchange', this.handleFullScreenChange);\n        this.props.addEventListener(document, 'msfullscreenchange', this.handleFullScreenChange);\n        this.props.addEventListener(document, 'click', () => this.handleToolTipHide(0));\n        this.setState({fullScreen: !!fullScreen});\n    }\n\n    handleFullScreenClick = () => {\n        const {fullScreen} = this.state;\n        if (fullScreen) {\n            if (document.exitFullscreen) {\n                document.exitFullscreen();\n            } else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            } else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            } else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            }\n        } else {\n            const element = document.documentElement;\n            if (element.requestFullscreen) {\n                element.requestFullscreen();\n            } else if (element.mozRequestFullScreen) {\n                element.mozRequestFullScreen();\n            } else if (element.msRequestFullscreen) {\n                element.msRequestFullscreen();\n            } else if (element.webkitRequestFullscreen) {\n                element.webkitRequestFullScreen();\n            }\n        }\n    };\n\n    handleFullScreenChange = () => {\n        const {fullScreen} = this.state;\n        this.setState({fullScreen: !fullScreen});\n    };\n\n    handleToolTipShow = () => {\n        if (this.ST) clearTimeout(this.ST);\n        this.setState({toolTipVisible: true});\n    };\n\n    handleToolTipHide = (time = 300) => {\n        this.ST = setTimeout(() => {\n            this.setState({toolTipVisible: false})\n        }, time);\n    };\n\n    render() {\n        const {className} = this.props;\n        const {fullScreen, toolTipVisible} = this.state;\n        return (\n            <div\n                className={className}\n                onClick={this.handleFullScreenClick}\n                onMouseEnter={this.handleToolTipShow}\n                onMouseLeave={() => this.handleToolTipHide()}\n            >\n                <Tooltip visible={toolTipVisible} placement=\"bottom\" title={fullScreen ? '退出全屏' : '全屏'}>\n                    <div style={{display: 'flex', alignItems: 'center', height: '30px', lineHeight: '30px'}}>\n                        {fullScreen ? (\n                            <FullscreenExitOutlined />\n                        ) : (\n                            <FullscreenOutlined />\n                        )}\n                    </div>\n                </Tooltip>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {MenuFoldOutlined, MenuUnfoldOutlined} from '@ant-design/icons';\nimport Link from '../page-link';\nimport Logo from './logo';\nimport HeaderUser from './header-user';\nimport HeaderMenu from './header-menu';\nimport HeaderFullScreen from './header-full-screen';\nimport {connect} from 'src/models/index';\nimport {PAGE_FRAME_LAYOUT} from 'src/models/settings';\nimport Breadcrumb from '../breadcrumb';\nimport './style.less';\n\n@connect(state => {\n    const {menus, topMenu} = state.menu;\n    const {show: showSide, width, collapsed, collapsedWidth, dragging} = state.side;\n    const {breadcrumbs} = state.page;\n    const {pageFrameLayout} = state.settings;\n\n    return {\n        menus,\n        topMenu,\n\n        showSide,\n        sideWidth: width,\n        sideCollapsed: collapsed,\n        sideCollapsedWidth: collapsedWidth,\n        sideDragging: dragging,\n        breadcrumbs,\n\n        layout: pageFrameLayout,\n    };\n})\nexport default class Header extends Component {\n    static propTypes = {\n        layout: PropTypes.string,\n        theme: PropTypes.string,\n    };\n\n    static defaultProps = {\n        layout: PAGE_FRAME_LAYOUT.SIDE_MENU,    // top-side-menu top-menu side-menu\n        theme: 'default',                       // default dark\n    };\n\n    handleToggle = () => {\n        const {sideCollapsed} = this.props;\n        this.props.action.side.setCollapsed(!sideCollapsed);\n    };\n\n    renderToggle = (showToggle, sideCollapsed, theme) => {\n        if (!showToggle) return null;\n\n        const props = {\n            onClick: this.handleToggle,\n            style: theme === 'dark' ? {color: '#fff', backgroundColor: '#222'} : null,\n        };\n\n        return sideCollapsed ? <MenuUnfoldOutlined {...props} styleName=\"trigger\"/> : <MenuFoldOutlined {...props} styleName=\"trigger\"/>;\n    };\n\n    render() {\n        let {\n            layout,\n            menus,          // 所有的菜单数据\n            topMenu,        // 当前页面选中菜单的顶级菜单\n            sideCollapsed,\n            sideCollapsedWidth,\n            sideWidth,\n            sideDragging,\n            breadcrumbs,\n            children,\n        } = this.props;\n\n        sideWidth = sideCollapsed ? sideCollapsedWidth : sideWidth;\n\n        const isTopSideMenu = layout === PAGE_FRAME_LAYOUT.TOP_SIDE_MENU;\n        const isTopMenu = layout === PAGE_FRAME_LAYOUT.TOP_MENU;\n        const isSideMenu = layout === PAGE_FRAME_LAYOUT.SIDE_MENU;\n        const showToggle = isTopSideMenu || isSideMenu;\n        const showMenu = isTopSideMenu || isTopMenu;\n\n        let topMenus = menus;\n        if (isTopSideMenu) {\n            topMenus = menus && menus.map(item => ({key: item.key, text: item.text, path: item.path, icon: item.icon}));\n        }\n        if (isTopMenu) {\n            topMenus = menus;\n        }\n\n        let transitionDuration = sideDragging ? '0ms' : '300ms';\n\n        const theme = this.props.theme || ((isTopSideMenu || isSideMenu) ? 'default' : 'dark');\n\n        return (\n            <div id=\"header\" styleName=\"header\" data-theme={theme}>\n                <div styleName=\"logo-container\" id=\"logo-container\" style={{flex: `0 0 ${sideWidth}px`, transitionDuration}}>\n                    <Link to=\"/\">\n                        <Logo\n                            min={sideCollapsed}\n                            title=\"React Admin\"\n                        />\n                    </Link>\n                </div>\n                {this.renderToggle(showToggle, sideCollapsed, theme)}\n                {children ? (\n                    <div styleName=\"center\">{children}</div>\n                ) : (\n                    <div styleName=\"center\">\n                        {showMenu ? (\n                            <HeaderMenu\n                                theme={theme}\n                                dataSource={topMenus}\n                                selectedKeys={[topMenu && topMenu.key]}\n                            />\n                        ) : null}\n                        {isSideMenu ? <div style={{marginLeft: 16}}><Breadcrumb theme={theme} dataSource={breadcrumbs}/></div> : null}\n                    </div>\n                )}\n\n                <div styleName=\"right\">\n                    <HeaderFullScreen styleName=\"action\" className=\"header-action\"/>\n                    <HeaderUser styleName=\"action\" className=\"header-action\" theme={theme}/>\n                </div>\n            </div>\n        );\n    }\n}\n","import {session} from 'src/library/utils/storage';\nimport {getNodeByPropertyAndValue, convertToTree} from 'src/library/utils/tree-utils';\nimport {pathToRegexp} from 'path-to-regexp';\nimport {ROUTE_BASE_NAME} from 'src/router/AppRouter';\n\nconst CURRENT_USER_KEY = 'current-user';\n\nconst localStorage = window.localStorage;\nconst sessionStorage = window.sessionStorage;\n\n/**\n * 判断是否有权限\n * @param code\n */\nexport function hasPermission(code) {\n    const loginUser = getLoginUser();\n    return loginUser?.permissions?.includes(code);\n}\n\n/**\n * 设置当前用户信息\n */\nexport function setLoginUser(currentUser = {}) {\n    // 将用户属性在这里展开，方便查看系统都用到了那些用户属性\n    const {id, name, avatar, token, permissions} = currentUser;\n    const userStr = JSON.stringify({\n        id,             // 用户id 必须\n        name,           // 用户名 必须\n        avatar,         // 用头像 非必须\n        token,          // 登录凭证 非必须 ajax请求有可能会用到，也许是cookie\n        permissions,    // 用户权限\n    });\n\n    sessionStorage.setItem(CURRENT_USER_KEY, userStr);\n}\n\n/**\n * 获取当前用户信息\n */\nexport function getLoginUser() {\n    const loginUser = sessionStorage.getItem(CURRENT_USER_KEY);\n\n    return loginUser ? JSON.parse(loginUser) : null;\n}\n\n/**\n * 判断用户是否登录\n */\nexport function isLogin() {\n    // 如果当前用户存在，就认为已经登录了\n    return !!getLoginUser();\n}\n\n/**\n * 进入首页\n */\nexport function toHome() {\n    // 跳转页面，优先跳转上次登出页面\n    const lastHref = window.sessionStorage.getItem('last-href');\n\n    // 强制跳转 进入系统之后，需要一些初始化工作，需要所有的js重新加载\n    window.location.href = lastHref || `${ROUTE_BASE_NAME}/`;\n}\n\n/**\n * 跳转到登录页面\n */\nexport function toLogin() {\n    const loginPath = '/login';\n\n    // 判断当前页面是否已经是login页面，如果是，直接返回，不进行跳转，防止出现跳转死循环\n    const pathname = window.location.pathname;\n    const isLogin = pathname.indexOf(loginPath) !== -1;\n\n    if (isLogin) return null;\n\n    // 清除相关数据\n    session.clear();\n    localStorage.setItem(CURRENT_USER_KEY, null);\n    sessionStorage.clear();\n    sessionStorage.setItem('last-href', window.location.pathname);\n\n    // 强制跳转，让浏览器刷新，重置数据\n    window.location.href = `${ROUTE_BASE_NAME}${loginPath}`;\n\n    return null;\n}\n\n/**\n * 根据path获取对应的菜单\n * @param path\n * @param menuTreeData\n * @returns {*}\n */\nexport function getSelectedMenuByPath(path, menuTreeData) {\n    path = path.replace(ROUTE_BASE_NAME, '');\n    let selectedMenu;\n    if (menuTreeData) {\n        if (path.indexOf('/_') > -1) {\n            path = path.substring(0, path.indexOf('/_'));\n        }\n\n        // 先精确匹配\n        selectedMenu = getNodeByPropertyAndValue(menuTreeData, 'path', path, (itemValue, value, item) => {\n            const isTop = item.children && item.children.length;\n            return itemValue === value && !isTop; // 排除父级节点\n        });\n\n        // 正则匹配，路由中有`:id`的情况\n        // fixme 容易出问题：a/b/:id,会匹配 a/b/1, a/b/detail，有可能不是期望的结果，注意路由写法\n        // fixme: a/b/tab/:id 具体的:id，添加一级，用来表明id是什么\n        if (!selectedMenu && path !== '/') {\n            selectedMenu = getNodeByPropertyAndValue(menuTreeData, 'path', path, (itemValue, value, item) => {\n                const isTop = item.children && item.children.length;\n                const re = pathToRegexp(itemValue);\n                return !!re.exec(value) && !isTop; // 排除父级节点\n            });\n        }\n    }\n    return selectedMenu;\n}\n\n\n/**\n * 获取菜单树状结构数据 和 随菜单携带过来的权限\n * @param menus 扁平化菜单数据\n */\nexport function getMenuTreeDataAndPermissions(menus) {\n    // 用户权限code，通过菜单携带过来的 1 => 菜单 2 => 功能\n    const permissions = menus.map(item => {\n        if (item.type === '1') return item.key;\n        if (item.type === '2') return item.code;\n        return null;\n    });\n\n    // 获取菜单，过滤掉功能码\n    menus = menus.filter(item => item.type !== '2');\n\n    // 处理path： 只声明了url，为iframe页面\n    menus = menus.map(item => {\n        if (item.url) {\n            item.path = `/iframe_page_/${window.encodeURIComponent(item.url)}`;\n        }\n        return item;\n    });\n\n    // 菜单根据order 排序\n    const orderedData = [...menus].sort((a, b) => {\n        const aOrder = a.order || 0;\n        const bOrder = b.order || 0;\n\n        // 如果order都不存在，根据 text 排序\n        if (!aOrder && !bOrder) {\n            return a.text > b.text ? 1 : -1;\n        }\n\n        return bOrder - aOrder;\n    });\n\n    // 设置顶级节点path，有的顶级没有指定path，默认设置为子孙节点的第一个path\n    const findPath = (node) => {\n        const children = orderedData.filter(item => item.parentKey === node.key);\n        let path = '';\n        if (children && children.length) {\n            for (let i = 0; i < children.length; i++) {\n                const child = children[i];\n                if (child.path) {\n                    path = child.path;\n                    break;\n                }\n                path = findPath(child);\n            }\n        }\n        return path;\n    };\n\n    orderedData.forEach(item => {\n        if (!item.path) {\n            item.path = findPath(item);\n        }\n    });\n\n    const menuTreeData = convertToTree(orderedData);\n    return {menuTreeData, permissions}\n}\n\n","import {cloneDeep} from 'lodash';\n\n\n/**\n * 复合函数工具\n * @param functions\n * @returns {*}\n */\nexport function compose(functions) {\n    if (functions.length === 0) {\n        return arg => arg\n    }\n\n    if (functions.length === 1) {\n        return functions[0]\n    }\n\n    return functions.reduce((a, b) => (...args) => a(b(...args)))\n}\n\n/**\n * 加载 JavaScript\n * @param src\n * @returns {Promise<any>}\n */\nexport function loadScript(src) {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = src;\n        script.onload = resolve;\n        script.onerror = reject;\n        document.head.appendChild(script);\n    });\n}\n\n/**\n * 判断字符串是否符合json各式\n * @param str\n * @returns {boolean}\n */\nexport function isJson(str) {\n    try {\n        if (typeof JSON.parse(str) == \"object\") {\n            return true;\n        }\n    } catch (e) {\n        return false;\n    }\n}\n\n/**\n * 通用的一些工具方法\n * @module 通用工具方法\n * */\n\n/**\n * 字符串中所有单词首字母大写\n * @param {String} str\n * @returns {String}\n */\nexport function firstUpperCase(str) {\n    const s = typeof str !== 'string' ? `${str}` : str;\n    return s.replace(/\\b(\\w)(\\w*)/g, ($0, $1, $2) => $1.toUpperCase() + $2);\n}\n\n\n/**\n * 字符串中所有单词首字母小写\n * @param {String} str\n * @returns {String}\n */\nexport function firstLowerCase(str) {\n    const s = typeof str !== 'string' ? `${str}` : str;\n    return s.replace(/\\b(\\w)(\\w*)/g, ($0, $1, $2) => $1.toLowerCase() + $2);\n}\n\n/**\n * 获取字符串字节长度，中文占两个字节\n * @param {String} value\n * @returns {number}\n */\nexport function getStringByteLength(value) {\n    if (!value) return 0;\n    const s = typeof value !== 'string' ? `${value}` : value;\n    let length = s.length;\n\n    for (let i = 0; i < s.length; i++) {\n        if (s.charCodeAt(i) > 127) {\n            length++;\n        }\n    }\n\n    return length;\n}\n\n/**\n * 格式化字符串\n * @example\n * stringFormat('H{0}llo W{1}rld!', 'e', 'o');\n * stringFormat('H{eKey}llo W{oKey}rld!', {eKey: 'e', oKey: 'o'});\n * @param {String} value 需要格式化的字符串\n * @param {*} args 对象或者多个参数\n * @returns {*}\n */\nexport function stringFormat(value, ...args) {\n    if (!value) return value;\n    if (typeof value !== 'string') return value;\n    if (!args || !args.length) return value;\n\n    if (args.length === 1 && typeof (args[0]) === 'object') {\n        const arg = args[0];\n        Object.keys(arg).forEach(key => {\n            if (arg[key] !== undefined) {\n                const reg = new RegExp(`({${key}})`, 'g');\n                value = value.replace(reg, arg[key]);\n            }\n        });\n        return value;\n    }\n\n    for (let i = 0; i < args.length; i++) {\n        if (args[i] !== undefined) {\n            let reg = new RegExp(`({)${i}(})`, 'g');\n            value = value.replace(reg, args[i]);\n        }\n    }\n    return value;\n}\n\n/**\n * 获取cookie\n * @param {String} objName 存储coolie中数据的key\n * @returns {String}\n */\nexport function getCookie(objName) {\n    let arrStr = document.cookie.split('; ');\n    for (let i = 0; i < arrStr.length; i++) {\n        let temp = arrStr[i].split('=');\n        if (temp[0] === objName) return unescape(temp[1]);\n    }\n    return '';\n}\n\n/**\n * 获取浏览器\n * @returns {number}\n */\nexport function getScrollBarWidth() {\n    let scrollDiv = document.createElement('div');\n    scrollDiv.style.position = 'absolute';\n    scrollDiv.style.top = '-9999px';\n    scrollDiv.style.width = '50px';\n    scrollDiv.style.height = '50px';\n    scrollDiv.style.overflow = 'scroll';\n    document.body.appendChild(scrollDiv);\n    let scrollBarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    window.document.body.removeChild(scrollDiv);\n    return scrollBarWidth;\n}\n\n/**\n * 判断是否有滚动条\n * @param el\n * @param direction\n * @returns {boolean}\n */\nexport function hasScrollBar(el, direction = \"vertical\") {\n    if (direction === \"vertical\") {\n        return el.scrollHeight > el.clientHeight;\n    } else if (direction === \"horizontal\") {\n        return el.scrollWidth > el.clientWidth;\n    }\n}\n\n/**\n * 获得一个指定范围内的随机数\n * @param {number} min 最范围\n * @param {number} max 最大范围\n * @returns {number}\n */\nexport function getRandomNum(min, max) {\n    const range = max - min;\n    const rand = Math.random();\n    return (min + Math.round(rand * range));\n}\n\n/**\n * 获取一个元素距离浏览器顶部高度\n * @param element\n * @returns {number | Requireable<number>}\n */\nexport function getElementTop(element) {\n    let actualTop = element.offsetTop;\n    let current = element.offsetParent;\n\n    while (current !== null) {\n        actualTop += current.offsetTop;\n        current = current.offsetParent;\n    }\n\n    return actualTop;\n}\n\n/**\n * 根据className 获取父级元素\n * @param el\n * @param parentClassName\n * @returns {*}\n */\nexport function getParentByClassName(el, parentClassName) {\n    const parentNode = el.parentNode;\n    if (!parentNode) return null;\n\n    const classList = Array.from(parentNode.classList || []);\n\n    if (classList?.length && classList.includes(parentClassName)) {\n        return parentNode;\n    } else {\n        return getParentByClassName(parentNode, parentClassName);\n    }\n}\n\n/**\n * 为一个dom元素移除class\n * @param {string} selector document.querySelectory 要到的选择器\n * @param {string} className 要移除的class\n */\nexport function removeClass(selector, className) {\n    let doms = selector;\n    if (typeof selector === 'string') {\n        doms = document.querySelectorAll(selector);\n    }\n    if (!doms || !doms.length) return;\n    if (!doms.length) doms = [doms];\n    doms.forEach(dom => {\n        let domClass = dom.className;\n        if (domClass) {\n            domClass = domClass.split(' ');\n            if (!domClass || !domClass.length) return;\n            dom.className = domClass.filter(c => c !== className).join(' ');\n        }\n    });\n}\n\n/**\n * 为一个dom元素添加class\n * @param {string} selector document.querySelectory 要到的选择器\n * @param {string} className 要添加的class\n */\nexport function addClass(selector, className) {\n    let doms = selector;\n    if (typeof selector === 'string') {\n        doms = document.querySelectorAll(selector);\n    }\n    if (!doms || !doms.length) return;\n    if (!doms.length) doms = [doms];\n    doms.forEach(dom => {\n        let domClass = dom.className;\n        if (domClass) {\n            domClass = domClass.split(' ');\n            if (!domClass || !domClass.length || domClass.indexOf(className) > -1) return;\n            domClass.push(className);\n            dom.className = domClass.join(' ');\n        } else {\n            dom.className = className;\n        }\n    });\n}\n\n/**\n * 拼接get请求所需url\n * @param {string} url\n * @param {object} params 请求参数\n * @returns {string} 拼接后的url\n */\nexport function mosaicUrl(url, params) {\n    if (!params) return url;\n    const queryString = [];\n    Object.keys(params).forEach(key => {\n        let value = params[key];\n        if (value !== undefined && value !== null) {\n            queryString.push(`${key}=${value}`);\n        }\n    });\n    const qStr = queryString.join('&');\n    if (url.indexOf('?') < 0) {\n        url += `?${qStr}`;\n    } else if (url.endsWith('&')) {\n        url += qStr;\n    } else if (url.endsWith('?')) {\n        url += `${qStr}`;\n    } else {\n        url += `&${qStr}`;\n    }\n    return url;\n}\n\n/**\n * 根据keyPath查找一个object中的数据\n * @param obj 需要查找的对象\n * @param {string} keyPath 类似： a.b.c\n * @returns {*} 查找到的数据\n */\nfunction findObjByKeyPath(obj, keyPath) {\n    const keys = keyPath.split('.');\n    let targetObj = obj;\n    keys.forEach(k => {\n        targetObj = targetObj[k];\n    });\n    return targetObj;\n}\n\n/**\n * 从数组中删除一个元素\n * @param {Array} arr 需要操作的数组\n * @param {*} item 要删除的元素，注意：内部是用'==='比对的\n */\nexport function arrayRemove(arr, item) {\n    if (!arr || !Array.isArray(arr) || !arr.length) return arr;\n    const newArr = cloneDeep(arr);\n    let itemIndex = -1;\n    for (let i = 0; i < newArr.length; i++) {\n        if (newArr[i] === item) {\n            itemIndex = i;\n            break;\n        }\n    }\n    if (itemIndex > -1) {\n        newArr.splice(itemIndex, 1);\n    }\n    return newArr;\n}\n\n/**\n * 从数组中删除一些元素\n * @param {Array} arr 需要操作的数组\n * @param {Array} items 需要删除的元素\n */\nexport function arrayRemoveAll(arr, items) {\n    if (!arr || !Array.isArray(arr) || !arr.length) return arr;\n    if (!items || !Array.isArray(items) || !items.length) return arr;\n    return arr.filter(item => {\n        return !items.find(it => it === item);\n    });\n}\n\n/**\n * 加入元素到数组中，如果已存在就不添加了\n * @param array\n * @param item\n * @returns {...*[]}\n */\nexport function arrayPush(array, item) {\n    if (!array || !Array.isArray(array)) return array;\n\n    const arr = [...array];\n    if (!arr.includes(item)) arr.push(item);\n\n    return arr;\n}\n\n/**\n * 根据指定keyPath 添加元素\n * @param obj 要操作的数据\n * @param {string} keyPath 类似于：a.b.c，就会把value赋值给c\n * @param {*} value 要设置的数据\n * @throws Will throw error if keyPath dose not point to an object\n */\nexport function objSetValue(obj, keyPath, value) {\n    const newObj = cloneDeep(obj);\n    const pointLastIndex = keyPath.lastIndexOf('.');\n    if (pointLastIndex < 0) {\n        if (typeof newObj !== 'object') {\n            throw new Error('keyPath dose not point to an object!');\n        }\n        newObj[keyPath] = value;\n        return newObj;\n    }\n    const key = keyPath.substr(pointLastIndex + 1, keyPath.length);\n    keyPath = keyPath.substr(0, pointLastIndex);\n    let targetObj = findObjByKeyPath(newObj, keyPath);\n    if (typeof targetObj !== 'object') {\n        throw new Error('keyPath dose not point to an object!');\n    }\n    targetObj[key] = value;\n    return newObj;\n}\n\n/**\n * 根据keyPath定位到指定元素，并将其删除\n * @param obj 要操作的数据\n * @param {string} keyPath keyPath 类似于：a.b.c，会把c删除\n * @throws Will throw error if keyPath dose not point to an object\n */\nexport function objRemove(obj, keyPath) {\n    const newObj = cloneDeep(obj);\n    const pointLastIndex = keyPath.lastIndexOf('.');\n    if (pointLastIndex < 0) {\n        if (typeof newObj !== 'object') {\n            throw new Error('keyPath dose not point to an object!');\n        }\n        delete newObj[keyPath];\n        return newObj;\n    }\n    const key = keyPath.substr(pointLastIndex + 1, keyPath.length);\n    keyPath = keyPath.substr(0, pointLastIndex);\n    let targetObj = findObjByKeyPath(newObj, keyPath);\n    if (typeof targetObj !== 'object') {\n        throw new Error('keyPath dose not point to an object!');\n    }\n    delete targetObj[key];\n    return newObj;\n}\n\n/**\n * 根据keyPath定位到指定数组，并添加元素\n * @param obj 要操作的数据\n * @param keyPath 类似于：a.b.c，通过keyPath，定位到obj中某个数组\n * @param value 需要append的元素\n * @throws Will throw error if keyPath dose not point to an array\n */\nexport function arrAppendValue(obj, keyPath, value) {\n    const newObj = cloneDeep(obj);\n    let targetObj = findObjByKeyPath(newObj, keyPath);\n    if (!Array.isArray(targetObj)) {\n        throw new Error('keyPath dose not point to an array!');\n    }\n    if (Array.isArray(value) && value.length) {\n        value.forEach(v => targetObj.push(v));\n    } else {\n        targetObj.push(value);\n    }\n    return newObj;\n}\n\n/**\n * 根据keyPath定位到指定数组，删除一个元素\n * @param obj 要操作的数据\n * @param keyPath 类似于：a.b.c，通过keyPath，定位到obj中某个数组\n * @param value 需要删除的数组元素\n * @throws Will throw error if keyPath dose not point to an array\n */\nexport function arrRemove(obj, keyPath, value) {\n    const newObj = cloneDeep(obj);\n    let targetObj = findObjByKeyPath(newObj, keyPath);\n    if (!Array.isArray(targetObj)) {\n        throw new Error('keyPath dose not point to an array!');\n    }\n    targetObj = arrayRemove(targetObj, value);\n    return objSetValue(newObj, keyPath, targetObj);\n}\n\n/**\n * 根据keyPath定位到指定数组，删除所有跟value相同的元素\n * @param obj 要操作的数据\n * @param keyPath 类似于：a.b.c，通过keyPath，定位到obj中某个数组\n * @param value 移除的数组元素\n * @throws Will throw error if keyPath dose not point to an array\n */\nexport function arrRemoveAll(obj, keyPath, value) {\n    const newObj = cloneDeep(obj);\n    let targetObj = findObjByKeyPath(newObj, keyPath);\n    if (!Array.isArray(targetObj)) {\n        throw new Error('keyPath dose not point to an array!');\n    }\n    while (targetObj.indexOf(value) > -1) {\n        targetObj = arrayRemove(targetObj, value);\n    }\n    return objSetValue(newObj, keyPath, targetObj);\n}\n\n/**\n * 数组去重，此方法不改变原有数据，返回新的数组\n * @param {Array} array\n * @returns {Array} 新数组\n */\nexport function uniqueArray(array) {\n    const n = {}; // hash 表\n    const r = []; // 临时数组\n    for (let i = 0; i < array.length; i++) { // 遍历当前数组\n        if (!n[array[i]]) { // 如果hash表中没有当前项\n            n[array[i]] = true; // 存入hash表\n            r.push(array[i]); // 把当前数组的当前项push到临时数组里面\n        }\n    }\n    return r;\n}\n\n/**\n * 获取浏览器窗口大小\n * @returns {{width: (Number|number), height: (Number|number)}}\n */\nexport function getWindowSize() {\n    const w = window;\n    const d = document;\n    const e = d.documentElement;\n    const g = d.getElementsByTagName('body')[0];\n    const width = w.innerWidth || e.clientWidth || g.clientWidth;\n    const height = w.innerHeight || e.clientHeight || g.clientHeight;\n    return {width, height};\n}\n\n/**\n * 为dom元素添加事件\n * @param element {Object} 需要添加事件的dom元素\n * @param type {String} 事件名称，比如 'click'\n * @param handler {function} 事件处理函数\n */\nexport function addEventListener(element, type, handler) {\n    if (!element) return;\n    if (element.addEventListener) {\n        element.addEventListener(type, handler, false);\n    } else if (element.attachEvent) {\n        element.attachEvent(`on${type}`, handler);\n    } else {\n        element[`on${type}`] = handler;\n    }\n}\n\n/**\n * 为dom元素移除事件\n * @param element {Object} 需要添加事件的dom元素\n * @param type {String} 事件名称，比如 'click'\n * @param handler {function} 事件处理函数\n */\nexport function removeEventListener(element, type, handler) {\n    if (!element) return;\n    if (element.removeEventListener) {\n        element.removeEventListener(type, handler, false);\n    } else if (element.detachEvent) {\n        element.detachEvent(`on${type}`, handler);\n    } else {\n        element[`on${type}`] = null;\n    }\n}\n\n/**\n * 将数值四舍五入后格式化成金额形式\n *\n * @param num 数值(Number或者String)\n * @param options 可选参数\n * @param options.prefix 金钱前缀，默认为空，一般为 ￥ 或 $\n * @param options.decimalNum 保留小数点个数，默认为2 一般为 0 1 2\n * @param options.splitSymbol 格式化分割符，默认为英文逗号，分隔符必须是单字符\n * @return 金额格式的字符串,如'￥1,234,567.45'\n * @type String\n */\nexport function formatCurrency(num, options = {}) {\n    let {decimalNum, splitSymbol} = options;\n    const {prefix = '￥'} = options;\n    let centsPercent = 100;\n    if (splitSymbol === undefined) splitSymbol = ',';\n    if (decimalNum !== 0 && decimalNum !== 1 && decimalNum !== 2) decimalNum = 2;\n    if (decimalNum === 0) centsPercent = 1;\n    if (decimalNum === 1) centsPercent = 10;\n    num = num.toString().replace(/\\$|,/g, '');\n    if (isNaN(num)) num = '0';\n    const sign = (num === Math.abs(num).toString()) ? '' : '-';\n    num = Math.abs(num);\n    num = Math.floor((num * centsPercent) + 0.50000000001);\n    let cents = num % centsPercent;\n    num = Math.floor(num / centsPercent).toString();\n    if (cents < 10 && decimalNum === 2) {\n        cents = `0${cents}`;\n    }\n    for (let i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++) {\n        const endPosition = (4 * i) + 3;\n        num = num.substring(0, num.length - endPosition)\n            + splitSymbol + num.substring(num.length - endPosition);\n    }\n    if (decimalNum === 0) {\n        return prefix + sign + num;\n    }\n    return `${prefix}${sign}${num}.${cents}`;\n}\n","/*\n* 主题定制\n* 方案：https://ant-design.gitee.io/docs/react/customize-theme-cn\n* 这里利用了 less-loader 的 modifyVars 来进行主题配置\n* 此文件会被 /config/webpack.config.js引用\n*\n* 注：此文件修改之后，需要重新启动webpack才能生效：yarn start\n* */\nmodule.exports = {\n    '@primary-color': '#2F54EB',                         // 全局主色\n    '@link-color': '@primary-color',                     // 链接色\n    '@success-color': '#52c41a',                         // 成功色\n    '@warning-color': '#faad14',                         // 警告色\n    '@error-color': '#f5222d',                           // 错误色\n    '@font-size-base': '12px',                           // 主字号\n    '@heading-color': 'rgba(0, 0, 0, .85)',              // 标题色\n    '@text-color': 'rgba(0, 0, 0, .65)',                 // 主文本色\n    '@text-color-secondary ': 'rgba(0, 0, 0, .45)',      // 次文本色\n    '@disabled-color ': 'rgba(0, 0, 0, .25)',            // 失效色\n    '@border-radius-base': '2px',                        // 组件/浮层圆角\n    '@border-color-base': '#d9d9d9',                     // 边框色\n    '@box-shadow-base': '0 2px 8px rgba(0, 0, 0, .15)',  // 浮层阴影\n\n    '@layout-header-background': '#001529',              // 深色主题样式\n    '@menu-dark-submenu-bg': 'lighten(@layout-header-background, 5%)',\n\n    '@input-height-base': '28px',\n    '@input-height-lg': '40px',\n    '@input-height-sm': '24px',\n\n    '@btn-height-base': '28px',\n\n    '@table-padding-vertical': '8px',\n    '@table-padding-horizontal': '8px',\n    '@menu-inline-toplevel-item-height': '30px',\n    '@menu-item-height': '30px',\n};\n","import React, {Component} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport PubSub from 'pubsub-js';\nimport {compose} from 'src/library/utils';\nimport queryHoc from 'src/library/utils/query-hoc';\nimport {connect as reduxConnect} from 'src/models';\nimport {ajaxHoc} from 'src/commons/ajax';\nimport pubSubHoc from 'src/library/utils/pub-sub-hoc';\nimport eventHoc from 'src/library/utils/dom-event-hoc';\nimport {modal as modalHoc} from 'src/library/components';\nimport {ROUTE_BASE_NAME} from 'src/router/AppRouter';\n\n/**\n * 页面配置高阶组件，整合了多个高阶组件\n * @param options\n * @returns {function(*): WithConfig}\n */\nexport default (options) => {\n    return WrappedComponent => {\n        const {\n            // path = void 0,       // 页面路由地址，如果存在path配置，会通过脚本抓取，当前组件将会作为路由页面，path将作为路由地址\n            // noFrame = false,     // 标记当前页面为不需要导航框架的页面，比如登录页，通过脚本抓取实现\n            // noAuth = false,      // 标记当前页面为不需要登录即可访问的页面，通过脚本抓取实现\n            // keepAlive,           // 页面内容保持\n            title = true,           // true：当前页面显示通过菜单结构自动生成的title；false：当前页面不显示title；string：自定义title；object：{text，icon} text为显示的名称，icon为图标；function(props): 返回值作为title\n            breadcrumbs = true,     // true：当前页面显示通过菜单结构自动生成的面包屑；false：当前页面不显示面包屑；object：[{text, ...}]，对象方式；function(props): 返回值作为面包屑\n            appendBreadcrumbs = [], // 在当前面包屑基础上添加；function(props): 返回值作为面包屑\n            pageHead,               // 页面头部是否显示\n            side,                   // 页面左侧是否显示\n            sideCollapsed,          // 左侧是否收起\n            router = false,         // 是否添加withRouter装饰器，如果设置了path，将自动使用了withRouter，组件内部可以使用history等API\n            query = false,          // 是否添加地址查询字符串转换高阶组件，内部可以通过this.props.query访问查询字符串\n            ajax = true,           // 是否添加ajax高阶组件，内部可以通过this.props.ajax使用ajax API\n            connect = false,        // 是否与redux进行连接，true：只注入了this.props.action相关方法；false：不与redux进行连接；(state) => ({title: state.page.title})：将函数返回的数据注入this.props\n            event = false,          // 是否添加event高阶组件，可以使用this.props.addEventListener添加dom事件，并在组件卸载时会自动清理；通过this.props.removeEventListener移出dom事件\n            pubSub = false,         // 是否添加发布订阅高阶组件，可以使用this.props.subscribe(topic, (msg, data) => {...})订阅事件，并在组件卸载时，会自动取消订阅; 通过this.props.publish(topic, data)发布事件\n            modal = false,          // 当前组件是否是modal\n        } = options;\n\n        const hocFunctions = [];\n\n        // 确保modal在第一个\n        if (modal) hocFunctions.push(modalHoc(modal));\n\n        if (event) hocFunctions.push(eventHoc());\n\n        if (pubSub) hocFunctions.push(pubSubHoc());\n\n        if (query === true) hocFunctions.push(queryHoc());\n\n        if (router === true) hocFunctions.push(withRouter);\n\n        if (ajax === true) hocFunctions.push(ajaxHoc());\n\n        hocFunctions.push(reduxConnect());\n\n        if (connect === true) hocFunctions.push(reduxConnect());\n\n        if (typeof connect === 'function') hocFunctions.push(reduxConnect(connect));\n\n        const higherOrderComponents = compose(hocFunctions);\n\n        const componentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n        @higherOrderComponents\n        class WithConfig extends Component {\n            static displayName = `WithConfig(${componentName})`;\n\n            constructor(...args) {\n                super(...args);\n                this.initFrame();\n\n                const {pathname, search} = window.location;\n                let currentPath = window.decodeURIComponent(`${pathname}${search}`);\n                currentPath = currentPath.replace(ROUTE_BASE_NAME, '');\n\n                this.tabShowToken = PubSub.subscribe('tab-show', (msg, targetPath) => {\n                    targetPath = window.decodeURIComponent(targetPath);\n\n                    if (currentPath === targetPath) {\n                        // 框架级的数据可能被改了，重新显示之后，根据当前页面的设置，再改回来\n                        this.initFrame();\n\n                        this.onShow && this.onShow();\n                    }\n                });\n\n                this.tabHideToken = PubSub.subscribe('tab-hide', (msg, targetPath) => {\n                    targetPath = window.decodeURIComponent(targetPath);\n\n                    if (currentPath === targetPath && this.onHide) {\n                        this.onHide();\n                    }\n                });\n            }\n\n            componentWillUnmount() {\n                PubSub.unsubscribe(this.tabShowToken);\n                PubSub.unsubscribe(this.tabHideToken);\n            }\n\n            // 设置框架级的一些数据\n            initFrame = () => {\n                const {page, side: sideAction, system} = this.props.action;\n\n                // 页面标题设置\n                if (title === false) {\n                    page.setTitle('');\n                }\n\n                if (title && title !== true) {\n                    let nextTitle = title;\n\n                    if (typeof title === 'function') {\n                        nextTitle = title(this.props);\n                    }\n\n                    page.setTitle(nextTitle);\n\n                    // 刷新时候，由于设置顺序问题，需要timeout\n                    setTimeout(() => system.setCurrentTabTitle(nextTitle));\n                }\n\n                // 页面面包屑导航\n                if (breadcrumbs === false) {\n                    page.setBreadcrumbs([]);\n                }\n\n                if (breadcrumbs && breadcrumbs !== true) {\n                    let nextBreadcrumbs = breadcrumbs;\n\n                    if (typeof breadcrumbs === 'function') {\n                        nextBreadcrumbs = breadcrumbs(this.props);\n                    }\n\n                    page.setBreadcrumbs(nextBreadcrumbs);\n                }\n\n                if (Array.isArray(appendBreadcrumbs) && appendBreadcrumbs.length) {\n                    page.appendBreadcrumbs(appendBreadcrumbs);\n                }\n\n                if (typeof appendBreadcrumbs === 'function') {\n                    const nextAppendBreadcrumbs = appendBreadcrumbs(this.props);\n\n                    page.appendBreadcrumbs(nextAppendBreadcrumbs);\n                }\n\n                // 页面头部是否显示\n                if (pageHead !== undefined) pageHead ? page.showHead() : page.hideHead();\n\n                // 页面左侧是否显示\n                if (side !== undefined) side ? sideAction.show() : sideAction.hide();\n\n                // 页面左侧是否收起\n                if (sideCollapsed !== undefined) sideAction.setCollapsed(sideCollapsed);\n            };\n\n            render() {\n                return (\n                    <WrappedComponent\n                        onComponentWillShow={func => this.onShow = func}\n                        onComponentWillHide={func => this.onHide = func}\n                        {...this.props}\n                    />\n                );\n            }\n        }\n\n        return WithConfig;\n    };\n}\n","import React, {Component} from 'react';\nimport {addEventListener, removeEventListener} from './index';\n\n/**\n * dom事件高级组件\n * 将addEventListener removeEventListener 属性注入到目标组件props中，目标组件可以通过this.props.addEventListener(element, type, handler)方式进行使用;\n * 每次addEventListener 注册事件时，保存了事件名称，在componentWillUnmount方法中，进行统一事件清除\n * @example\n * import {domEvent} from 'path/to/utils/react-hoc';\n * // 装饰器方式：\n * // @domEvent()\n * // class SomeComponent extends Component {...}\n *\n * // 传递参数，修改注入的props属性\n * // @domEvent({addPropName = '$$on'}) // 组件内调用：this.props.$$on\n * // class SomeComponent extends Component {...}\n *\n * @example\n * // 直接使用\n * import {domEvent} from 'path/to/utils/react-hoc';\n * const WrappedComponet = domEvent()(SomeComponent);\n *\n * @module dom事件高级组件\n */\n\nexport default function domEvent({addPropName = 'addEventListener', removePropName = 'removeEventListener'} = {}) {\n    return function (WrappedComponent) {\n        class WithSubscription extends Component {\n            constructor(props) {\n                super(props);\n                this[addPropName] = (element, type, handler) => {\n                    this._addedEvents.push({\n                        element,\n                        type,\n                        handler,\n                    });\n                    addEventListener(element, type, handler);\n                };\n                this[removePropName] = (element, type, handler) => {\n                    removeEventListener(element, type, handler);\n                };\n            }\n\n            _addedEvents = [];\n            static displayName = `WithSubscription(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\n\n            componentWillUnmount() {\n                // 当前组件卸载，卸载当前组件绑定过得事件\n                this._addedEvents.forEach(item => {\n                    const {element, type, handler} = item;\n                    removeEventListener(element, type, handler);\n                });\n            }\n\n            render() {\n                const injectProps = {\n                    [addPropName]: this[addPropName],\n                    [removePropName]: this[removePropName],\n                };\n                return <WrappedComponent {...injectProps} {...this.props}/>;\n            }\n        }\n\n        return WithSubscription;\n    };\n}\n","import React, {Component} from 'react';\nimport uuidV4 from 'uuid/v4';\nimport PubSub from 'pubsub-js'\n\n\n/**\n * 发布订阅高级组件\n * 将subscribe publish 属性注入到目标组件props中，目标组件可以通过this.props.on(topic, callback)方式进行使用;\n * 每次on 注册事件时，保存了事件名称，在componentWillUnmount方法中，进行统一事件清除\n * @example\n * import {event} from 'path/to/utils/react-hoc';\n * // 装饰器方式：\n * // @event()\n * // class SomeComponent extends Component {...}\n *\n * // 传递参数，修改注入的props属性\n * // @event({subscribePropName = '$on'}) // 组件内调用：this.props.$on\n * // class SomeComponent extends Component {...}\n *\n * @example\n * // 直接使用\n * import {event} from 'path/to/utils/react-hoc';\n * const WrappedComponent = event()(SomeComponent);\n *\n * @module 发布订阅高级组件\n */\n\nexport default function event({subscribePropName = 'subscribe', publishPropName = 'publish'} = {}) {\n    return (WrappedComponent) => {\n        class WithPubSub extends Component {\n            constructor(props) {\n                super(props);\n                this._channel = uuidV4();\n                this.tokens = [];\n                this[subscribePropName] = (topic, fn) => { // subscribe方法\n                    const token = PubSub.subscribe(topic, fn);\n                    this.tokens.push(token);\n                    return token;\n                };\n                this[publishPropName] = (topic, args) => { // publish方法\n                    PubSub.publish(topic, args);\n                };\n            }\n\n            static displayName = `WithPubSub(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\n\n            componentWillUnmount() {\n                // 当前组件卸载，取消订阅当前组件已经订阅的事件\n                this.tokens.forEach(token => {\n                    PubSub.unsubscribe(token);\n                });\n            }\n\n            render() {\n                const injectProps = {\n                    [subscribePropName]: this[subscribePropName],\n                    [publishPropName]: this[publishPropName],\n                };\n                return <WrappedComponent {...injectProps} {...this.props}/>;\n            }\n        }\n\n        return WithPubSub;\n    };\n}\n","import React, {Component} from 'react';\nimport queryString from 'qs';\n\nexport default ({propName = 'query'} = {}) => WrappedComponent => {\n    class WithSubscription extends Component {\n        constructor(props) {\n            super(props);\n            const search = queryString.parse(window.location.search, {ignoreQueryPrefix: true});\n            this.query = search || {};\n        }\n\n        static displayName = `WithQuery(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\n\n        render() {\n            const injectProps = {\n                [propName]: this.query,\n            };\n            return <WrappedComponent {...injectProps} {...this.props}/>;\n        }\n    }\n\n    return WithSubscription;\n};\n","import theme from 'src/theme';\n\n// 进行本地存储同步，syncState中的同步是区分用户的，会导致未登录的页面与登录的页面有差异\nconst getItem = (key) => window.localStorage.getItem(key);\nconst setItem = (key, value) => window.localStorage.setItem(key, value);\n\nconst primaryColor = getItem('primaryColor') || theme['@primary-color'];\n\nexport default {\n    initialState: {\n        loading: false,             // 全局loading\n        loadingTip: '',             // 全局loading 提示\n        loginUser: void 0,          // 当前登录用户\n        permissions: [],            // 当前登录用户权限 [code, code, ...]\n        userPaths: [],              // 当前登录用户可用的路由path，用于过滤前端路由，解决页面越权访问。[path, path, ...]\n        primaryColor,               // 主题主颜色\n        tabs: [],                   // 所有的tab配置 {path, text, icon, component, active, scrollTop}\n        keepAlive: false,           // 页面切换回去之后，保持内容，通过显示隐藏div实现，不知道会有什么坑！！！性能？各个互相干扰？\n        noFrame: false,             // 不需要头部、左侧菜单，一般用于将此项目嵌入到其他项目中\n    },\n\n    syncStorage: {\n        keepAlive: true,\n        tabs: [{path: true, text: true, icon: true, active: true, scrollTop: true}],\n    },\n\n    setTabs: (newTabs) => {\n        // const tabs = newTabs.filter(item => item.path !== '/login');\n        return {tabs: newTabs};\n    },\n    setKeepPage: keepAlive => ({keepAlive}),\n\n    setCurrentTabTitle: (title, state) => {\n        const tabs = [...state.tabs];\n        const tab = tabs.find(item => item.active);\n\n        if (tab) tab.text = title;\n\n        return {tabs};\n    },\n\n    refreshTab: (targetPath, state) => {\n        const {tabs} = state;\n\n        // 将tab对应的组件清空即可 KeepAuthRoute.jsx 中会进行判断，从新赋值一个新的组件，相当于刷新\n        const tab = tabs.find(item => item.path === targetPath);\n        tab.component = null;\n\n        return {tabs: [...tabs]};\n    },\n\n    refreshAllTab: (arg, state) => {\n        const tabs = state.tabs.map(item => ({...item, component: null}));\n\n        return {tabs};\n    },\n\n    closeCurrentTab: (arg, state) => {\n        const tabs = [...state.tabs];\n        const tab = tabs.find(item => item.active);\n        if (tab) return closeTabByPath(tab.path, tabs);\n    },\n\n    closeTab: (targetPath, state) => {\n        const tabs = [...state.tabs];\n        return closeTabByPath(targetPath, tabs);\n    },\n\n    closeOtherTabs: (targetPath, state) => {\n        const closeOthersTab = state.tabs.find(item => item.path === targetPath);\n\n        if (closeOthersTab) {\n            closeOthersTab.nextActive = true;\n\n            return {tabs: [closeOthersTab]};\n        }\n    },\n\n    closeAllTabs: () => {\n        return {tabs: [{path: '/', nextActive: true}]};\n    },\n\n    closeLeftTabs: (targetPath, state) => {\n        const tabs = [...state.tabs];\n        let closeLeftTabIndex = 0;\n        const closeLeftTab = tabs.find((item, index) => {\n            if (item.path === targetPath) {\n                closeLeftTabIndex = index;\n                return true;\n            }\n            return false;\n        });\n\n        if (closeLeftTab) {\n            const newTabs = tabs.slice(closeLeftTabIndex);\n            closeLeftTab.nextActive = true;\n\n            return {tabs: newTabs};\n        }\n    },\n\n    closeRightTabs: (targetPath, state) => {\n        const tabs = [...state.tabs];\n        let closeRightIndex = 0;\n        const closeRightTab = tabs.find((item, index) => {\n            if (item.path === targetPath) {\n                closeRightIndex = index;\n                return true;\n            }\n            return false;\n        });\n\n        if (closeRightTab) {\n            const newTabs = tabs.slice(0, closeRightIndex + 1);\n            closeRightTab.nextActive = true;\n\n            return {tabs: newTabs};\n        }\n    },\n\n    setPrimaryColor: (primaryColor) => {\n        setItem('primaryColor', primaryColor);\n\n        return {primaryColor};\n    },\n\n    setLoginUser: (loginUser) => ({loginUser}),\n\n    setPermissions: (permissions) => ({permissions}),\n\n    setUserPaths: userPaths => ({userPaths}),\n\n    showLoading: (loadingTip) => ({loading: true, loadingTip}),\n\n    hideLoading: () => ({loading: false, loadingTip: ''}),\n};\n\n\nfunction closeTabByPath(targetPath, tabs) {\n    let closeTabIndex = 0;\n\n    const tab = tabs.find((item, index) => {\n        if (item.path === targetPath) {\n            closeTabIndex = index;\n            return true;\n        }\n        return false;\n    });\n\n    if (tab) {\n        // 关闭的是当前标签\n        if (tab.active) {\n            const removeTabPath = tab.path;\n            const currentIndex = tabs.findIndex(item => item.path === removeTabPath);\n            let nextActiveIndex = -1;\n\n            if (removeTabPath.indexOf('/_/') !== -1) {\n                nextActiveIndex = tabs.findIndex(item => item.path === removeTabPath.split('/_/')[0]);\n            }\n\n            if (nextActiveIndex === -1) {\n                nextActiveIndex = 0;\n                if (currentIndex === tabs.length - 1) {\n                    // 当前标签已经是最后一个了，删除后选中上一个\n                    nextActiveIndex = currentIndex - 1;\n                } else {\n                    // 当前tab标签后面还有标签，删除后选中下一个标签\n                    nextActiveIndex = currentIndex + 1;\n                }\n            }\n\n            if (tabs[nextActiveIndex]) {\n                tabs[nextActiveIndex].nextActive = true;\n            }\n        }\n\n        tabs.splice(closeTabIndex, 1);\n\n        // 关闭的是最后一个，默认打开首页\n        if (!tabs.length) return {tabs: [{path: '/', nextActive: true}]};\n\n        return {tabs: [...tabs]};\n    }\n}\n","import {getTopNodeByNode} from 'src/library/utils/tree-utils';\nimport {uniqueArray} from 'src/library/utils';\nimport {getMenuTreeDataAndPermissions, getSelectedMenuByPath} from '../commons';\nimport getMenus from \"src/menus\";\n\nexport default {\n    initialState: {\n        loading: false,         // 请求菜单loading\n        openKeys: [],           // 当前展开菜单keys\n        selectedMenu: null,     // 当前选中菜单\n        topMenu: [],            // 当前选中菜单的顶级菜单\n        keepOtherOpen: false,   // 点击菜单进入页面时，保持其他菜单打开状态\n        menus: [],              // 菜单数据，树状结构\n        mostUsedMenus: [],      // 最常用菜单，使用此时usedTimes降序排列\n        plainMenus: [],         // 菜单数据，扁平化\n    },\n    syncStorage: {\n        openKeys: true,\n        selectedMenu: true,\n        topMenu: true,\n        keepOtherOpen: true,\n        mostUsedMenus: true,\n    },\n\n    /**\n     * 获取系统菜单\n     */\n    getMenus: {\n        payload: ({params} = {}) => getMenus(params.userId),\n        reducer: {\n            resolve: (state, {payload: menus}) => {\n                // 重新获取菜单之后，过滤mostUsedMenus，防止脏数据\n                const mostUsedMenus = menus.filter(item => state.mostUsedMenus.find(it => it.key === item.key));\n                const {menuTreeData} = getMenuTreeDataAndPermissions(menus);\n\n                return {menus: menuTreeData, mostUsedMenus, plainMenus: menus};\n            },\n        },\n    },\n\n    setKeepOtherOpen: (keepOtherOpen) => ({keepOtherOpen}),\n    setOpenKeys: (openKeys) => ({openKeys}),\n    setMenus: (menus) => ({menus}),\n    getMenuStatus: (arg, state) => {\n        const path = window.location.pathname;\n        const {keepOtherOpen,} = state;\n        const mostUsedMenus = [...state.mostUsedMenus];\n\n        let openKeys = [...state.openKeys];\n        let selectedMenu = getSelectedMenuByPath(path, state.menus);\n        let topMenu = {};\n\n        // 如果没有匹配到，使用上一次菜单\n        if (!selectedMenu && path !== '/') { // 首页除外\n            selectedMenu = state.selectedMenu;\n        }\n\n        if (selectedMenu) {\n            topMenu = getTopNodeByNode(state.menus, selectedMenu);\n            const parentKeys = selectedMenu.parentKeys || [];\n\n            openKeys = keepOtherOpen ? openKeys.concat(parentKeys) : [...parentKeys];\n\n            openKeys = uniqueArray(openKeys);\n\n            // 更新最常用菜单\n            const existMostUsedMenu = mostUsedMenus.find(item => item.key === selectedMenu.key)\n            if (existMostUsedMenu) {\n                existMostUsedMenu.usedTimes += 1;\n            } else {\n                mostUsedMenus.push({...selectedMenu, usedTimes: 1});\n            }\n\n            mostUsedMenus.sort((a, b) => b.usedTimes - a.usedTimes);\n        }\n\n        return {\n            topMenu,\n            selectedMenu,\n            openKeys,\n            mostUsedMenus,\n        };\n    },\n}\n\n","const INIT_WIDTH = 256;\n\nexport default {\n    initialState: {\n        show: true,\n        width: INIT_WIDTH,  // 左侧宽度\n        collapsedWidth: 80, // 收起时宽度\n        collapsed: false,   // 是否展开/收起\n        dragging: false,    // 是否正在拖动\n    },\n    syncStorage: {\n        width: true,\n        collapsed: true,\n    },\n\n    setDragging: (dragging) => ({dragging}),\n    hide: () => ({show: false}),\n    show: () => ({show: true}),\n    setWidth: (width) => ({width}),\n    initWidth: () => ({width: INIT_WIDTH}),\n    setCollapsed: (collapsed) => ({collapsed}),\n}\n","// 此文件为生成文件，不要直接编辑\nimport _menu from '/Users/wangshubin/workspace/suixingpay/react-admin/src/models/menu.js';\nimport _page from '/Users/wangshubin/workspace/suixingpay/react-admin/src/models/page.js';\nimport _settings from '/Users/wangshubin/workspace/suixingpay/react-admin/src/models/settings.js';\nimport _side from '/Users/wangshubin/workspace/suixingpay/react-admin/src/models/side.js';\nimport _system from '/Users/wangshubin/workspace/suixingpay/react-admin/src/models/system.js';\n\nexport const menu = _menu;\nexport const page = _page;\nexport const settings = _settings;\nexport const side = _side;\nexport const system = _system;\n\n","export default {\n    initialState: {\n        breadcrumbs: [],    // 面包屑数据 [{key, text, path}]\n        title: '',          // 页面title {text, icon}\n        showHead: false,     // 是否显示/隐藏页面头部\n        loading: false,\n        loadingTip: '',\n    },\n\n    showHead: () => ({showHead: true}),\n    hideHead: () => ({showHead: false}),\n\n    setTitle: (title) => ({title}),\n\n    setBreadcrumbs: (breadcrumbs) => ({breadcrumbs}),\n    appendBreadcrumbs: (appendBreadcrumbs, state) => {\n        let {breadcrumbs = []} = state;\n        breadcrumbs = breadcrumbs.concat(appendBreadcrumbs);\n        return {breadcrumbs};\n    },\n\n    showLoading: (loadingTip) => ({loading: true, loadingTip}),\n    hideLoading: () => ({loading: false, loadingTip: ''}),\n}\n","import {createStore, applyMiddleware, combineReducers} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport {\n    middlewareUtils,\n    createConnectHOC,\n    middlewarePromise,\n    connect as _connect,\n    getActionsAndReducers,\n    middlewareAsyncActionCallback,\n    middlewareSyncReducerToLocalStorage,\n} from 'src/library/redux';\nimport * as models from './all-models';\n\nconst {actions, reducers} = getActionsAndReducers({models});\nconst middleware = [\n    thunkMiddleware,\n    middlewarePromise,\n    middlewareAsyncActionCallback,\n    middlewareUtils,\n    middlewareSyncReducerToLocalStorage,\n];\n\nexport function configureStore(initialState) {\n    return applyMiddleware(...middleware)(createStore)(combineReducers(reducers), initialState);\n}\n\n// 与redux进行连接 函数\nexport const connectComponent = _connect({actions, options: {ref: true}});\n\n// 与redux进行连接 装饰器\nexport const connect = createConnectHOC(connectComponent);\n\n\n","export const PAGE_FRAME_LAYOUT = {\n    TOP_SIDE_MENU: 'top-side-menu',\n    TOP_MENU: 'top-menu',\n    SIDE_MENU: 'side-menu',\n};\n\nexport default {\n    initialState: {\n        pageFrameLayout: PAGE_FRAME_LAYOUT.SIDE_MENU,\n        pageHeadFixed: true,\n        pageHeadShow: false,\n        tabsShow: true,\n    },\n\n    syncStorage: true, // 全部同步到localStorage中\n\n    setPageFrameLayout: (pageFrameLayout) => ({pageFrameLayout}),\n    setPageHeadFixed: (pageHeadFixed) => ({pageHeadFixed: !!pageHeadFixed}),\n    showPageHead: (pageHeadShow, state) => ({pageHeadShow: !!pageHeadShow, pageHeadFixed: pageHeadShow ? state.pageHeadFixed : false}),\n    showTabs: tabsShow => ({tabsShow}),\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"breadcrumb\":\"breadcrumb-2YHQm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page-header\":\"page-header-wLejI\",\"breadcrumb\":\"breadcrumb-f6vFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"logo-1Eqwh\"};","/**\n * 扩展两个Promise方法：\n * <br/>\n * finally：\n * Promise对象的回调链，不管以then方法或catch方法结尾，要是最后一个方法抛出错误，都有可能无法捕捉到\n * （因为Promise内部的错误不会冒泡到全局）。\n * 因此，我们可以提供一个done方法，总是处于回调链的尾端，保证抛出任何可能出现的错误。\n * <br/>\n * <br/>\n * done：\n * finally方法用于指定不管Promise对象最后状态如何，都会执行的操作。\n * 它与done方法的最大区别，它接受一个普通的回调函数作为参数，该函数不管怎样都必须执行。\n * @module 两个Promise扩展方法\n */\n\n/* eslint-disable */\nif (!Promise.prototype.finally) {\n    Promise.prototype.finally = function (callback) {\n        let P = this.constructor;\n        return this.then(\n            value => P.resolve(callback()).then(() => value),\n            reason => P.resolve(callback()).then(() => {\n                throw reason;\n            })\n        );\n    };\n}\n\nif (!Promise.prototype.done) {\n    Promise.prototype.done = function (onFulfilled, onRejected) {\n        this.then(onFulfilled, onRejected)\n            .catch(function (reason) {\n                // 抛出一个全局错误\n                setTimeout(() => {\n                    throw reason;\n                }, 0);\n            });\n    };\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer-1mV_X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page-content-root\":\"page-content-root-2n7ZF\",\"page-content\":\"page-content-XxyQi\",\"footer\":\"footer-2E5Pl\",\"page-loading\":\"page-loading-24x8z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user-menu\":\"user-menu-3_FGT\",\"menu\":\"menu-2Fxt4\",\"account\":\"account-3vSeR\",\"avatar\":\"avatar-2i4F0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header-menu\":\"header-menu-194OW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header-2vHcA\",\"logo-container\":\"logo-container-1fOh1\",\"trigger\":\"trigger-3N4bh\",\"center\":\"center-1xBG8\",\"right\":\"right-3Uss7\",\"action\":\"action-2Yfq1\",\"logo\":\"logo-1Z4jx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"side-menu\":\"side-menu-1mrjh\",\"menu-text\":\"menu-text-2ZrRt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"root-5t7Iv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"base-frame\":\"base-frame-A_IZD\",\"header\":\"header-3khVE\",\"right\":\"right-3aRHJ\",\"logo\":\"logo-yo0_L\",\"trigger\":\"trigger-36fS8\",\"side\":\"side-2jmLy\",\"outer\":\"outer-3ft_d\",\"inner\":\"inner-2OM8B\",\"content-top-space\":\"content-top-space-1XYxI\",\"with-fixed-page-head\":\"with-fixed-page-head-iOdMC\",\"with-tabs\":\"with-tabs-pXtkw\",\"page-head-fixed\":\"page-head-fixed-suFvI\",\"page-tabs\":\"page-tabs-2iXMC\",\"footer\":\"footer-1hAW9\",\"action\":\"action-UNArj\",\"global-loading\":\"global-loading-2KdB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"root-1nQkK\",\"container\":\"container-2UdbA\",\"header\":\"header-h5QAQ\",\"intro\":\"intro-3NUnx\",\"error404\":\"error404-4fPcp\",\"error401\":\"error401-3hKho\"};","import React from 'react';\nimport {ConfigProvider} from 'antd';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport AppRouter from './router/AppRouter';\nimport {connect} from './models';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn'; // 解决 antd 日期组件国际化问题\n// 设置语言\nmoment.locale('zh-cn');\n\n@connect()\nexport default class App extends React.Component {\n    render() {\n        return (\n            <ConfigProvider locale={zhCN}>\n                <AppRouter/>\n            </ConfigProvider>\n        );\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit http://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport * as storage from 'src/library/utils/storage';\nimport * as sxRedux from 'src/library/redux';\nimport App from './App';\nimport handleSuccess from './commons/handle-success';\nimport handleError from './commons/handle-error';\nimport {configureStore} from './models';\nimport * as serviceWorker from './serviceWorker';\nimport {getLoginUser} from './commons';\nimport './index.css';\n\n// dev 模式开启mock\nif (process.env.NODE_ENV === 'development' || process.env.MOCK === 'true') {\n    require('./mock/index');\n    console.log('current mode is development, mock is enabled');\n}\n\nconst currentUser = getLoginUser() || {};\n\n// 存储初始化 区分不同用户存储的数据\nstorage.init({\n    keyPrefix: currentUser.id,\n});\n\nsxRedux.init({storage, handleError, handleSuccess});\n\n// models store\nconst store = configureStore();\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import Mock from 'mockjs';\n\nexport function getRolesByPageSize(pageSize) {\n    const users = [];\n    for (let i = 0; i < pageSize; i++) {\n        users.push(Mock.mock({\n            id: Mock.Random.guid(),\n            name: Mock.Random.cname(),\n            description: Mock.Random.cparagraph(1),\n        }));\n    }\n    return users;\n}\n","import {getRolesByPageSize} from './mockdata/roles';\n\nexport default {\n    'get /mock/role': (config) => {\n        const {\n            pageSize,\n            pageNum,\n        } = config.params;\n\n\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve([200, {\n                    pageNum,\n                    pageSize,\n                    total: 888,\n                    list: getRolesByPageSize(pageSize),\n                }]);\n            }, 1000);\n        });\n    },\n};\n","import Mock from 'mockjs';\n\nconst random = Mock.Random;\nconst LoginUsers = [\n    {\n        id: '5754195b570b367345584998',\n        name: '超级管理员',\n        loginName: 'admin',\n        gender: 'male',\n        org_key: '1464444570801',\n        roleId: '5753f4706df8f6094bf3fc54',\n        pass: '111111',\n        salt: '03525b62-15aa-4ffe-a1ee-0385498e01f9',\n        update_at: '2016-08-23T13:44:18.819Z',\n        create_at: '2016-06-05T12:21:47.666Z',\n        is_deleted: false,\n        is_locked: false,\n        is_first_login: false,\n        position: 'CEO',\n        mobile: '88888888888',\n        email: 'admin@163.com',\n        permissions: ['users-add', 'users-delete', 'users-update', 'users-search', 'users-reset-pass', 'users-toggle-lock', 'organization-add', 'organization-delete', 'organization-update', 'organization-search', 'role-add', 'role-update', 'role-delete', 'role-search', 'system', 'system-004002', 'system-004001', 'system-002'],\n    },\n    {\n        id: '5754195b570b367345584998',\n        name: '超级管理员',\n        loginName: 'admin2',\n        gender: 'male',\n        org_key: '1464444570801',\n        roleId: '5753f4706df8f6094bf3fc54',\n        pass: '111111',\n        salt: '03525b62-15aa-4ffe-a1ee-0385498e01f9',\n        update_at: '2016-08-23T13:44:18.819Z',\n        create_at: '2016-06-05T12:21:47.666Z',\n        is_deleted: false,\n        is_locked: false,\n        is_first_login: false,\n        position: 'CEO',\n        mobile: '88888888888',\n        email: 'admin@163.com',\n        permissions: ['users-add', 'users-delete', 'users-update', 'users-search', 'users-reset-pass', 'users-toggle-lock', 'organization-add', 'organization-delete', 'organization-update', 'organization-search', 'role-add', 'role-update', 'role-delete', 'role-search', 'system', 'system-004002', 'system-004001', 'system-002'],\n    },\n];\n\nexport function getUsersByPageSize(pageSize) {\n    const users = [];\n    for (let i = 0; i < pageSize; i++) {\n        users.push(Mock.mock({\n            id: random.guid(),\n            name: random.cname(),\n            'age|18-60': 1,\n            'job|1': ['程序员', '人事', '测试', '销售'],\n            loginName: random.word(),\n            email: random.email(),\n            mobile: '18611438888',\n            'gender|1': ['male', 'female'],\n            position: 'ceo',\n            is_locked: false,\n            is_first_login: false,\n            remark: random.cparagraph(1),\n            //\n            // address: Mock.mock('@county(true)'),\n            // 'age|18-60': 1,\n            // 'group|1': ['jiagou', 'yanfa'],\n            // birth: random.date(),\n            // sex: random.integer(0, 1),\n        }));\n    }\n    return users;\n}\n\nexport {LoginUsers};\n","import {getUsersByPageSize} from './mockdata/user';\n\nexport default {\n    'post /mock/login': (config) => {\n        const {\n            userName,\n            password,\n        } = JSON.parse(config.data);\n        return new Promise((resolve, reject) => {\n            if (userName !== 'admin' || password !== '111') {\n                setTimeout(() => {\n                    reject({\n                        code: 1001,\n                        message: '用户名或密码错误',\n                    });\n                }, 1000);\n            } else {\n                setTimeout(() => {\n                    resolve([200, {\n                        id: '1234567890abcde',\n                        name: 'MOCK 用户',\n                        loginName: 'MOCK 登录名',\n                    }]);\n                }, 1000);\n            }\n        });\n    },\n    'post /mock/logout': {},\n\n    'get /mock/users': (config) => {\n        const {\n            pageSize,\n            pageNum,\n        } = config.params;\n\n\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve([200, {\n                    pageNum,\n                    pageSize,\n                    total: 888,\n                    list: getUsersByPageSize(pageSize),\n                }]);\n            }, 1000);\n        });\n    },\n    'get re:/mock/users/.+': {id: 1, name: '熊大', age: 22, job: '1', position: '1'},\n    'post /mock/users': true,\n    'put /mock/users': true,\n    'delete /mock/users': true,\n    'delete re:/mock/users/.+': true,\n}\n","/**\n * 简化mock请求写法\n *\n * 约定：method url delay，各部分以单个空格隔开\n *      url 以re:开头，将被转换为正则，比如：re:/mock/user-center/.+ -> /\\/mock\\/user-center\\/.+/\n *\n * @example\n * 'get /mock/users 1000' : users,\n *\n * @param mock\n * @param mocks\n */\nexport default (mock, mocks) => mocks.forEach(item => Object.keys(item).forEach(key => {\n    let method = key.split(' ')[0];\n    let url = key.split(' ')[1];\n    const delay = key.split(' ')[2] || 300;\n    const result = item[key];\n\n    method = `on${method.toLowerCase().replace(/( |^)[a-z]/g, (L) => L.toUpperCase())}`;\n\n    if (url.startsWith('re:')) {\n        url = new RegExp(url.replace('re:', ''));\n    }\n\n    if (typeof result === 'function') {\n        mock[method](url).reply(result);\n    } else {\n        mock[method](url).reply(() => {\n            // 加入延迟\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve([200, result]);\n                }, delay);\n            });\n        });\n    }\n}));\n","import MockAdapter from 'axios-mock-adapter';\nimport {mockInstance} from '../commons/ajax';\nimport simplify from './simplify';\n\nconst mock = new MockAdapter(mockInstance);\n\nsimplify(mock, [\n    require('./mock-users').default,\n    require('./mock-roles').default,\n]);\n","/**\n * 树操作通用方法，将一些常用方法提炼出来，方便使用。\n * @module 树操作工具\n */\n\nimport {cloneDeep} from 'lodash';\nimport {uniqueArray, arrayRemoveAll, arrayRemove} from './index';\n\n/**\n * 将数据转换成tree所需格式\n * @param {object} data 要进行转换的object\n * @param {String} [keyField='id'] 指定data中某个字段转换为树所需的key\n * @param {String} [titleField='name'] 指定data中某个字段转换为树所需的name\n * @returns {{name: *, key: *}}\n */\nexport function generateTreeNode(data, keyField = 'id', titleField = 'name') {\n    return {...data, title: data[titleField], key: data[keyField]};\n}\n\n/**\n * 将数据转换成tree所需格式\n * @param {Array} data 要进行转换的一些数据\n * @param {String} [keyField='id'] 指定data中某个字段转换为树所需的key\n * @param {String} [titleField='name'] 指定data中某个字段转换为树所需的name\n * @returns {Array}\n */\nexport function generateTreeNodes(data, keyField = 'id', titleField = 'name') {\n    let arr = [];\n    if (data && data.length) {\n        arr = data.map(d => generateTreeNode(d, keyField, titleField));\n    }\n    return arr;\n}\n\n/**\n * 根据key 将node设置成叶子节点\n * @param {Array} treeData 树的树状结构数据\n * @param {String} key 节点的key值\n */\nexport function setLeaf(treeData, key) {\n    const loopLeaf = (data) => {\n        for (let item of data) {\n            if (item.key === key) {\n                item.isLeaf = true;\n                break;\n            }\n            if (item.children && item.children.length) {\n                loopLeaf(item.children);\n            }\n        }\n    };\n    loopLeaf(treeData);\n}\n\n/**\n * 给指定key的节点添加子节点\n * @param {Array} treeData 树的树状结构数据\n * @param {String} key 节点的key值\n * @param {Array} child 要添加的子节点\n */\nexport function appendChildrenByKey(treeData, key, child) {\n    const loop = (data) => {\n        for (let item of data) {\n            if (key === item.key) {\n                if (item.children) {\n                    item.children = item.children.concat(child);\n                } else {\n                    item.children = child;\n                }\n\n                if (!item.children || !item.children.length) {\n                    setLeaf(treeData, key);\n                }\n                break;\n            }\n            if (item.children && item.children.length) {\n                loop(item.children);\n            }\n        }\n    };\n    loop(treeData);\n}\n\n/**\n * 检测某个节点是否有parent节点\n * @param {Array} rows 所有节点，扁平数据，非树状结构\n * @param {object} row 需要判断得节点\n * @returns {boolean}\n */\nexport function hasParent(rows, row) {\n    let parentKey = row.parentKey;\n    return rows.find(r => r.key === parentKey);\n}\n\n/**\n * 根据key，查询其所有后代节点，一般会用于删除\n * @param {Array} rows 具有key，parentKey关系的扁平数据结构\n * @param {object} key 要查询的节点 key\n * @returns {Array}\n */\nexport function getGenerationsByKey(rows, key) {\n    // 这个函数会被多次调用，对rows做深拷贝，否则会产生副作用。\n    rows = cloneDeep(rows);\n    const parentNode = rows.find(item => item.key === key);\n    if (!parentNode) return [];\n\n\n    let nodes = [parentNode];\n    let generationNodes = [cloneDeep(parentNode)];\n\n    // 存放要处理的节点\n    let toDo = nodes.map((v) => v);\n\n    while (toDo.length) {\n        // 处理一个，头部弹出一个。\n        let node = toDo.shift();\n        // 获取子节点。\n        rows.forEach(row => {\n            if (row.parentKey === node.key) {\n                let child = cloneDeep(row);\n                generationNodes.push(child);\n                // child加入toDo，继续处理\n                toDo.push(child);\n            }\n        });\n    }\n    return generationNodes;\n}\n\n\n/**\n * js构造树方法。会给节点添加parentKeys,parentNodes,parentTexts属性，方便后期数据提取\n * @param {Array} rows 具有key，parentKey关系的扁平数据结构，标题字段为text\n * @param {object} [parentNode=null] 开始节点\n * @returns {Array}\n */\nexport function convertToTree(rows, parentNode = null) {\n    // 这个函数会被多次调用，对rows做深拷贝，否则会产生副作用。\n    rows = cloneDeep(rows);\n    parentNode = cloneDeep(parentNode);\n\n    let nodes = [];\n    if (parentNode) {\n        nodes.push(parentNode);\n    } else { // 获取所有的顶级节点\n        nodes = rows.filter(r => !hasParent(rows, r));\n    }\n\n    // 存放要处理的节点\n    let toDo = nodes.map((v) => v);\n\n    while (toDo.length) {\n        // 处理一个，头部弹出一个。\n        let node = toDo.shift();\n        // 获取子节点。\n        rows.forEach(row => {\n            if (row.parentKey === node.key) {\n                let child = cloneDeep(row);\n                let parentKeys = [node.key];\n                if (node.parentKeys) {\n                    parentKeys = node.parentKeys.concat(node.key);\n                }\n                child.parentKeys = parentKeys;\n\n                let parentTexts = [node.text];\n                if (node.parentTexts) {\n                    parentTexts = node.parentTexts.concat(node.text);\n                }\n                child.parentTexts = parentTexts;\n\n                const tempNode = cloneDeep(node);\n                delete tempNode.children;\n                delete tempNode.parentKeys;\n                delete tempNode.parentNodes;\n                delete tempNode.parentTexts;\n                let parentNodes = [tempNode];\n                if (node.parentNodes) {\n                    parentNodes = node.parentNodes.concat(parentNodes);\n                }\n                child.parentNodes = parentNodes;\n\n                if (node.children) {\n                    node.children.push(child);\n                } else {\n                    node.children = [child];\n                }\n                // child加入toDo，继续处理\n                toDo.push(child);\n            }\n        });\n    }\n\n    if (parentNode) {\n        return nodes[0].children;\n    }\n    return nodes;\n}\n\n/**\n * 根据指定数据的键值对，查找node，比如根据path查找： getNodeByPropertyAndValue(treeData, 'path', '/user/list')\n * @param {Array} treeData 树状结构数据\n * @param {String} key key值，比如'path'，'text'等节点数据属性\n * @param {*} value 节点属性所对应的数据\n * @param {Function} [compare] 节点属性所对应的数据比较方式， 默认 === 比对\n * @returns {object} 返回根据 key value查找到的节点\n */\nexport function getNodeByPropertyAndValue(treeData, key, value, compare) {\n    if (!treeData || !treeData.length) return null;\n    if (!compare) compare = (a, b, item) => a === b;\n    let node = null;\n    const loop = (data) => {\n        for (let item of data) {\n            if (compare(item[key], value, item)) {\n                node = {...item};\n                break;\n            }\n            if (item.children && item.children.length) {\n                loop(item.children);\n            }\n        }\n    };\n    loop(treeData);\n    return node;\n}\n\n/**\n * 根据key查找节点\n * @param {Array} treeData 树状结构数据\n * @param {String} key\n * @returns {object} 根据key查找到的节点\n */\nexport function getNodeByKey(treeData, key) {\n    return getNodeByPropertyAndValue(treeData, 'key', key);\n}\n\n/**\n * 根据key查找后代元素的key\n * @param {Array} treeData 树状结构数据\n * @param {String} key\n * @returns {*[]} 根据key查找到的所有后代节点key\n */\nexport function getGenerationKeys(treeData, key) {\n    const node = getNodeByKey(treeData, key);\n    const keys = [];\n    const loop = (node) => {\n        const {key, children} = node;\n        if (children?.length) {\n            children.forEach(loop);\n        } else {\n            keys.push(key);\n        }\n    };\n    loop(node);\n\n    return keys.filter(item => item !== key);\n}\n\n/**\n * 根据key查找所有后代元素\n * @param {Array} treeData 树状结构数据\n * @param {String} key\n * @returns {Array} 根据key查找到的所有后代节点\n */\nexport function getGenerationalNodesByKey(treeData, key) {\n    const node = getNodeByKey(treeData, key);\n    if (!node.children || !node.children.length) {\n        return [];\n    }\n    const allNodes = [];\n    const loop = (data) => {\n        data.forEach(d => {\n            allNodes.push(d);\n            if (d.children && d.children) {\n                loop(d.children);\n            }\n        });\n    };\n    loop(node.children);\n    return allNodes;\n}\n\n/**\n * 获取选中节点的keys，点击父节点时，其下所有后代元素将被全被选中，或者全不选中，选中子节点时，其所有祖先节点将被选中\n * @param treeData 树状结构数据\n * @param {Array} checkedKeys 点击过之后，树选中的keys\n * @param {boolean} checked 当前点击时 checked （true）还是 unchecked（false）\n * @param {String} checkNodeKey 当前点击节点的key\n * @returns {Array} 选中的keys\n */\nexport function getCheckedKeys(treeData, checkedKeys, checked, checkNodeKey) {\n    // TODO 区分半选和全选\n    let allKeys = [...checkedKeys];\n    const generationalNodes = getGenerationalNodesByKey(treeData, checkNodeKey);\n    const generationalKeys = generationalNodes.map(n => n.key);\n\n    if (checked) {\n        // 选中所有后代节点\n        allKeys = allKeys.concat(generationalKeys);\n\n        // 选中有祖先节点\n        const node = getNodeByKey(treeData, checkNodeKey);\n        if (node.parentKeys) {\n            allKeys = allKeys.concat(node.parentKeys);\n        }\n    } else {\n        // 取消选中所有后代节点\n        allKeys = arrayRemoveAll(allKeys, generationalKeys.concat(checkNodeKey));\n\n        // 判断其父节点是否还有子节点选中了，如果没有，父节点也不选中\n        const node = getNodeByKey(treeData, checkNodeKey);\n        if (node.parentKeys) {\n            const pks = [...node.parentKeys];\n            pks.reverse();\n            pks.forEach(key => {\n                const pNode = getNodeByKey(treeData, key);\n                if (pNode.children && pNode.children.length) {\n                    let hasCheckedChild = false;\n                    for (let pCNode of pNode.children) {\n                        if (allKeys.indexOf(pCNode.key) > -1) {\n                            hasCheckedChild = true;\n                            break;\n                        }\n                    }\n                    if (!hasCheckedChild) {\n                        allKeys = arrayRemove(allKeys, key);\n                    }\n                }\n            });\n        }\n    }\n    return uniqueArray(allKeys);\n}\n\n/**\n * 根据key删除节点\n * @param {Array} treeData 树的树状结构数据\n * @param {String} key 要删除节点的key值\n */\nexport function removeNodeByKey(treeData, key) {\n    if (!treeData || !treeData.length) return null;\n    const loop = (data) => {\n        for (let i = 0; i < data.length; i++) {\n            const item = data[i];\n            if (item.key === key) {\n                data.splice(i, 1);\n                break;\n            } else if (item.children && item.children.length) {\n                loop(item.children);\n            }\n        }\n    };\n    loop(treeData);\n}\n\n/**\n * 给指定key的node节点增加一个新的子节点\n * @param {Array} treeData 树的树状结构数据\n * @param {String} key 要操作的节点的key值\n * @param {object} newNode 需要加入的子节点\n */\nexport function addNodeChildByKey(treeData, key, newNode) {\n    if (!treeData || !treeData.length) return null;\n    newNode.isLeaf = true;\n    const loop = (data) => {\n        for (let item of data) {\n            if (item.key === key) {\n                if (item.children) {\n                    item.children.push({...newNode});\n                } else {\n                    item.children = [{...newNode}];\n                }\n                break;\n            }\n            if (item.children && item.children.length) {\n                loop(item.children);\n            }\n        }\n    };\n    loop(treeData);\n}\n\n/**\n * 更新某个节点\n * @param {Array} treeData 树的树状结构数据\n * @param {object} newNode 需要跟新的节点新数据，会根据key对原数据进行比对\n */\nexport function updateNode(treeData, newNode) {\n    if (!treeData || !treeData.length) return null;\n    const loop = (data) => {\n        for (let item of data) {\n            if (item.key === newNode.key) {\n                Object.keys(item).forEach(key => {\n                    item[key] = newNode[key];\n                });\n                break;\n            }\n            if (item.children && item.children.length) {\n                loop(item.children);\n            }\n        }\n    };\n    loop(treeData);\n}\n\n/**\n * 根据某个节点，获取其最顶级节点\n * @param {Array} treeData 树状结构数据\n * @param {object} node 节点数据\n * @returns {object} 最顶层节点\n */\nexport function getTopNodeByNode(treeData, node) {\n    if (!treeData || !treeData.length || !node) return null;\n\n    if (node && !node.parentKey) return node;\n    let parentNode = null;\n    const loop = (data) => { // 查找node的父节点\n        for (let item of data) {\n            if (item.key === node.parentKey) {\n                parentNode = {...item};\n                break;\n            }\n            if (item.children && item.children.length) {\n                loop(item.children);\n            }\n        }\n    };\n    loop(treeData);\n    return getTopNodeByNode(treeData, parentNode); // 继续查找parentNode的父节点\n}\n\n/**\n * 渲染树，cb(node[, children nodes])\n * @param {Array} treeData 树的树状结构数据\n * @param {function} cb 回调函数：cb(node[, children nodes])\n */\nexport function renderNode(treeData, cb) {\n    const loop = data => data.map((item) => {\n        if (item.children) {\n            return cb(item, loop(item.children)); // item children Item\n        }\n\n        return cb(item); // 叶子节点\n    });\n    return loop(treeData);\n}\n\n/**\n * 查找给定节点，及其后代节点property属性，第一个不为空的值\n * @param {Array} treeData 树的树状结构数据\n * @param {object} node 节点数据\n * @param {String} property 属性，比如 key， path等\n * @returns {*}\n */\nexport function getFirstValue(treeData, node, property) {\n    if (node[property]) return node[property];\n    let firstValue = null;\n    const loop = data => {\n        for (let item of data) {\n            if (item[property]) {\n                firstValue = item[property];\n                break;\n            }\n            if (item.children && item.children.length) {\n                loop(item.children);\n            }\n        }\n    };\n    if (node.children && node.children.length) {\n        loop(node.children);\n    }\n    return firstValue;\n}\n","// middleware\nexport const SYNC_STATE_TO_STORAGE = '@@redux/SYNC_STATE_TO_STORAGE-' + Math.random().toString(36).substring(7).split('').join('.');\nexport const GET_STATE_FROM_STORAGE = '@@redux/GET_STATE_FROM_STORAGE-' + Math.random().toString(36).substring(7).split('').join('.');\n","/**\n * promise异步reducer参数说明\n * 每个函数的参数都是 (state, action)，每个函数的state都是上游函数处理过的最新state\n * 调用顺序：pending -> resolve(reject)->complete\n *\n * @param always = (state) => ({...state}),     // 每个状态之前都会触发，pending、resolve、reject、complete之前都会触发\n * @param pending = (state) => ({...state}),    // 请求开始之前\n * @param resolve = (state) => ({...state}),    // 成功\n * @param reject = (state) => ({...state}),     // 失败\n * @param complete = (state) => ({...state}),   // 完成，无论成功失败，都会触发\n * @returns {function(*=, *=)}\n */\nexport default function handleAsyncReducer({\n                                               always = (state) => ({...state}),\n                                               pending = (state) => ({...state}),\n                                               resolve = (state) => ({...state}),\n                                               reject = (state) => ({...state}),\n                                               complete = (state) => ({...state}),\n                                           }) {\n    return (state, action) => {\n        const {meta = {}, error} = action;\n        const {sequence = {}} = meta;\n\n        function getReturnState(preState, method) {\n            const newState = method(preState, action) || {};\n            // if (!newState) {\n            //     throw Error(`handleAsyncReducer's ${method} method must return an object to compose a new state`);\n            // }\n            return {...preState, ...newState};\n        }\n\n        const alwaysState = getReturnState(state, always);\n\n        if (sequence.type === 'start') {\n            return getReturnState(alwaysState, pending);\n        }\n\n        if (sequence.type === 'next' && error) {\n            const rejectState = getReturnState(alwaysState, reject);\n            return getReturnState(rejectState, complete);\n        }\n\n        if (sequence.type === 'next' && !error) {\n            const resolveState = getReturnState(alwaysState, resolve);\n            return getReturnState(resolveState, complete);\n        }\n    };\n}\n","const createConnectHOC = connect => (mapStateToProps = state => ({})) => (WrappedComponent) => connect({mapStateToProps, LayoutComponent: WrappedComponent});\nexport default createConnectHOC;\n","import {isFSA} from 'flux-standard-action';\nimport _ from 'lodash';\n\nfunction isPromise(val) {\n    return val && typeof val.then === 'function';\n}\n\nexport default function promiseMiddleware({dispatch}) {\n    return next => action => {\n        if (!isFSA(action)) {\n            return isPromise(action)\n                ? action.then(dispatch)\n                : next(action);\n        }\n        const {meta = {}, payload} = action;\n\n        const id = _.uniqueId();\n\n        if (isPromise(payload)) {\n            dispatch({ // 先调用reducer，通知reducer异步开始\n                ...action,\n                payload: undefined,\n                meta: {\n                    ...meta,\n                    sequence: {\n                        type: 'start',\n                        id,\n                    },\n                },\n            });\n\n            return payload.then( // 异步结束时，再次调用reducer，分为成功或失败\n                result => dispatch({\n                    ...action,\n                    payload: result,\n                    meta: {\n                        ...meta,\n                        sequence: {\n                            type: 'next',\n                            id,\n                        },\n                    },\n                }),\n                error => dispatch({\n                    ...action,\n                    payload: error,\n                    error: true,\n                    meta: {\n                        ...meta,\n                        sequence: {\n                            type: 'next',\n                            id,\n                        },\n                    },\n                })\n            );\n        }\n\n        return next(action);\n    };\n}\n","import {isFSA} from 'flux-standard-action';\nimport * as types from './action-types';\nimport {getStorage} from './index';\n\n\n/**\n * 根据 mapObj 的结构，获取 originObj 对应结构的数据\n * @param originObj\n * @param mapObj\n * @param result\n * @returns {{}}\n */\nfunction filterObjectByObject(originObj, mapObj = {}, result = {}) {\n    Object.keys(mapObj).forEach(key => {\n        const value = mapObj[key];\n        if (value === true) {\n            result[key] = originObj[key];\n        }\n\n        if (typeof value === 'object') {\n            if (Array.isArray(value)) {\n                const mo = value[0];\n                result[key] = originObj[key].map(item => filterObjectByObject(item, mo));\n            } else {\n                result[key] = filterObjectByObject(originObj[key], value, result[key]);\n            }\n        }\n    });\n    return result;\n}\n\n/**\n * Storage 通过函数获取，Storage.setItem中，可以基于data进行区分操作\n * 比如通过data.syncType标记，区分同步到local、session、server等\n *\n * @param key\n * @param syncStorage\n * @param state\n */\nfunction syncToStorage(key, syncStorage, state) {\n    const Storage = getStorage();\n    // 根据 syncStorage 结构 获取 state中对应的数据，syncStorage === true 获取state中所有数据\n    const data = syncStorage === true ? state : filterObjectByObject(state, syncStorage);\n    Storage.setItem(key, data);\n}\n\nexport default ({dispatch, getState}) => next => action => {\n    setTimeout(() => { // 使getState获取到更新后的state\n        let pageState = getState().pageState;\n        if (pageState) {\n            Object.keys(pageState).forEach(key => {\n                const state = pageState[key];\n                if (state && state.syncStorage) {\n                    syncToStorage(key, state.syncStorage, state);\n                }\n            });\n        }\n    });\n\n    if (!isFSA(action)) {\n        return next(action);\n    }\n    const {meta = {}, sequence = {}, error, payload} = action;\n    const {__model_sync_name, __model_sync_state} = meta;\n\n    if (action.type === types.SYNC_STATE_TO_STORAGE) {\n        let state = getState();\n        const {syncModelName, syncModelState} = payload;\n        syncToStorage(syncModelName, syncModelState, state[syncModelName]);\n    }\n\n    if (!__model_sync_name || sequence.type === 'start' || error) {\n        return next(action);\n    }\n\n    next(action);\n\n    setTimeout(() => {\n        dispatch({\n            type: types.SYNC_STATE_TO_STORAGE,\n            payload: {syncModelName: __model_sync_name, syncModelState: __model_sync_state},\n        });\n    }, 16);\n};\n","import {createAction, handleActions} from 'redux-actions';\nimport {identity} from 'lodash';\nimport actionUtils from './action-utils';\nimport checkAction from './check-action';\nimport _handleAsyncReducer from './handle-async-reducer';\nimport * as _actionTypes from './action-types';\nimport _middlewareAsyncActionCallback from './middleware-async-action-callback';\nimport _connect from './connect';\nimport _createConnectHOC from './connect-hoc';\nimport _middlewarePromise from './middleware-promise';\nimport _middlewareSyncReducerToLocalStorage from './middleware-sync-reducer-to-local-storage';\nimport _middlewareUtils from './middleware-utils';\n\nexport const middlewareAsyncActionCallback = _middlewareAsyncActionCallback;\nexport const connect = _connect;\nexport const createConnectHOC = _createConnectHOC;\nexport const middlewarePromise = _middlewarePromise;\nexport const middlewareSyncReducerToLocalStorage = _middlewareSyncReducerToLocalStorage;\nexport const middlewareUtils = _middlewareUtils;\n\nexport const actionTypes = _actionTypes;\nexport const handleAsyncReducer = _handleAsyncReducer;\n\nlet _handleError = ({error, errorTip}) => {\n    console.error(error);\n    if (errorTip) {\n        alert(errorTip);\n    }\n};\n\nlet _handleSuccess = ({successTip}) => {\n    if (successTip) alert(successTip);\n};\n\nlet _storage = null;\n\n/**\n * storage 需要有两个函数 setItem multiGet\n * @param storage\n * @param handleError\n * @param handleSuccess\n */\nexport function init({storage, handleError, handleSuccess}) {\n    if (handleError) _handleError = handleError;\n    if (storage) _storage = storage;\n    if (handleSuccess) _handleSuccess = handleSuccess;\n}\n\nexport function getHandleSuccess() {\n    return _handleSuccess;\n}\n\nexport function getHandleError() {\n    return _handleError;\n}\n\nexport function getStorage() {\n    return _storage;\n}\n\n/**\n * 获取并整合 actions reducers\n * @param models\n * @returns {{actions, reducers: {pageState}}}\n */\nexport function getActionsAndReducers({models}) {\n    const syncKeys = Object.keys(models).filter(key => {\n        const {syncStorage} = models[key];\n        return !!syncStorage;\n    });\n\n    const utils = actionUtils({syncKeys});\n    let _actions = checkAction({utils});\n    let _reducers = {};\n\n    Object.keys(models).forEach(modelName => {\n        const model = models[modelName];\n        let {\n            initialState = {},\n            syncStorage,\n            actions = {},\n            reducers = {},\n        } = model;\n\n        const __actionTypes = {};\n\n        initialState.__actionTypes = __actionTypes;\n\n        // 处理action reducer 合并写法\n        // 除去'initialState', 'syncStorage', 'actions', 'reducers'等约定属性，其他都视为actions与reducers合并写法\n        const ar = {};\n        Object.keys(model).forEach(item => {\n            if (['initialState', 'syncStorage', 'actions', 'reducers'].indexOf(item) === -1) {\n                ar[item] = model[item];\n            }\n        });\n\n        const arActions = {};\n        const arReducers = {};\n        Object.keys(ar).forEach((actionName, index) => {\n            const type = `type-${actionName}-${modelName}-${index}`.toUpperCase(); // 保证唯一并增强type可读性，方便调试；\n            __actionTypes[actionName] = type;\n\n            const arValue = ar[actionName];\n\n            if (typeof arValue === 'function') { // ar 函数写法\n                arActions[actionName] = createAction(type);\n                // arReducers[type] = arValue;\n                arReducers[type] = (state, action) => {\n                    const {payload} = action;\n                    return arValue(payload, state, action);\n                };\n            } else { // ar 对象写法\n                let {payload = identity, meta, reducer = (state) => ({...state})} = arValue;\n\n                // 处理meta默认值\n                if (!meta) {\n                    if (payload && typeof payload.then === 'function') { // is promise\n                        meta = commonAsyncMeta; // 异步默认meta\n                    } else {\n                        meta = identity; // 非异步默认 meta\n                    }\n                }\n\n                let metaCreator = meta;\n                let payloadCreator = payload;\n\n                // 非函数时，处理\n                if (typeof payloadCreator !== 'function') payloadCreator = () => payload;\n                if (typeof metaCreator !== 'function') metaCreator = () => meta;\n\n                arActions[actionName] = createAction(type, payloadCreator, metaCreator);\n                arReducers[type] = reducer;\n            }\n\n        });\n\n        reducers = {...reducers, ...arReducers};\n        actions = {...actions, ...arActions};\n\n        // 处理reducer\n        const __reducers = {};\n        Object.keys(reducers).forEach(key => {\n            const reducer = reducers[key];\n\n            if (typeof reducer === 'object') {\n                // 对象写法 视为异步reducer\n                // _handleAsyncReducer内部对新、旧state自动进行了合并，异步reducer各个函数（padding、resolve等）只需要返回新数据即可\n                __reducers[key] = _handleAsyncReducer(reducer);\n            } else {\n                // 函数视为普通reducer, 进行新、旧state合并，model中的reducer只返回新数据即可\n                __reducers[key] = (state, action) => {\n                    const newState = reducer(state, action) || {}; // 允许reducer不返回数据\n\n                    // 检测 newState是否为对象\n                    const isObject = typeof newState === 'object' && !Array.isArray(newState);\n                    if (!isObject) {\n                        console.error(`model method must return an object! check '${modelName}' method`);\n                    }\n                    // 检测新数据是否存在未在初始化state中定义的数据\n                    const newStateKeys = Object.keys(newState);\n\n                    const initialStateKeys = Object.keys(initialState);\n\n                    newStateKeys.forEach(newKey => {\n                        if (!initialStateKeys.includes(newKey)) {\n                            console.error(`model method return {${newKey}} is not in ${modelName}.initialState! please define '${newKey}' in ${modelName}.initialState!`);\n                        }\n                    });\n\n                    return {\n                        ...state,\n                        ...newState,\n                    };\n                };\n            }\n        });\n\n        if (syncStorage) {\n            // 为meta添加__model_sync_name 和 __model_sync_state 属性，同步中间件会用到\n            Object.keys(actions).forEach(item => {\n                const actionCreator = actions[item];\n                actions[item] = (...args) => {\n                    const action = actionCreator(...args);\n                    action.meta = action.meta === void 0 ? {} : action.meta;\n                    if (typeof action.meta !== 'object') throw new Error(`when model has syncStorage property，meta must be an object! check ${modelName} ${item} action method`);\n\n                    action.meta.__model_sync_name = modelName;\n                    action.meta.__model_sync_state = syncStorage;\n\n                    return action;\n                };\n            });\n\n            // 从 store中恢复数据的reducer 如果为定义，使用默认reducers\n            if (!__reducers[actionTypes.GET_STATE_FROM_STORAGE]) {\n                __reducers[actionTypes.GET_STATE_FROM_STORAGE] = (state, action) => {\n                    const {payload = {}} = action;\n                    // state 为当前模块的初始化数据，data为当前模块存储的数据\n                    const data = payload[modelName] || {};\n\n                    // 深层结构的数据，会导致默认值失效，要使用递归，精确赋值\n                    return setObjectByObject(state, data);\n                };\n            }\n        }\n        _actions[modelName] = actions;\n        _reducers[modelName] = handleActions(__reducers, initialState);\n    });\n\n    return {\n        actions: _actions,\n        reducers: _reducers,\n    }\n}\n\n\n/**\n * 根据 mapObj 的结构，获取 originObj 对应结构的数据\n * @param originObj\n * @param mapObj\n * @returns {{}}\n */\nfunction setObjectByObject(originObj, mapObj = {}) {\n    if (!originObj) return null;\n\n    mapObj && Object.keys(mapObj).forEach(key => {\n        const value = mapObj[key];\n        if (typeof value === 'object' && !Array.isArray(value)) {\n            originObj[key] = setObjectByObject(originObj[key], value);\n        } else {\n            originObj[key] = value;\n        }\n    });\n    return originObj\n}\n\n/**\n * 通用异步Meta处理，默认启用errorTip，禁用successTip，onResolve，onReject回调\n * @param successTip\n * @param errorTip\n * @param onResolve\n * @param onReject\n * @param onComplete\n * @returns {{successTip: boolean, errorTip, onResolve: *, onReject: *, onComplete: *}}\n */\nexport function commonAsyncMeta({\n                                    successTip = false,\n                                    errorTip,\n                                    onResolve,\n                                    onReject,\n                                    onComplete,\n                                }) {\n    return {\n        successTip,\n        errorTip,\n        onResolve,\n        onReject,\n        onComplete,\n    }\n}\n\nexport const __DO_NOT_USE__ActionTypes = _actionTypes;\n","export default function asyncActionCallbackMiddleware() {\n    return next => action => {\n        const {meta = {}, error, payload} = action;\n        const {sequence = {}, onResolve, onReject, onComplete} = meta;\n        if (sequence.type !== 'next') return next(action);\n\n        // do callback\n        if (error) { // error 为标记是否出错 payload为error对象\n            onReject && onReject(payload);\n            onComplete && onComplete(payload);\n        } else {\n            onResolve && onResolve(payload);\n            onComplete && onComplete(null, payload);\n        }\n\n        next(action);\n    };\n}\n","import {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nexport default function defaultConnect({actions, options}) {\n    return function connectComponent(component) {\n        const {\n            mapStateToProps = () => ({}),\n            mapDispatchToProps = (dispatch) => {\n                const ac = bindActionCreators(actions, dispatch);\n                Object.keys(actions).forEach(key => {\n                    if (typeof actions[key] === 'object') {\n                        ac[key] = bindActionCreators(actions[key], dispatch);\n                    }\n                });\n\n                return {action: ac};\n            },\n            mergeProps,\n            LayoutComponent,\n        } = component;\n\n        // 只要组件导出了mapStateToProps，就说明要与redux进行连接\n        // 优先获取LayoutComponent，如果不存在，获取default\n        if (mapStateToProps) {\n            let com = LayoutComponent || component.default;\n            if (!com) return component;\n            return connect(\n                mapStateToProps,\n                mapDispatchToProps,\n                mergeProps,\n                options\n            )(com);\n        }\n        return LayoutComponent || component.default || component; // 如果 component有多个导出，优先LayoutComponent，其次使用默认导出\n    };\n}\n","import {getHandleError, getHandleSuccess} from './index';\n\nexport default function utilsMiddleware() {\n    return next => action => {\n        const handleError = getHandleError();\n        const handleSuccess = getHandleSuccess();\n        const {payload, error, meta = {}} = action;\n        const {sequence = {}, successTip, errorTip} = meta;\n        // error handle\n        if (error) {\n            handleError({\n                error: payload,\n                errorTip,\n            });\n        }\n        if (sequence.type === 'next' && !error) {\n            handleSuccess({successTip});\n        }\n        next(action);\n    };\n}\n","export default function checkActions(acs) {\n    const actionsFunctions = {};\n    for (let key of Object.keys(acs)) {\n        const action = acs[key];\n        for (let k of Object.keys(action)) {\n            if (actionsFunctions[k]) {\n                throw Error(`不予许定义同名的action方法：${key}.${k} 与 ${actionsFunctions[k]._module}.${k} 方法冲突！`);\n            } else {\n                actionsFunctions[k] = action[k];\n                actionsFunctions[k]._module = key;\n            }\n        }\n    }\n    return actionsFunctions;\n}\n","import {createAction} from 'redux-actions';\nimport * as types from './action-types';\nimport {getStorage} from './index';\n\n\nexport default function ({syncKeys = []}) {\n    return {\n        // 同步本地数据到state中，一般在项目启动时，会调用此action进行同步。各个模块的reducer要对应的函数处理同步逻辑\n        getStateFromStorage: createAction(types.GET_STATE_FROM_STORAGE, () => {\n            const Storage = getStorage();\n            return Storage.multiGet(syncKeys);\n        }, (onResolve, onReject, onComplete) => {\n            return {\n                onResolve,\n                onReject,\n                onComplete,\n            };\n        }),\n    };\n}\n","import React from 'react';\nimport {Link as RLink, Route} from 'react-router-dom';\n\n/**\n * 页面Link组件，如果当前url已经匹配当前link了，点击无效\n * @param children\n * @param to\n * @param others\n * @returns {*}\n * @constructor\n */\nexport default function Link({children, to, ...others}) {\n    const path = typeof to === 'object' ? to.pathname : to;\n    return (\n        <Route\n            path={path}\n            exact\n            children={({match}) => {\n                return match ? <a>{children}</a> : <RLink to={to} {...others}>{children}</RLink>;\n            }}\n        />\n    );\n}\n"],"sourceRoot":""}